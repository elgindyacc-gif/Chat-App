import{c as f,r as a,j as e}from"./index-D7he1i6_.js";import{A as p,b as g,a as w}from"./avatar-CAwhaa4I.js";import{E as N}from"./ellipsis-vertical-Behnx7gN.js";import{X as y}from"./x-JNGtBUds.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],_=f("chevron-left",k);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],C=f("chevron-right",I);function T({items:i,initialIndex:b=0,onClose:d,onNext:E,onPrevious:x}){const[s,u]=a.useState(b),[j,c]=a.useState(0),o=a.useRef(null),t=i[s],n=a.useCallback(()=>{s<i.length-1?(u(l=>l+1),c(0)):d()},[s,i.length,d]),h=a.useCallback(()=>{s>0?(u(l=>l-1),c(0)):x&&x()},[s,x]);return a.useEffect(()=>{if(!t)return;c(0);const l=5e3,r=50,v=r/l*100;return o.current=setInterval(()=>{c(m=>m>=100?(clearInterval(o.current),n(),100):m+v)},r),()=>{o.current&&clearInterval(o.current)}},[s,t,n]),t?e.jsxs("div",{className:"fixed inset-0 z-[1000] bg-black flex flex-col md:rounded-3xl overflow-hidden shadow-2xl",children:[e.jsxs("div",{className:"absolute top-0 left-0 w-full p-4 z-50 bg-gradient-to-b from-black/60 to-transparent",children:[e.jsx("div",{className:"flex gap-1 mb-4",children:i.map((l,r)=>e.jsx("div",{className:"flex-1 h-1 bg-white/20 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-white transition-all duration-50",style:{width:r<s?"100%":r===s?`${j}%`:"0%"}})},r))}),e.jsxs("div",{className:"flex items-center justify-between text-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(p,{className:"w-10 h-10 border border-white/20",children:[e.jsx(g,{src:t.user_avatar}),e.jsx(w,{children:t.user_name.charAt(0)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-sm",children:t.user_name}),e.jsx("p",{className:"text-[10px] opacity-60",children:new Date(t.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:e.jsx(N,{className:"w-5 h-5"})}),e.jsx("button",{onClick:d,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:e.jsx(y,{className:"w-6 h-6"})})]})]})]}),e.jsxs("div",{className:"flex-1 flex items-center justify-center relative",children:[t.content_type==="text"&&e.jsx("div",{className:"w-full h-full flex items-center justify-center p-10 bg-gradient-to-br from-indigo-600 to-violet-700",children:e.jsx("p",{className:"text-3xl font-bold text-white text-center leading-relaxed",children:t.text})}),t.content_type==="image"&&e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center relative",children:[e.jsx("img",{src:t.content_url,alt:"Status",className:"max-w-full max-h-full object-contain"}),t.text&&e.jsx("div",{className:"absolute bottom-10 left-0 w-full px-6 py-4 bg-gradient-to-t from-black/80 to-transparent text-white text-center text-lg font-medium",children:t.text})]}),t.content_type==="video"&&e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center relative",children:[e.jsx("video",{src:t.content_url,autoPlay:!0,onEnded:n,className:"max-w-full max-h-full"}),t.text&&e.jsx("div",{className:"absolute bottom-10 left-0 w-full px-6 py-4 bg-gradient-to-t from-black/80 to-transparent text-white text-center text-lg font-medium",children:t.text})]}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-1 h-full cursor-pointer",onClick:h}),e.jsx("div",{className:"flex-1 h-full cursor-pointer",onClick:n})]})]}),e.jsx("div",{className:"hidden md:flex absolute inset-y-0 -left-16 items-center",children:e.jsx("button",{onClick:h,className:"p-3 bg-white/10 hover:bg-white/20 rounded-full text-white transition-all backdrop-blur-md border border-white/10",children:e.jsx(_,{className:"w-8 h-8"})})}),e.jsx("div",{className:"hidden md:flex absolute inset-y-0 -right-16 items-center",children:e.jsx("button",{onClick:n,className:"p-3 bg-white/10 hover:bg-white/20 rounded-full text-white transition-all backdrop-blur-md border border-white/10",children:e.jsx(C,{className:"w-8 h-8"})})})]}):null}export{T as StatusViewer};
