(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function uy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _u={exports:{}},uo={},Su={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function S1(){if(Dm)return We;Dm=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function w(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function _(C,V,ee){this.props=C,this.context=V,this.refs=E,this.updater=ee||b}_.prototype.isReactComponent={},_.prototype.setState=function(C,V){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,V,"setState")},_.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function j(){}j.prototype=_.prototype;function N(C,V,ee){this.props=C,this.context=V,this.refs=E,this.updater=ee||b}var P=N.prototype=new j;P.constructor=N,S(P,_.prototype),P.isPureReactComponent=!0;var $=Array.isArray,F=Object.prototype.hasOwnProperty,z={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function I(C,V,ee){var re,ye={},oe=null,xe=null;if(V!=null)for(re in V.ref!==void 0&&(xe=V.ref),V.key!==void 0&&(oe=""+V.key),V)F.call(V,re)&&!H.hasOwnProperty(re)&&(ye[re]=V[re]);var Oe=arguments.length-2;if(Oe===1)ye.children=ee;else if(1<Oe){for(var Ie=Array(Oe),Ye=0;Ye<Oe;Ye++)Ie[Ye]=arguments[Ye+2];ye.children=Ie}if(C&&C.defaultProps)for(re in Oe=C.defaultProps,Oe)ye[re]===void 0&&(ye[re]=Oe[re]);return{$$typeof:t,type:C,key:oe,ref:xe,props:ye,_owner:z.current}}function J(C,V){return{$$typeof:t,type:C.type,key:V,ref:C.ref,props:C.props,_owner:C._owner}}function ue(C){return typeof C=="object"&&C!==null&&C.$$typeof===t}function Te(C){var V={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ee){return V[ee]})}var Me=/\/+/g;function Le(C,V){return typeof C=="object"&&C!==null&&C.key!=null?Te(""+C.key):V.toString(36)}function He(C,V,ee,re,ye){var oe=typeof C;(oe==="undefined"||oe==="boolean")&&(C=null);var xe=!1;if(C===null)xe=!0;else switch(oe){case"string":case"number":xe=!0;break;case"object":switch(C.$$typeof){case t:case e:xe=!0}}if(xe)return xe=C,ye=ye(xe),C=re===""?"."+Le(xe,0):re,$(ye)?(ee="",C!=null&&(ee=C.replace(Me,"$&/")+"/"),He(ye,V,ee,"",function(Ye){return Ye})):ye!=null&&(ue(ye)&&(ye=J(ye,ee+(!ye.key||xe&&xe.key===ye.key?"":(""+ye.key).replace(Me,"$&/")+"/")+C)),V.push(ye)),1;if(xe=0,re=re===""?".":re+":",$(C))for(var Oe=0;Oe<C.length;Oe++){oe=C[Oe];var Ie=re+Le(oe,Oe);xe+=He(oe,V,ee,Ie,ye)}else if(Ie=w(C),typeof Ie=="function")for(C=Ie.call(C),Oe=0;!(oe=C.next()).done;)oe=oe.value,Ie=re+Le(oe,Oe++),xe+=He(oe,V,ee,Ie,ye);else if(oe==="object")throw V=String(C),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return xe}function Pe(C,V,ee){if(C==null)return C;var re=[],ye=0;return He(C,re,"","",function(oe){return V.call(ee,oe,ye++)}),re}function ce(C){if(C._status===-1){var V=C._result;V=V(),V.then(function(ee){(C._status===0||C._status===-1)&&(C._status=1,C._result=ee)},function(ee){(C._status===0||C._status===-1)&&(C._status=2,C._result=ee)}),C._status===-1&&(C._status=0,C._result=V)}if(C._status===1)return C._result.default;throw C._result}var te={current:null},O={transition:null},W={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:O,ReactCurrentOwner:z};function Q(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:Pe,forEach:function(C,V,ee){Pe(C,function(){V.apply(this,arguments)},ee)},count:function(C){var V=0;return Pe(C,function(){V++}),V},toArray:function(C){return Pe(C,function(V){return V})||[]},only:function(C){if(!ue(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},We.Component=_,We.Fragment=n,We.Profiler=o,We.PureComponent=N,We.StrictMode=i,We.Suspense=h,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,We.act=Q,We.cloneElement=function(C,V,ee){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var re=S({},C.props),ye=C.key,oe=C.ref,xe=C._owner;if(V!=null){if(V.ref!==void 0&&(oe=V.ref,xe=z.current),V.key!==void 0&&(ye=""+V.key),C.type&&C.type.defaultProps)var Oe=C.type.defaultProps;for(Ie in V)F.call(V,Ie)&&!H.hasOwnProperty(Ie)&&(re[Ie]=V[Ie]===void 0&&Oe!==void 0?Oe[Ie]:V[Ie])}var Ie=arguments.length-2;if(Ie===1)re.children=ee;else if(1<Ie){Oe=Array(Ie);for(var Ye=0;Ye<Ie;Ye++)Oe[Ye]=arguments[Ye+2];re.children=Oe}return{$$typeof:t,type:C.type,key:ye,ref:oe,props:re,_owner:xe}},We.createContext=function(C){return C={$$typeof:c,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:l,_context:C},C.Consumer=C},We.createElement=I,We.createFactory=function(C){var V=I.bind(null,C);return V.type=C,V},We.createRef=function(){return{current:null}},We.forwardRef=function(C){return{$$typeof:d,render:C}},We.isValidElement=ue,We.lazy=function(C){return{$$typeof:v,_payload:{_status:-1,_result:C},_init:ce}},We.memo=function(C,V){return{$$typeof:p,type:C,compare:V===void 0?null:V}},We.startTransition=function(C){var V=O.transition;O.transition={};try{C()}finally{O.transition=V}},We.unstable_act=Q,We.useCallback=function(C,V){return te.current.useCallback(C,V)},We.useContext=function(C){return te.current.useContext(C)},We.useDebugValue=function(){},We.useDeferredValue=function(C){return te.current.useDeferredValue(C)},We.useEffect=function(C,V){return te.current.useEffect(C,V)},We.useId=function(){return te.current.useId()},We.useImperativeHandle=function(C,V,ee){return te.current.useImperativeHandle(C,V,ee)},We.useInsertionEffect=function(C,V){return te.current.useInsertionEffect(C,V)},We.useLayoutEffect=function(C,V){return te.current.useLayoutEffect(C,V)},We.useMemo=function(C,V){return te.current.useMemo(C,V)},We.useReducer=function(C,V,ee){return te.current.useReducer(C,V,ee)},We.useRef=function(C){return te.current.useRef(C)},We.useState=function(C){return te.current.useState(C)},We.useSyncExternalStore=function(C,V,ee){return te.current.useSyncExternalStore(C,V,ee)},We.useTransition=function(){return te.current.useTransition()},We.version="18.3.1",We}var Mm;function rh(){return Mm||(Mm=1,Su.exports=S1()),Su.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function k1(){if(Lm)return uo;Lm=1;var t=rh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,h,p){var v,y={},w=null,b=null;p!==void 0&&(w=""+p),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(b=h.ref);for(v in h)i.call(h,v)&&!l.hasOwnProperty(v)&&(y[v]=h[v]);if(d&&d.defaultProps)for(v in h=d.defaultProps,h)y[v]===void 0&&(y[v]=h[v]);return{$$typeof:e,type:d,key:w,ref:b,props:y,_owner:o.current}}return uo.Fragment=n,uo.jsx=c,uo.jsxs=c,uo}var $m;function E1(){return $m||($m=1,_u.exports=k1()),_u.exports}var m=E1(),Ya={},ku={exports:{}},un={},Eu={exports:{}},Tu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm;function T1(){return Vm||(Vm=1,(function(t){function e(O,W){var Q=O.length;O.push(W);e:for(;0<Q;){var C=Q-1>>>1,V=O[C];if(0<o(V,W))O[C]=W,O[Q]=V,Q=C;else break e}}function n(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var W=O[0],Q=O.pop();if(Q!==W){O[0]=Q;e:for(var C=0,V=O.length,ee=V>>>1;C<ee;){var re=2*(C+1)-1,ye=O[re],oe=re+1,xe=O[oe];if(0>o(ye,Q))oe<V&&0>o(xe,ye)?(O[C]=xe,O[oe]=Q,C=oe):(O[C]=ye,O[re]=Q,C=re);else if(oe<V&&0>o(xe,Q))O[C]=xe,O[oe]=Q,C=oe;else break e}}return W}function o(O,W){var Q=O.sortIndex-W.sortIndex;return Q!==0?Q:O.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],p=[],v=1,y=null,w=3,b=!1,S=!1,E=!1,_=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(O){for(var W=n(p);W!==null;){if(W.callback===null)i(p);else if(W.startTime<=O)i(p),W.sortIndex=W.expirationTime,e(h,W);else break;W=n(p)}}function $(O){if(E=!1,P(O),!S)if(n(h)!==null)S=!0,ce(F);else{var W=n(p);W!==null&&te($,W.startTime-O)}}function F(O,W){S=!1,E&&(E=!1,j(I),I=-1),b=!0;var Q=w;try{for(P(W),y=n(h);y!==null&&(!(y.expirationTime>W)||O&&!Te());){var C=y.callback;if(typeof C=="function"){y.callback=null,w=y.priorityLevel;var V=C(y.expirationTime<=W);W=t.unstable_now(),typeof V=="function"?y.callback=V:y===n(h)&&i(h),P(W)}else i(h);y=n(h)}if(y!==null)var ee=!0;else{var re=n(p);re!==null&&te($,re.startTime-W),ee=!1}return ee}finally{y=null,w=Q,b=!1}}var z=!1,H=null,I=-1,J=5,ue=-1;function Te(){return!(t.unstable_now()-ue<J)}function Me(){if(H!==null){var O=t.unstable_now();ue=O;var W=!0;try{W=H(!0,O)}finally{W?Le():(z=!1,H=null)}}else z=!1}var Le;if(typeof N=="function")Le=function(){N(Me)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,Pe=He.port2;He.port1.onmessage=Me,Le=function(){Pe.postMessage(null)}}else Le=function(){_(Me,0)};function ce(O){H=O,z||(z=!0,Le())}function te(O,W){I=_(function(){O(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){S||b||(S=!0,ce(F))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(O){switch(w){case 1:case 2:case 3:var W=3;break;default:W=w}var Q=w;w=W;try{return O()}finally{w=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,W){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var Q=w;w=O;try{return W()}finally{w=Q}},t.unstable_scheduleCallback=function(O,W,Q){var C=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?C+Q:C):Q=C,O){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=Q+V,O={id:v++,callback:W,priorityLevel:O,startTime:Q,expirationTime:V,sortIndex:-1},Q>C?(O.sortIndex=Q,e(p,O),n(h)===null&&O===n(p)&&(E?(j(I),I=-1):E=!0,te($,Q-C))):(O.sortIndex=V,e(h,O),S||b||(S=!0,ce(F))),O},t.unstable_shouldYield=Te,t.unstable_wrapCallback=function(O){var W=w;return function(){var Q=w;w=W;try{return O.apply(this,arguments)}finally{w=Q}}}})(Tu)),Tu}var Um;function C1(){return Um||(Um=1,Eu.exports=T1()),Eu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function N1(){if(Bm)return un;Bm=1;var t=rh(),e=C1();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},y={};function w(r){return h.call(y,r)?!0:h.call(v,r)?!1:p.test(r)?y[r]=!0:(v[r]=!0,!1)}function b(r,s,a,u){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return u?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function S(r,s,a,u){if(s===null||typeof s>"u"||b(r,s,a,u))return!0;if(u)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function E(r,s,a,u,f,g,x){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=u,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=x}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){_[r]=new E(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];_[s]=new E(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){_[r]=new E(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){_[r]=new E(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){_[r]=new E(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){_[r]=new E(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){_[r]=new E(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){_[r]=new E(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){_[r]=new E(r,5,!1,r.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function N(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(j,N);_[s]=new E(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(j,N);_[s]=new E(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(j,N);_[s]=new E(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){_[r]=new E(r,1,!1,r.toLowerCase(),null,!1,!1)}),_.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){_[r]=new E(r,1,!1,r.toLowerCase(),null,!0,!0)});function P(r,s,a,u){var f=_.hasOwnProperty(s)?_[s]:null;(f!==null?f.type!==0:u||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(S(s,a,f,u)&&(a=null),u||f===null?w(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,u=f.attributeNamespace,a===null?r.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,u?r.setAttributeNS(u,s,a):r.setAttribute(s,a))))}var $=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),z=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),ue=Symbol.for("react.provider"),Te=Symbol.for("react.context"),Me=Symbol.for("react.forward_ref"),Le=Symbol.for("react.suspense"),He=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),O=Symbol.iterator;function W(r){return r===null||typeof r!="object"?null:(r=O&&r[O]||r["@@iterator"],typeof r=="function"?r:null)}var Q=Object.assign,C;function V(r){if(C===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);C=s&&s[1]||""}return`
`+C+r}var ee=!1;function re(r,s){if(!r||ee)return"";ee=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(L){var u=L}Reflect.construct(r,[],s)}else{try{s.call()}catch(L){u=L}r.call(s.prototype)}else{try{throw Error()}catch(L){u=L}r()}}catch(L){if(L&&u&&typeof L.stack=="string"){for(var f=L.stack.split(`
`),g=u.stack.split(`
`),x=f.length-1,k=g.length-1;1<=x&&0<=k&&f[x]!==g[k];)k--;for(;1<=x&&0<=k;x--,k--)if(f[x]!==g[k]){if(x!==1||k!==1)do if(x--,k--,0>k||f[x]!==g[k]){var A=`
`+f[x].replace(" at new "," at ");return r.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",r.displayName)),A}while(1<=x&&0<=k);break}}}finally{ee=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?V(r):""}function ye(r){switch(r.tag){case 5:return V(r.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return r=re(r.type,!1),r;case 11:return r=re(r.type.render,!1),r;case 1:return r=re(r.type,!0),r;default:return""}}function oe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case H:return"Fragment";case z:return"Portal";case J:return"Profiler";case I:return"StrictMode";case Le:return"Suspense";case He:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case Te:return(r.displayName||"Context")+".Consumer";case ue:return(r._context.displayName||"Context")+".Provider";case Me:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Pe:return s=r.displayName||null,s!==null?s:oe(r.type)||"Memo";case ce:s=r._payload,r=r._init;try{return oe(r(s))}catch{}}return null}function xe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Oe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ie(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ye(r){var s=Ie(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(x){u=""+x,g.call(this,x)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(x){u=""+x},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Y(r){r._valueTracker||(r._valueTracker=Ye(r))}function Ne(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),u="";return r&&(u=Ie(r)?r.checked?"true":"false":r.value),r=u,r!==a?(s.setValue(r),!0):!1}function Xe(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function mt(r,s){var a=s.checked;return Q({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Pt(r,s){var a=s.defaultValue==null?"":s.defaultValue,u=s.checked!=null?s.checked:s.defaultChecked;a=Oe(s.value!=null?s.value:a),r._wrapperState={initialChecked:u,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function nn(r,s){s=s.checked,s!=null&&P(r,"checked",s,!1)}function Pn(r,s){nn(r,s);var a=Oe(s.value),u=s.type;if(a!=null)u==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(u==="submit"||u==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Gt(r,s.type,a):s.hasOwnProperty("defaultValue")&&Gt(r,s.type,Oe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Jr(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var u=s.type;if(!(u!=="submit"&&u!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Gt(r,s,a){(s!=="number"||Xe(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Lt=Array.isArray;function xt(r,s,a,u){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&u&&(r[a].defaultSelected=!0)}else{for(a=""+Oe(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function Fe(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return Q({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Jt(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(n(92));if(Lt(a)){if(1<a.length)throw Error(n(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Oe(a)}}function In(r,s){var a=Oe(s.value),u=Oe(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),u!=null&&(r.defaultValue=""+u)}function As(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function lt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xr(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?lt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var tr,nr=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,u,f){MSApp.execUnsafeLocalFunction(function(){return r(s,a,u,f)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(tr=tr||document.createElement("div"),tr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=tr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Yt(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var mn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qn=["Webkit","ms","Moz","O"];Object.keys(mn).forEach(function(r){qn.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),mn[s]=mn[r]})});function Rs(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||mn.hasOwnProperty(r)&&mn[r]?(""+s).trim():s+"px"}function Ps(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var u=a.indexOf("--")===0,f=Rs(a,s[a],u);a==="float"&&(a="cssFloat"),u?r.setProperty(a,f):r[a]=f}}var U=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ne(r,s){if(s){if(U[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function K(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var B=null;function se(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ae=null,be=null,De=null;function $e(r){if(r=Ji(r)){if(typeof ae!="function")throw Error(n(280));var s=r.stateNode;s&&(s=da(s),ae(r.stateNode,r.type,s))}}function he(r){be?De?De.push(r):De=[r]:be=r}function qe(){if(be){var r=be,s=De;if(De=be=null,$e(r),s)for(r=0;r<s.length;r++)$e(s[r])}}function et(r,s){return r(s)}function Qe(){}var Ge=!1;function Ae(r,s,a){if(Ge)return r(s,a);Ge=!0;try{return et(r,s,a)}finally{Ge=!1,(be!==null||De!==null)&&(Qe(),qe())}}function ct(r,s){var a=r.stateNode;if(a===null)return null;var u=da(a);if(u===null)return null;a=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(n(231,s,typeof a));return a}var Xt=!1;if(d)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){Xt=!0}}),window.addEventListener("test",tt,tt),window.removeEventListener("test",tt,tt)}catch{Xt=!1}function gt(r,s,a,u,f,g,x,k,A){var L=Array.prototype.slice.call(arguments,3);try{s.apply(a,L)}catch(G){this.onError(G)}}var Qt=!1,rn=null,Ai=!1,Bl=null,Ax={onError:function(r){Qt=!0,rn=r}};function Rx(r,s,a,u,f,g,x,k,A){Qt=!1,rn=null,gt.apply(Ax,arguments)}function Px(r,s,a,u,f,g,x,k,A){if(Rx.apply(this,arguments),Qt){if(Qt){var L=rn;Qt=!1,rn=null}else throw Error(n(198));Ai||(Ai=!0,Bl=L)}}function Yr(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function rf(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function sf(r){if(Yr(r)!==r)throw Error(n(188))}function Ix(r){var s=r.alternate;if(!s){if(s=Yr(r),s===null)throw Error(n(188));return s!==r?null:r}for(var a=r,u=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return sf(f),r;if(g===u)return sf(f),s;g=g.sibling}throw Error(n(188))}if(a.return!==u.return)a=f,u=g;else{for(var x=!1,k=f.child;k;){if(k===a){x=!0,a=f,u=g;break}if(k===u){x=!0,u=f,a=g;break}k=k.sibling}if(!x){for(k=g.child;k;){if(k===a){x=!0,a=g,u=f;break}if(k===u){x=!0,u=g,a=f;break}k=k.sibling}if(!x)throw Error(n(189))}}if(a.alternate!==u)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?r:s}function of(r){return r=Ix(r),r!==null?af(r):null}function af(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=af(r);if(s!==null)return s;r=r.sibling}return null}var lf=e.unstable_scheduleCallback,cf=e.unstable_cancelCallback,Ox=e.unstable_shouldYield,Dx=e.unstable_requestPaint,bt=e.unstable_now,Mx=e.unstable_getCurrentPriorityLevel,Fl=e.unstable_ImmediatePriority,uf=e.unstable_UserBlockingPriority,Wo=e.unstable_NormalPriority,Lx=e.unstable_LowPriority,df=e.unstable_IdlePriority,qo=null,Kn=null;function $x(r){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(qo,r,void 0,(r.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:Bx,Vx=Math.log,Ux=Math.LN2;function Bx(r){return r>>>=0,r===0?32:31-(Vx(r)/Ux|0)|0}var Ko=64,Go=4194304;function Ri(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Jo(r,s){var a=r.pendingLanes;if(a===0)return 0;var u=0,f=r.suspendedLanes,g=r.pingedLanes,x=a&268435455;if(x!==0){var k=x&~f;k!==0?u=Ri(k):(g&=x,g!==0&&(u=Ri(g)))}else x=a&~f,x!==0?u=Ri(x):g!==0&&(u=Ri(g));if(u===0)return 0;if(s!==0&&s!==u&&(s&f)===0&&(f=u&-u,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if((u&4)!==0&&(u|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=u;0<s;)a=31-On(s),f=1<<a,u|=r[a],s&=~f;return u}function Fx(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zx(r,s){for(var a=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var x=31-On(g),k=1<<x,A=f[x];A===-1?((k&a)===0||(k&u)!==0)&&(f[x]=Fx(k,s)):A<=s&&(r.expiredLanes|=k),g&=~k}}function zl(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function hf(){var r=Ko;return Ko<<=1,(Ko&4194240)===0&&(Ko=64),r}function Hl(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Pi(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-On(s),r[s]=a}function Hx(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var u=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-On(a),g=1<<f;s[f]=0,u[f]=-1,r[f]=-1,a&=~g}}function Wl(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var u=31-On(a),f=1<<u;f&s|r[u]&s&&(r[u]|=s),a&=~f}}var Ze=0;function ff(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var pf,ql,mf,gf,yf,Kl=!1,Yo=[],br=null,_r=null,Sr=null,Ii=new Map,Oi=new Map,kr=[],Wx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vf(r,s){switch(r){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":Ii.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oi.delete(s.pointerId)}}function Di(r,s,a,u,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Ji(s),s!==null&&ql(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function qx(r,s,a,u,f){switch(s){case"focusin":return br=Di(br,r,s,a,u,f),!0;case"dragenter":return _r=Di(_r,r,s,a,u,f),!0;case"mouseover":return Sr=Di(Sr,r,s,a,u,f),!0;case"pointerover":var g=f.pointerId;return Ii.set(g,Di(Ii.get(g)||null,r,s,a,u,f)),!0;case"gotpointercapture":return g=f.pointerId,Oi.set(g,Di(Oi.get(g)||null,r,s,a,u,f)),!0}return!1}function wf(r){var s=Xr(r.target);if(s!==null){var a=Yr(s);if(a!==null){if(s=a.tag,s===13){if(s=rf(a),s!==null){r.blockedOn=s,yf(r.priority,function(){mf(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Xo(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Jl(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var u=new a.constructor(a.type,a);B=u,a.target.dispatchEvent(u),B=null}else return s=Ji(a),s!==null&&ql(s),r.blockedOn=a,!1;s.shift()}return!0}function xf(r,s,a){Xo(r)&&a.delete(s)}function Kx(){Kl=!1,br!==null&&Xo(br)&&(br=null),_r!==null&&Xo(_r)&&(_r=null),Sr!==null&&Xo(Sr)&&(Sr=null),Ii.forEach(xf),Oi.forEach(xf)}function Mi(r,s){r.blockedOn===s&&(r.blockedOn=null,Kl||(Kl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Kx)))}function Li(r){function s(f){return Mi(f,r)}if(0<Yo.length){Mi(Yo[0],r);for(var a=1;a<Yo.length;a++){var u=Yo[a];u.blockedOn===r&&(u.blockedOn=null)}}for(br!==null&&Mi(br,r),_r!==null&&Mi(_r,r),Sr!==null&&Mi(Sr,r),Ii.forEach(s),Oi.forEach(s),a=0;a<kr.length;a++)u=kr[a],u.blockedOn===r&&(u.blockedOn=null);for(;0<kr.length&&(a=kr[0],a.blockedOn===null);)wf(a),a.blockedOn===null&&kr.shift()}var Is=$.ReactCurrentBatchConfig,Qo=!0;function Gx(r,s,a,u){var f=Ze,g=Is.transition;Is.transition=null;try{Ze=1,Gl(r,s,a,u)}finally{Ze=f,Is.transition=g}}function Jx(r,s,a,u){var f=Ze,g=Is.transition;Is.transition=null;try{Ze=4,Gl(r,s,a,u)}finally{Ze=f,Is.transition=g}}function Gl(r,s,a,u){if(Qo){var f=Jl(r,s,a,u);if(f===null)hc(r,s,u,Zo,a),vf(r,u);else if(qx(f,r,s,a,u))u.stopPropagation();else if(vf(r,u),s&4&&-1<Wx.indexOf(r)){for(;f!==null;){var g=Ji(f);if(g!==null&&pf(g),g=Jl(r,s,a,u),g===null&&hc(r,s,u,Zo,a),g===f)break;f=g}f!==null&&u.stopPropagation()}else hc(r,s,u,null,a)}}var Zo=null;function Jl(r,s,a,u){if(Zo=null,r=se(u),r=Xr(r),r!==null)if(s=Yr(r),s===null)r=null;else if(a=s.tag,a===13){if(r=rf(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Zo=r,null}function bf(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mx()){case Fl:return 1;case uf:return 4;case Wo:case Lx:return 16;case df:return 536870912;default:return 16}default:return 16}}var Er=null,Yl=null,ea=null;function _f(){if(ea)return ea;var r,s=Yl,a=s.length,u,f="value"in Er?Er.value:Er.textContent,g=f.length;for(r=0;r<a&&s[r]===f[r];r++);var x=a-r;for(u=1;u<=x&&s[a-u]===f[g-u];u++);return ea=f.slice(r,1<u?1-u:void 0)}function ta(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function na(){return!0}function Sf(){return!1}function gn(r){function s(a,u,f,g,x){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(a=r[k],this[k]=a?a(g):g[k]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?na:Sf,this.isPropagationStopped=Sf,this}return Q(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=na)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=na)},persist:function(){},isPersistent:na}),s}var Os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xl=gn(Os),$i=Q({},Os,{view:0,detail:0}),Yx=gn($i),Ql,Zl,Vi,ra=Q({},$i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Vi&&(Vi&&r.type==="mousemove"?(Ql=r.screenX-Vi.screenX,Zl=r.screenY-Vi.screenY):Zl=Ql=0,Vi=r),Ql)},movementY:function(r){return"movementY"in r?r.movementY:Zl}}),kf=gn(ra),Xx=Q({},ra,{dataTransfer:0}),Qx=gn(Xx),Zx=Q({},$i,{relatedTarget:0}),ec=gn(Zx),eb=Q({},Os,{animationName:0,elapsedTime:0,pseudoElement:0}),tb=gn(eb),nb=Q({},Os,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),rb=gn(nb),sb=Q({},Os,{data:0}),Ef=gn(sb),ib={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ob={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ab={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lb(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=ab[r])?!!s[r]:!1}function tc(){return lb}var cb=Q({},$i,{key:function(r){if(r.key){var s=ib[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ta(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ob[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tc,charCode:function(r){return r.type==="keypress"?ta(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ta(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ub=gn(cb),db=Q({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tf=gn(db),hb=Q({},$i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tc}),fb=gn(hb),pb=Q({},Os,{propertyName:0,elapsedTime:0,pseudoElement:0}),mb=gn(pb),gb=Q({},ra,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),yb=gn(gb),vb=[9,13,27,32],nc=d&&"CompositionEvent"in window,Ui=null;d&&"documentMode"in document&&(Ui=document.documentMode);var wb=d&&"TextEvent"in window&&!Ui,Cf=d&&(!nc||Ui&&8<Ui&&11>=Ui),Nf=" ",jf=!1;function Af(r,s){switch(r){case"keyup":return vb.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rf(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ds=!1;function xb(r,s){switch(r){case"compositionend":return Rf(s);case"keypress":return s.which!==32?null:(jf=!0,Nf);case"textInput":return r=s.data,r===Nf&&jf?null:r;default:return null}}function bb(r,s){if(Ds)return r==="compositionend"||!nc&&Af(r,s)?(r=_f(),ea=Yl=Er=null,Ds=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Cf&&s.locale!=="ko"?null:s.data;default:return null}}var _b={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pf(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!_b[r.type]:s==="textarea"}function If(r,s,a,u){he(u),s=la(s,"onChange"),0<s.length&&(a=new Xl("onChange","change",null,a,u),r.push({event:a,listeners:s}))}var Bi=null,Fi=null;function Sb(r){Xf(r,0)}function sa(r){var s=Us(r);if(Ne(s))return r}function kb(r,s){if(r==="change")return s}var Of=!1;if(d){var rc;if(d){var sc="oninput"in document;if(!sc){var Df=document.createElement("div");Df.setAttribute("oninput","return;"),sc=typeof Df.oninput=="function"}rc=sc}else rc=!1;Of=rc&&(!document.documentMode||9<document.documentMode)}function Mf(){Bi&&(Bi.detachEvent("onpropertychange",Lf),Fi=Bi=null)}function Lf(r){if(r.propertyName==="value"&&sa(Fi)){var s=[];If(s,Fi,r,se(r)),Ae(Sb,s)}}function Eb(r,s,a){r==="focusin"?(Mf(),Bi=s,Fi=a,Bi.attachEvent("onpropertychange",Lf)):r==="focusout"&&Mf()}function Tb(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return sa(Fi)}function Cb(r,s){if(r==="click")return sa(s)}function Nb(r,s){if(r==="input"||r==="change")return sa(s)}function jb(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Dn=typeof Object.is=="function"?Object.is:jb;function zi(r,s){if(Dn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),u=Object.keys(s);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!h.call(s,f)||!Dn(r[f],s[f]))return!1}return!0}function $f(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Vf(r,s){var a=$f(r);r=0;for(var u;a;){if(a.nodeType===3){if(u=r+a.textContent.length,r<=s&&u>=s)return{node:a,offset:s-r};r=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=$f(a)}}function Uf(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Uf(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Bf(){for(var r=window,s=Xe();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Xe(r.document)}return s}function ic(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function Ab(r){var s=Bf(),a=r.focusedElem,u=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Uf(a.ownerDocument.documentElement,a)){if(u!==null&&ic(a)){if(s=u.start,r=u.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(u.start,f);u=u.end===void 0?g:Math.min(u.end,f),!r.extend&&g>u&&(f=u,u=g,g=f),f=Vf(a,g);var x=Vf(a,u);f&&x&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==x.node||r.focusOffset!==x.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>u?(r.addRange(s),r.extend(x.node,x.offset)):(s.setEnd(x.node,x.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Rb=d&&"documentMode"in document&&11>=document.documentMode,Ms=null,oc=null,Hi=null,ac=!1;function Ff(r,s,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ac||Ms==null||Ms!==Xe(u)||(u=Ms,"selectionStart"in u&&ic(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Hi&&zi(Hi,u)||(Hi=u,u=la(oc,"onSelect"),0<u.length&&(s=new Xl("onSelect","select",null,s,a),r.push({event:s,listeners:u}),s.target=Ms)))}function ia(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Ls={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionend:ia("Transition","TransitionEnd")},lc={},zf={};d&&(zf=document.createElement("div").style,"AnimationEvent"in window||(delete Ls.animationend.animation,delete Ls.animationiteration.animation,delete Ls.animationstart.animation),"TransitionEvent"in window||delete Ls.transitionend.transition);function oa(r){if(lc[r])return lc[r];if(!Ls[r])return r;var s=Ls[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in zf)return lc[r]=s[a];return r}var Hf=oa("animationend"),Wf=oa("animationiteration"),qf=oa("animationstart"),Kf=oa("transitionend"),Gf=new Map,Jf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(r,s){Gf.set(r,s),l(s,[r])}for(var cc=0;cc<Jf.length;cc++){var uc=Jf[cc],Pb=uc.toLowerCase(),Ib=uc[0].toUpperCase()+uc.slice(1);Tr(Pb,"on"+Ib)}Tr(Hf,"onAnimationEnd"),Tr(Wf,"onAnimationIteration"),Tr(qf,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(Kf,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ob=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wi));function Yf(r,s,a){var u=r.type||"unknown-event";r.currentTarget=a,Px(u,s,void 0,r),r.currentTarget=null}function Xf(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var u=r[a],f=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var x=u.length-1;0<=x;x--){var k=u[x],A=k.instance,L=k.currentTarget;if(k=k.listener,A!==g&&f.isPropagationStopped())break e;Yf(f,k,L),g=A}else for(x=0;x<u.length;x++){if(k=u[x],A=k.instance,L=k.currentTarget,k=k.listener,A!==g&&f.isPropagationStopped())break e;Yf(f,k,L),g=A}}}if(Ai)throw r=Bl,Ai=!1,Bl=null,r}function it(r,s){var a=s[vc];a===void 0&&(a=s[vc]=new Set);var u=r+"__bubble";a.has(u)||(Qf(s,r,2,!1),a.add(u))}function dc(r,s,a){var u=0;s&&(u|=4),Qf(a,r,u,s)}var aa="_reactListening"+Math.random().toString(36).slice(2);function qi(r){if(!r[aa]){r[aa]=!0,i.forEach(function(a){a!=="selectionchange"&&(Ob.has(a)||dc(a,!1,r),dc(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[aa]||(s[aa]=!0,dc("selectionchange",!1,s))}}function Qf(r,s,a,u){switch(bf(s)){case 1:var f=Gx;break;case 4:f=Jx;break;default:f=Gl}a=f.bind(null,s,a,r),f=void 0,!Xt||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function hc(r,s,a,u,f){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var k=u.stateNode.containerInfo;if(k===f||k.nodeType===8&&k.parentNode===f)break;if(x===4)for(x=u.return;x!==null;){var A=x.tag;if((A===3||A===4)&&(A=x.stateNode.containerInfo,A===f||A.nodeType===8&&A.parentNode===f))return;x=x.return}for(;k!==null;){if(x=Xr(k),x===null)return;if(A=x.tag,A===5||A===6){u=g=x;continue e}k=k.parentNode}}u=u.return}Ae(function(){var L=g,G=se(a),X=[];e:{var q=Gf.get(r);if(q!==void 0){var le=Xl,fe=r;switch(r){case"keypress":if(ta(a)===0)break e;case"keydown":case"keyup":le=ub;break;case"focusin":fe="focus",le=ec;break;case"focusout":fe="blur",le=ec;break;case"beforeblur":case"afterblur":le=ec;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=kf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Qx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=fb;break;case Hf:case Wf:case qf:le=tb;break;case Kf:le=mb;break;case"scroll":le=Yx;break;case"wheel":le=yb;break;case"copy":case"cut":case"paste":le=rb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Tf}var ge=(s&4)!==0,_t=!ge&&r==="scroll",D=ge?q!==null?q+"Capture":null:q;ge=[];for(var R=L,M;R!==null;){M=R;var Z=M.stateNode;if(M.tag===5&&Z!==null&&(M=Z,D!==null&&(Z=ct(R,D),Z!=null&&ge.push(Ki(R,Z,M)))),_t)break;R=R.return}0<ge.length&&(q=new le(q,fe,null,a,G),X.push({event:q,listeners:ge}))}}if((s&7)===0){e:{if(q=r==="mouseover"||r==="pointerover",le=r==="mouseout"||r==="pointerout",q&&a!==B&&(fe=a.relatedTarget||a.fromElement)&&(Xr(fe)||fe[rr]))break e;if((le||q)&&(q=G.window===G?G:(q=G.ownerDocument)?q.defaultView||q.parentWindow:window,le?(fe=a.relatedTarget||a.toElement,le=L,fe=fe?Xr(fe):null,fe!==null&&(_t=Yr(fe),fe!==_t||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(le=null,fe=L),le!==fe)){if(ge=kf,Z="onMouseLeave",D="onMouseEnter",R="mouse",(r==="pointerout"||r==="pointerover")&&(ge=Tf,Z="onPointerLeave",D="onPointerEnter",R="pointer"),_t=le==null?q:Us(le),M=fe==null?q:Us(fe),q=new ge(Z,R+"leave",le,a,G),q.target=_t,q.relatedTarget=M,Z=null,Xr(G)===L&&(ge=new ge(D,R+"enter",fe,a,G),ge.target=M,ge.relatedTarget=_t,Z=ge),_t=Z,le&&fe)t:{for(ge=le,D=fe,R=0,M=ge;M;M=$s(M))R++;for(M=0,Z=D;Z;Z=$s(Z))M++;for(;0<R-M;)ge=$s(ge),R--;for(;0<M-R;)D=$s(D),M--;for(;R--;){if(ge===D||D!==null&&ge===D.alternate)break t;ge=$s(ge),D=$s(D)}ge=null}else ge=null;le!==null&&Zf(X,q,le,ge,!1),fe!==null&&_t!==null&&Zf(X,_t,fe,ge,!0)}}e:{if(q=L?Us(L):window,le=q.nodeName&&q.nodeName.toLowerCase(),le==="select"||le==="input"&&q.type==="file")var ve=kb;else if(Pf(q))if(Of)ve=Nb;else{ve=Tb;var _e=Eb}else(le=q.nodeName)&&le.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(ve=Cb);if(ve&&(ve=ve(r,L))){If(X,ve,a,G);break e}_e&&_e(r,q,L),r==="focusout"&&(_e=q._wrapperState)&&_e.controlled&&q.type==="number"&&Gt(q,"number",q.value)}switch(_e=L?Us(L):window,r){case"focusin":(Pf(_e)||_e.contentEditable==="true")&&(Ms=_e,oc=L,Hi=null);break;case"focusout":Hi=oc=Ms=null;break;case"mousedown":ac=!0;break;case"contextmenu":case"mouseup":case"dragend":ac=!1,Ff(X,a,G);break;case"selectionchange":if(Rb)break;case"keydown":case"keyup":Ff(X,a,G)}var Se;if(nc)e:{switch(r){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Ds?Af(r,a)&&(Re="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Re="onCompositionStart");Re&&(Cf&&a.locale!=="ko"&&(Ds||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Ds&&(Se=_f()):(Er=G,Yl="value"in Er?Er.value:Er.textContent,Ds=!0)),_e=la(L,Re),0<_e.length&&(Re=new Ef(Re,r,null,a,G),X.push({event:Re,listeners:_e}),Se?Re.data=Se:(Se=Rf(a),Se!==null&&(Re.data=Se)))),(Se=wb?xb(r,a):bb(r,a))&&(L=la(L,"onBeforeInput"),0<L.length&&(G=new Ef("onBeforeInput","beforeinput",null,a,G),X.push({event:G,listeners:L}),G.data=Se))}Xf(X,s)})}function Ki(r,s,a){return{instance:r,listener:s,currentTarget:a}}function la(r,s){for(var a=s+"Capture",u=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=ct(r,a),g!=null&&u.unshift(Ki(r,g,f)),g=ct(r,s),g!=null&&u.push(Ki(r,g,f))),r=r.return}return u}function $s(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Zf(r,s,a,u,f){for(var g=s._reactName,x=[];a!==null&&a!==u;){var k=a,A=k.alternate,L=k.stateNode;if(A!==null&&A===u)break;k.tag===5&&L!==null&&(k=L,f?(A=ct(a,g),A!=null&&x.unshift(Ki(a,A,k))):f||(A=ct(a,g),A!=null&&x.push(Ki(a,A,k)))),a=a.return}x.length!==0&&r.push({event:s,listeners:x})}var Db=/\r\n?/g,Mb=/\u0000|\uFFFD/g;function ep(r){return(typeof r=="string"?r:""+r).replace(Db,`
`).replace(Mb,"")}function ca(r,s,a){if(s=ep(s),ep(r)!==s&&a)throw Error(n(425))}function ua(){}var fc=null,pc=null;function mc(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var gc=typeof setTimeout=="function"?setTimeout:void 0,Lb=typeof clearTimeout=="function"?clearTimeout:void 0,tp=typeof Promise=="function"?Promise:void 0,$b=typeof queueMicrotask=="function"?queueMicrotask:typeof tp<"u"?function(r){return tp.resolve(null).then(r).catch(Vb)}:gc;function Vb(r){setTimeout(function(){throw r})}function yc(r,s){var a=s,u=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(u===0){r.removeChild(f),Li(s);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=f}while(a);Li(s)}function Cr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function np(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Vs=Math.random().toString(36).slice(2),Gn="__reactFiber$"+Vs,Gi="__reactProps$"+Vs,rr="__reactContainer$"+Vs,vc="__reactEvents$"+Vs,Ub="__reactListeners$"+Vs,Bb="__reactHandles$"+Vs;function Xr(r){var s=r[Gn];if(s)return s;for(var a=r.parentNode;a;){if(s=a[rr]||a[Gn]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=np(r);r!==null;){if(a=r[Gn])return a;r=np(r)}return s}r=a,a=r.parentNode}return null}function Ji(r){return r=r[Gn]||r[rr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Us(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function da(r){return r[Gi]||null}var wc=[],Bs=-1;function Nr(r){return{current:r}}function ot(r){0>Bs||(r.current=wc[Bs],wc[Bs]=null,Bs--)}function nt(r,s){Bs++,wc[Bs]=r.current,r.current=s}var jr={},zt=Nr(jr),sn=Nr(!1),Qr=jr;function Fs(r,s){var a=r.type.contextTypes;if(!a)return jr;var u=r.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===s)return u.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=s[g];return u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function on(r){return r=r.childContextTypes,r!=null}function ha(){ot(sn),ot(zt)}function rp(r,s,a){if(zt.current!==jr)throw Error(n(168));nt(zt,s),nt(sn,a)}function sp(r,s,a){var u=r.stateNode;if(s=s.childContextTypes,typeof u.getChildContext!="function")return a;u=u.getChildContext();for(var f in u)if(!(f in s))throw Error(n(108,xe(r)||"Unknown",f));return Q({},a,u)}function fa(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||jr,Qr=zt.current,nt(zt,r),nt(sn,sn.current),!0}function ip(r,s,a){var u=r.stateNode;if(!u)throw Error(n(169));a?(r=sp(r,s,Qr),u.__reactInternalMemoizedMergedChildContext=r,ot(sn),ot(zt),nt(zt,r)):ot(sn),nt(sn,a)}var sr=null,pa=!1,xc=!1;function op(r){sr===null?sr=[r]:sr.push(r)}function Fb(r){pa=!0,op(r)}function Ar(){if(!xc&&sr!==null){xc=!0;var r=0,s=Ze;try{var a=sr;for(Ze=1;r<a.length;r++){var u=a[r];do u=u(!0);while(u!==null)}sr=null,pa=!1}catch(f){throw sr!==null&&(sr=sr.slice(r+1)),lf(Fl,Ar),f}finally{Ze=s,xc=!1}}return null}var zs=[],Hs=0,ma=null,ga=0,Sn=[],kn=0,Zr=null,ir=1,or="";function es(r,s){zs[Hs++]=ga,zs[Hs++]=ma,ma=r,ga=s}function ap(r,s,a){Sn[kn++]=ir,Sn[kn++]=or,Sn[kn++]=Zr,Zr=r;var u=ir;r=or;var f=32-On(u)-1;u&=~(1<<f),a+=1;var g=32-On(s)+f;if(30<g){var x=f-f%5;g=(u&(1<<x)-1).toString(32),u>>=x,f-=x,ir=1<<32-On(s)+f|a<<f|u,or=g+r}else ir=1<<g|a<<f|u,or=r}function bc(r){r.return!==null&&(es(r,1),ap(r,1,0))}function _c(r){for(;r===ma;)ma=zs[--Hs],zs[Hs]=null,ga=zs[--Hs],zs[Hs]=null;for(;r===Zr;)Zr=Sn[--kn],Sn[kn]=null,or=Sn[--kn],Sn[kn]=null,ir=Sn[--kn],Sn[kn]=null}var yn=null,vn=null,ut=!1,Mn=null;function lp(r,s){var a=Nn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function cp(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,yn=r,vn=Cr(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,yn=r,vn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Zr!==null?{id:ir,overflow:or}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Nn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,yn=r,vn=null,!0):!1;default:return!1}}function Sc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function kc(r){if(ut){var s=vn;if(s){var a=s;if(!cp(r,s)){if(Sc(r))throw Error(n(418));s=Cr(a.nextSibling);var u=yn;s&&cp(r,s)?lp(u,a):(r.flags=r.flags&-4097|2,ut=!1,yn=r)}}else{if(Sc(r))throw Error(n(418));r.flags=r.flags&-4097|2,ut=!1,yn=r}}}function up(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;yn=r}function ya(r){if(r!==yn)return!1;if(!ut)return up(r),ut=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!mc(r.type,r.memoizedProps)),s&&(s=vn)){if(Sc(r))throw dp(),Error(n(418));for(;s;)lp(r,s),s=Cr(s.nextSibling)}if(up(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){vn=Cr(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}vn=null}}else vn=yn?Cr(r.stateNode.nextSibling):null;return!0}function dp(){for(var r=vn;r;)r=Cr(r.nextSibling)}function Ws(){vn=yn=null,ut=!1}function Ec(r){Mn===null?Mn=[r]:Mn.push(r)}var zb=$.ReactCurrentBatchConfig;function Yi(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var u=a.stateNode}if(!u)throw Error(n(147,r));var f=u,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(x){var k=f.refs;x===null?delete k[g]:k[g]=x},s._stringRef=g,s)}if(typeof r!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,r))}return r}function va(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function hp(r){var s=r._init;return s(r._payload)}function fp(r){function s(D,R){if(r){var M=D.deletions;M===null?(D.deletions=[R],D.flags|=16):M.push(R)}}function a(D,R){if(!r)return null;for(;R!==null;)s(D,R),R=R.sibling;return null}function u(D,R){for(D=new Map;R!==null;)R.key!==null?D.set(R.key,R):D.set(R.index,R),R=R.sibling;return D}function f(D,R){return D=$r(D,R),D.index=0,D.sibling=null,D}function g(D,R,M){return D.index=M,r?(M=D.alternate,M!==null?(M=M.index,M<R?(D.flags|=2,R):M):(D.flags|=2,R)):(D.flags|=1048576,R)}function x(D){return r&&D.alternate===null&&(D.flags|=2),D}function k(D,R,M,Z){return R===null||R.tag!==6?(R=gu(M,D.mode,Z),R.return=D,R):(R=f(R,M),R.return=D,R)}function A(D,R,M,Z){var ve=M.type;return ve===H?G(D,R,M.props.children,Z,M.key):R!==null&&(R.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===ce&&hp(ve)===R.type)?(Z=f(R,M.props),Z.ref=Yi(D,R,M),Z.return=D,Z):(Z=Fa(M.type,M.key,M.props,null,D.mode,Z),Z.ref=Yi(D,R,M),Z.return=D,Z)}function L(D,R,M,Z){return R===null||R.tag!==4||R.stateNode.containerInfo!==M.containerInfo||R.stateNode.implementation!==M.implementation?(R=yu(M,D.mode,Z),R.return=D,R):(R=f(R,M.children||[]),R.return=D,R)}function G(D,R,M,Z,ve){return R===null||R.tag!==7?(R=ls(M,D.mode,Z,ve),R.return=D,R):(R=f(R,M),R.return=D,R)}function X(D,R,M){if(typeof R=="string"&&R!==""||typeof R=="number")return R=gu(""+R,D.mode,M),R.return=D,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case F:return M=Fa(R.type,R.key,R.props,null,D.mode,M),M.ref=Yi(D,null,R),M.return=D,M;case z:return R=yu(R,D.mode,M),R.return=D,R;case ce:var Z=R._init;return X(D,Z(R._payload),M)}if(Lt(R)||W(R))return R=ls(R,D.mode,M,null),R.return=D,R;va(D,R)}return null}function q(D,R,M,Z){var ve=R!==null?R.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return ve!==null?null:k(D,R,""+M,Z);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case F:return M.key===ve?A(D,R,M,Z):null;case z:return M.key===ve?L(D,R,M,Z):null;case ce:return ve=M._init,q(D,R,ve(M._payload),Z)}if(Lt(M)||W(M))return ve!==null?null:G(D,R,M,Z,null);va(D,M)}return null}function le(D,R,M,Z,ve){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return D=D.get(M)||null,k(R,D,""+Z,ve);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case F:return D=D.get(Z.key===null?M:Z.key)||null,A(R,D,Z,ve);case z:return D=D.get(Z.key===null?M:Z.key)||null,L(R,D,Z,ve);case ce:var _e=Z._init;return le(D,R,M,_e(Z._payload),ve)}if(Lt(Z)||W(Z))return D=D.get(M)||null,G(R,D,Z,ve,null);va(R,Z)}return null}function fe(D,R,M,Z){for(var ve=null,_e=null,Se=R,Re=R=0,Dt=null;Se!==null&&Re<M.length;Re++){Se.index>Re?(Dt=Se,Se=null):Dt=Se.sibling;var Je=q(D,Se,M[Re],Z);if(Je===null){Se===null&&(Se=Dt);break}r&&Se&&Je.alternate===null&&s(D,Se),R=g(Je,R,Re),_e===null?ve=Je:_e.sibling=Je,_e=Je,Se=Dt}if(Re===M.length)return a(D,Se),ut&&es(D,Re),ve;if(Se===null){for(;Re<M.length;Re++)Se=X(D,M[Re],Z),Se!==null&&(R=g(Se,R,Re),_e===null?ve=Se:_e.sibling=Se,_e=Se);return ut&&es(D,Re),ve}for(Se=u(D,Se);Re<M.length;Re++)Dt=le(Se,D,Re,M[Re],Z),Dt!==null&&(r&&Dt.alternate!==null&&Se.delete(Dt.key===null?Re:Dt.key),R=g(Dt,R,Re),_e===null?ve=Dt:_e.sibling=Dt,_e=Dt);return r&&Se.forEach(function(Vr){return s(D,Vr)}),ut&&es(D,Re),ve}function ge(D,R,M,Z){var ve=W(M);if(typeof ve!="function")throw Error(n(150));if(M=ve.call(M),M==null)throw Error(n(151));for(var _e=ve=null,Se=R,Re=R=0,Dt=null,Je=M.next();Se!==null&&!Je.done;Re++,Je=M.next()){Se.index>Re?(Dt=Se,Se=null):Dt=Se.sibling;var Vr=q(D,Se,Je.value,Z);if(Vr===null){Se===null&&(Se=Dt);break}r&&Se&&Vr.alternate===null&&s(D,Se),R=g(Vr,R,Re),_e===null?ve=Vr:_e.sibling=Vr,_e=Vr,Se=Dt}if(Je.done)return a(D,Se),ut&&es(D,Re),ve;if(Se===null){for(;!Je.done;Re++,Je=M.next())Je=X(D,Je.value,Z),Je!==null&&(R=g(Je,R,Re),_e===null?ve=Je:_e.sibling=Je,_e=Je);return ut&&es(D,Re),ve}for(Se=u(D,Se);!Je.done;Re++,Je=M.next())Je=le(Se,D,Re,Je.value,Z),Je!==null&&(r&&Je.alternate!==null&&Se.delete(Je.key===null?Re:Je.key),R=g(Je,R,Re),_e===null?ve=Je:_e.sibling=Je,_e=Je);return r&&Se.forEach(function(_1){return s(D,_1)}),ut&&es(D,Re),ve}function _t(D,R,M,Z){if(typeof M=="object"&&M!==null&&M.type===H&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case F:e:{for(var ve=M.key,_e=R;_e!==null;){if(_e.key===ve){if(ve=M.type,ve===H){if(_e.tag===7){a(D,_e.sibling),R=f(_e,M.props.children),R.return=D,D=R;break e}}else if(_e.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===ce&&hp(ve)===_e.type){a(D,_e.sibling),R=f(_e,M.props),R.ref=Yi(D,_e,M),R.return=D,D=R;break e}a(D,_e);break}else s(D,_e);_e=_e.sibling}M.type===H?(R=ls(M.props.children,D.mode,Z,M.key),R.return=D,D=R):(Z=Fa(M.type,M.key,M.props,null,D.mode,Z),Z.ref=Yi(D,R,M),Z.return=D,D=Z)}return x(D);case z:e:{for(_e=M.key;R!==null;){if(R.key===_e)if(R.tag===4&&R.stateNode.containerInfo===M.containerInfo&&R.stateNode.implementation===M.implementation){a(D,R.sibling),R=f(R,M.children||[]),R.return=D,D=R;break e}else{a(D,R);break}else s(D,R);R=R.sibling}R=yu(M,D.mode,Z),R.return=D,D=R}return x(D);case ce:return _e=M._init,_t(D,R,_e(M._payload),Z)}if(Lt(M))return fe(D,R,M,Z);if(W(M))return ge(D,R,M,Z);va(D,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,R!==null&&R.tag===6?(a(D,R.sibling),R=f(R,M),R.return=D,D=R):(a(D,R),R=gu(M,D.mode,Z),R.return=D,D=R),x(D)):a(D,R)}return _t}var qs=fp(!0),pp=fp(!1),wa=Nr(null),xa=null,Ks=null,Tc=null;function Cc(){Tc=Ks=xa=null}function Nc(r){var s=wa.current;ot(wa),r._currentValue=s}function jc(r,s,a){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===a)break;r=r.return}}function Gs(r,s){xa=r,Tc=Ks=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(an=!0),r.firstContext=null)}function En(r){var s=r._currentValue;if(Tc!==r)if(r={context:r,memoizedValue:s,next:null},Ks===null){if(xa===null)throw Error(n(308));Ks=r,xa.dependencies={lanes:0,firstContext:r}}else Ks=Ks.next=r;return s}var ts=null;function Ac(r){ts===null?ts=[r]:ts.push(r)}function mp(r,s,a,u){var f=s.interleaved;return f===null?(a.next=a,Ac(s)):(a.next=f.next,f.next=a),s.interleaved=a,ar(r,u)}function ar(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Rr=!1;function Rc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function lr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Pr(r,s,a){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Ke&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,ar(r,a)}return f=u.interleaved,f===null?(s.next=s,Ac(u)):(s.next=f.next,f.next=s),u.interleaved=s,ar(r,a)}function ba(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var u=s.lanes;u&=r.pendingLanes,a|=u,s.lanes=a,Wl(r,a)}}function yp(r,s){var a=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var x={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=x:g=g.next=x,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,effects:u.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function _a(r,s,a,u){var f=r.updateQueue;Rr=!1;var g=f.firstBaseUpdate,x=f.lastBaseUpdate,k=f.shared.pending;if(k!==null){f.shared.pending=null;var A=k,L=A.next;A.next=null,x===null?g=L:x.next=L,x=A;var G=r.alternate;G!==null&&(G=G.updateQueue,k=G.lastBaseUpdate,k!==x&&(k===null?G.firstBaseUpdate=L:k.next=L,G.lastBaseUpdate=A))}if(g!==null){var X=f.baseState;x=0,G=L=A=null,k=g;do{var q=k.lane,le=k.eventTime;if((u&q)===q){G!==null&&(G=G.next={eventTime:le,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var fe=r,ge=k;switch(q=s,le=a,ge.tag){case 1:if(fe=ge.payload,typeof fe=="function"){X=fe.call(le,X,q);break e}X=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ge.payload,q=typeof fe=="function"?fe.call(le,X,q):fe,q==null)break e;X=Q({},X,q);break e;case 2:Rr=!0}}k.callback!==null&&k.lane!==0&&(r.flags|=64,q=f.effects,q===null?f.effects=[k]:q.push(k))}else le={eventTime:le,lane:q,tag:k.tag,payload:k.payload,callback:k.callback,next:null},G===null?(L=G=le,A=X):G=G.next=le,x|=q;if(k=k.next,k===null){if(k=f.shared.pending,k===null)break;q=k,k=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);if(G===null&&(A=X),f.baseState=A,f.firstBaseUpdate=L,f.lastBaseUpdate=G,s=f.shared.interleaved,s!==null){f=s;do x|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);ss|=x,r.lanes=x,r.memoizedState=X}}function vp(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var u=r[s],f=u.callback;if(f!==null){if(u.callback=null,u=a,typeof f!="function")throw Error(n(191,f));f.call(u)}}}var Xi={},Jn=Nr(Xi),Qi=Nr(Xi),Zi=Nr(Xi);function ns(r){if(r===Xi)throw Error(n(174));return r}function Pc(r,s){switch(nt(Zi,s),nt(Qi,r),nt(Jn,Xi),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:xr(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=xr(s,r)}ot(Jn),nt(Jn,s)}function Js(){ot(Jn),ot(Qi),ot(Zi)}function wp(r){ns(Zi.current);var s=ns(Jn.current),a=xr(s,r.type);s!==a&&(nt(Qi,r),nt(Jn,a))}function Ic(r){Qi.current===r&&(ot(Jn),ot(Qi))}var dt=Nr(0);function Sa(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Oc=[];function Dc(){for(var r=0;r<Oc.length;r++)Oc[r]._workInProgressVersionPrimary=null;Oc.length=0}var ka=$.ReactCurrentDispatcher,Mc=$.ReactCurrentBatchConfig,rs=0,ht=null,Tt=null,It=null,Ea=!1,eo=!1,to=0,Hb=0;function Ht(){throw Error(n(321))}function Lc(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Dn(r[a],s[a]))return!1;return!0}function $c(r,s,a,u,f,g){if(rs=g,ht=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ka.current=r===null||r.memoizedState===null?Gb:Jb,r=a(u,f),eo){g=0;do{if(eo=!1,to=0,25<=g)throw Error(n(301));g+=1,It=Tt=null,s.updateQueue=null,ka.current=Yb,r=a(u,f)}while(eo)}if(ka.current=Na,s=Tt!==null&&Tt.next!==null,rs=0,It=Tt=ht=null,Ea=!1,s)throw Error(n(300));return r}function Vc(){var r=to!==0;return to=0,r}function Yn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?ht.memoizedState=It=r:It=It.next=r,It}function Tn(){if(Tt===null){var r=ht.alternate;r=r!==null?r.memoizedState:null}else r=Tt.next;var s=It===null?ht.memoizedState:It.next;if(s!==null)It=s,Tt=r;else{if(r===null)throw Error(n(310));Tt=r,r={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},It===null?ht.memoizedState=It=r:It=It.next=r}return It}function no(r,s){return typeof s=="function"?s(r):s}function Uc(r){var s=Tn(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var u=Tt,f=u.baseQueue,g=a.pending;if(g!==null){if(f!==null){var x=f.next;f.next=g.next,g.next=x}u.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,u=u.baseState;var k=x=null,A=null,L=g;do{var G=L.lane;if((rs&G)===G)A!==null&&(A=A.next={lane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),u=L.hasEagerState?L.eagerState:r(u,L.action);else{var X={lane:G,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null};A===null?(k=A=X,x=u):A=A.next=X,ht.lanes|=G,ss|=G}L=L.next}while(L!==null&&L!==g);A===null?x=u:A.next=k,Dn(u,s.memoizedState)||(an=!0),s.memoizedState=u,s.baseState=x,s.baseQueue=A,a.lastRenderedState=u}if(r=a.interleaved,r!==null){f=r;do g=f.lane,ht.lanes|=g,ss|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Bc(r){var s=Tn(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var u=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var x=f=f.next;do g=r(g,x.action),x=x.next;while(x!==f);Dn(g,s.memoizedState)||(an=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,u]}function xp(){}function bp(r,s){var a=ht,u=Tn(),f=s(),g=!Dn(u.memoizedState,f);if(g&&(u.memoizedState=f,an=!0),u=u.queue,Fc(kp.bind(null,a,u,r),[r]),u.getSnapshot!==s||g||It!==null&&It.memoizedState.tag&1){if(a.flags|=2048,ro(9,Sp.bind(null,a,u,f,s),void 0,null),Ot===null)throw Error(n(349));(rs&30)!==0||_p(a,s,f)}return f}function _p(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=ht.updateQueue,s===null?(s={lastEffect:null,stores:null},ht.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Sp(r,s,a,u){s.value=a,s.getSnapshot=u,Ep(s)&&Tp(r)}function kp(r,s,a){return a(function(){Ep(s)&&Tp(r)})}function Ep(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Dn(r,a)}catch{return!0}}function Tp(r){var s=ar(r,1);s!==null&&Un(s,r,1,-1)}function Cp(r){var s=Yn();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:no,lastRenderedState:r},s.queue=r,r=r.dispatch=Kb.bind(null,ht,r),[s.memoizedState,r]}function ro(r,s,a,u){return r={tag:r,create:s,destroy:a,deps:u,next:null},s=ht.updateQueue,s===null?(s={lastEffect:null,stores:null},ht.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(u=a.next,a.next=r,r.next=u,s.lastEffect=r)),r}function Np(){return Tn().memoizedState}function Ta(r,s,a,u){var f=Yn();ht.flags|=r,f.memoizedState=ro(1|s,a,void 0,u===void 0?null:u)}function Ca(r,s,a,u){var f=Tn();u=u===void 0?null:u;var g=void 0;if(Tt!==null){var x=Tt.memoizedState;if(g=x.destroy,u!==null&&Lc(u,x.deps)){f.memoizedState=ro(s,a,g,u);return}}ht.flags|=r,f.memoizedState=ro(1|s,a,g,u)}function jp(r,s){return Ta(8390656,8,r,s)}function Fc(r,s){return Ca(2048,8,r,s)}function Ap(r,s){return Ca(4,2,r,s)}function Rp(r,s){return Ca(4,4,r,s)}function Pp(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Ip(r,s,a){return a=a!=null?a.concat([r]):null,Ca(4,4,Pp.bind(null,s,r),a)}function zc(){}function Op(r,s){var a=Tn();s=s===void 0?null:s;var u=a.memoizedState;return u!==null&&s!==null&&Lc(s,u[1])?u[0]:(a.memoizedState=[r,s],r)}function Dp(r,s){var a=Tn();s=s===void 0?null:s;var u=a.memoizedState;return u!==null&&s!==null&&Lc(s,u[1])?u[0]:(r=r(),a.memoizedState=[r,s],r)}function Mp(r,s,a){return(rs&21)===0?(r.baseState&&(r.baseState=!1,an=!0),r.memoizedState=a):(Dn(a,s)||(a=hf(),ht.lanes|=a,ss|=a,r.baseState=!0),s)}function Wb(r,s){var a=Ze;Ze=a!==0&&4>a?a:4,r(!0);var u=Mc.transition;Mc.transition={};try{r(!1),s()}finally{Ze=a,Mc.transition=u}}function Lp(){return Tn().memoizedState}function qb(r,s,a){var u=Mr(r);if(a={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null},$p(r))Vp(s,a);else if(a=mp(r,s,a,u),a!==null){var f=en();Un(a,r,u,f),Up(a,s,u)}}function Kb(r,s,a){var u=Mr(r),f={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null};if($p(r))Vp(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var x=s.lastRenderedState,k=g(x,a);if(f.hasEagerState=!0,f.eagerState=k,Dn(k,x)){var A=s.interleaved;A===null?(f.next=f,Ac(s)):(f.next=A.next,A.next=f),s.interleaved=f;return}}catch{}finally{}a=mp(r,s,f,u),a!==null&&(f=en(),Un(a,r,u,f),Up(a,s,u))}}function $p(r){var s=r.alternate;return r===ht||s!==null&&s===ht}function Vp(r,s){eo=Ea=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Up(r,s,a){if((a&4194240)!==0){var u=s.lanes;u&=r.pendingLanes,a|=u,s.lanes=a,Wl(r,a)}}var Na={readContext:En,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},Gb={readContext:En,useCallback:function(r,s){return Yn().memoizedState=[r,s===void 0?null:s],r},useContext:En,useEffect:jp,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Ta(4194308,4,Pp.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Ta(4194308,4,r,s)},useInsertionEffect:function(r,s){return Ta(4,2,r,s)},useMemo:function(r,s){var a=Yn();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var u=Yn();return s=a!==void 0?a(s):s,u.memoizedState=u.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},u.queue=r,r=r.dispatch=qb.bind(null,ht,r),[u.memoizedState,r]},useRef:function(r){var s=Yn();return r={current:r},s.memoizedState=r},useState:Cp,useDebugValue:zc,useDeferredValue:function(r){return Yn().memoizedState=r},useTransition:function(){var r=Cp(!1),s=r[0];return r=Wb.bind(null,r[1]),Yn().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var u=ht,f=Yn();if(ut){if(a===void 0)throw Error(n(407));a=a()}else{if(a=s(),Ot===null)throw Error(n(349));(rs&30)!==0||_p(u,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,jp(kp.bind(null,u,g,r),[r]),u.flags|=2048,ro(9,Sp.bind(null,u,g,a,s),void 0,null),a},useId:function(){var r=Yn(),s=Ot.identifierPrefix;if(ut){var a=or,u=ir;a=(u&~(1<<32-On(u)-1)).toString(32)+a,s=":"+s+"R"+a,a=to++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=Hb++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},Jb={readContext:En,useCallback:Op,useContext:En,useEffect:Fc,useImperativeHandle:Ip,useInsertionEffect:Ap,useLayoutEffect:Rp,useMemo:Dp,useReducer:Uc,useRef:Np,useState:function(){return Uc(no)},useDebugValue:zc,useDeferredValue:function(r){var s=Tn();return Mp(s,Tt.memoizedState,r)},useTransition:function(){var r=Uc(no)[0],s=Tn().memoizedState;return[r,s]},useMutableSource:xp,useSyncExternalStore:bp,useId:Lp,unstable_isNewReconciler:!1},Yb={readContext:En,useCallback:Op,useContext:En,useEffect:Fc,useImperativeHandle:Ip,useInsertionEffect:Ap,useLayoutEffect:Rp,useMemo:Dp,useReducer:Bc,useRef:Np,useState:function(){return Bc(no)},useDebugValue:zc,useDeferredValue:function(r){var s=Tn();return Tt===null?s.memoizedState=r:Mp(s,Tt.memoizedState,r)},useTransition:function(){var r=Bc(no)[0],s=Tn().memoizedState;return[r,s]},useMutableSource:xp,useSyncExternalStore:bp,useId:Lp,unstable_isNewReconciler:!1};function Ln(r,s){if(r&&r.defaultProps){s=Q({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function Hc(r,s,a,u){s=r.memoizedState,a=a(u,s),a=a==null?s:Q({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var ja={isMounted:function(r){return(r=r._reactInternals)?Yr(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var u=en(),f=Mr(r),g=lr(u,f);g.payload=s,a!=null&&(g.callback=a),s=Pr(r,g,f),s!==null&&(Un(s,r,f,u),ba(s,r,f))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var u=en(),f=Mr(r),g=lr(u,f);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=Pr(r,g,f),s!==null&&(Un(s,r,f,u),ba(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=en(),u=Mr(r),f=lr(a,u);f.tag=2,s!=null&&(f.callback=s),s=Pr(r,f,u),s!==null&&(Un(s,r,u,a),ba(s,r,u))}};function Bp(r,s,a,u,f,g,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,x):s.prototype&&s.prototype.isPureReactComponent?!zi(a,u)||!zi(f,g):!0}function Fp(r,s,a){var u=!1,f=jr,g=s.contextType;return typeof g=="object"&&g!==null?g=En(g):(f=on(s)?Qr:zt.current,u=s.contextTypes,g=(u=u!=null)?Fs(r,f):jr),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ja,r.stateNode=s,s._reactInternals=r,u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function zp(r,s,a,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,u),s.state!==r&&ja.enqueueReplaceState(s,s.state,null)}function Wc(r,s,a,u){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},Rc(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=En(g):(g=on(s)?Qr:zt.current,f.context=Fs(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Hc(r,s,g,a),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&ja.enqueueReplaceState(f,f.state,null),_a(r,a,f,u),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Ys(r,s){try{var a="",u=s;do a+=ye(u),u=u.return;while(u);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function qc(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Kc(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var Xb=typeof WeakMap=="function"?WeakMap:Map;function Hp(r,s,a){a=lr(-1,a),a.tag=3,a.payload={element:null};var u=s.value;return a.callback=function(){Ma||(Ma=!0,lu=u),Kc(r,s)},a}function Wp(r,s,a){a=lr(-1,a),a.tag=3;var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var f=s.value;a.payload=function(){return u(f)},a.callback=function(){Kc(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Kc(r,s),typeof u!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var x=s.stack;this.componentDidCatch(s.value,{componentStack:x!==null?x:""})}),a}function qp(r,s,a){var u=r.pingCache;if(u===null){u=r.pingCache=new Xb;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(a)||(f.add(a),r=d1.bind(null,r,s,a),s.then(r,r))}function Kp(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Gp(r,s,a,u,f){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=lr(-1,1),s.tag=2,Pr(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var Qb=$.ReactCurrentOwner,an=!1;function Zt(r,s,a,u){s.child=r===null?pp(s,null,a,u):qs(s,r.child,a,u)}function Jp(r,s,a,u,f){a=a.render;var g=s.ref;return Gs(s,f),u=$c(r,s,a,u,g,f),a=Vc(),r!==null&&!an?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,cr(r,s,f)):(ut&&a&&bc(s),s.flags|=1,Zt(r,s,u,f),s.child)}function Yp(r,s,a,u,f){if(r===null){var g=a.type;return typeof g=="function"&&!mu(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,Xp(r,s,g,u,f)):(r=Fa(a.type,null,u,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,(r.lanes&f)===0){var x=g.memoizedProps;if(a=a.compare,a=a!==null?a:zi,a(x,u)&&r.ref===s.ref)return cr(r,s,f)}return s.flags|=1,r=$r(g,u),r.ref=s.ref,r.return=s,s.child=r}function Xp(r,s,a,u,f){if(r!==null){var g=r.memoizedProps;if(zi(g,u)&&r.ref===s.ref)if(an=!1,s.pendingProps=u=g,(r.lanes&f)!==0)(r.flags&131072)!==0&&(an=!0);else return s.lanes=r.lanes,cr(r,s,f)}return Gc(r,s,a,u,f)}function Qp(r,s,a){var u=s.pendingProps,f=u.children,g=r!==null?r.memoizedState:null;if(u.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Qs,wn),wn|=a;else{if((a&1073741824)===0)return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,nt(Qs,wn),wn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=g!==null?g.baseLanes:a,nt(Qs,wn),wn|=u}else g!==null?(u=g.baseLanes|a,s.memoizedState=null):u=a,nt(Qs,wn),wn|=u;return Zt(r,s,f,a),s.child}function Zp(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Gc(r,s,a,u,f){var g=on(a)?Qr:zt.current;return g=Fs(s,g),Gs(s,f),a=$c(r,s,a,u,g,f),u=Vc(),r!==null&&!an?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,cr(r,s,f)):(ut&&u&&bc(s),s.flags|=1,Zt(r,s,a,f),s.child)}function em(r,s,a,u,f){if(on(a)){var g=!0;fa(s)}else g=!1;if(Gs(s,f),s.stateNode===null)Ra(r,s),Fp(s,a,u),Wc(s,a,u,f),u=!0;else if(r===null){var x=s.stateNode,k=s.memoizedProps;x.props=k;var A=x.context,L=a.contextType;typeof L=="object"&&L!==null?L=En(L):(L=on(a)?Qr:zt.current,L=Fs(s,L));var G=a.getDerivedStateFromProps,X=typeof G=="function"||typeof x.getSnapshotBeforeUpdate=="function";X||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k!==u||A!==L)&&zp(s,x,u,L),Rr=!1;var q=s.memoizedState;x.state=q,_a(s,u,x,f),A=s.memoizedState,k!==u||q!==A||sn.current||Rr?(typeof G=="function"&&(Hc(s,a,G,u),A=s.memoizedState),(k=Rr||Bp(s,a,k,u,q,A,L))?(X||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=A),x.props=u,x.state=A,x.context=L,u=k):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{x=s.stateNode,gp(r,s),k=s.memoizedProps,L=s.type===s.elementType?k:Ln(s.type,k),x.props=L,X=s.pendingProps,q=x.context,A=a.contextType,typeof A=="object"&&A!==null?A=En(A):(A=on(a)?Qr:zt.current,A=Fs(s,A));var le=a.getDerivedStateFromProps;(G=typeof le=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k!==X||q!==A)&&zp(s,x,u,A),Rr=!1,q=s.memoizedState,x.state=q,_a(s,u,x,f);var fe=s.memoizedState;k!==X||q!==fe||sn.current||Rr?(typeof le=="function"&&(Hc(s,a,le,u),fe=s.memoizedState),(L=Rr||Bp(s,a,L,u,q,fe,A)||!1)?(G||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(u,fe,A),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(u,fe,A)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||k===r.memoizedProps&&q===r.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&q===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=fe),x.props=u,x.state=fe,x.context=A,u=L):(typeof x.componentDidUpdate!="function"||k===r.memoizedProps&&q===r.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&q===r.memoizedState||(s.flags|=1024),u=!1)}return Jc(r,s,a,u,g,f)}function Jc(r,s,a,u,f,g){Zp(r,s);var x=(s.flags&128)!==0;if(!u&&!x)return f&&ip(s,a,!1),cr(r,s,g);u=s.stateNode,Qb.current=s;var k=x&&typeof a.getDerivedStateFromError!="function"?null:u.render();return s.flags|=1,r!==null&&x?(s.child=qs(s,r.child,null,g),s.child=qs(s,null,k,g)):Zt(r,s,k,g),s.memoizedState=u.state,f&&ip(s,a,!0),s.child}function tm(r){var s=r.stateNode;s.pendingContext?rp(r,s.pendingContext,s.pendingContext!==s.context):s.context&&rp(r,s.context,!1),Pc(r,s.containerInfo)}function nm(r,s,a,u,f){return Ws(),Ec(f),s.flags|=256,Zt(r,s,a,u),s.child}var Yc={dehydrated:null,treeContext:null,retryLane:0};function Xc(r){return{baseLanes:r,cachePool:null,transitions:null}}function rm(r,s,a){var u=s.pendingProps,f=dt.current,g=!1,x=(s.flags&128)!==0,k;if((k=x)||(k=r!==null&&r.memoizedState===null?!1:(f&2)!==0),k?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),nt(dt,f&1),r===null)return kc(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(x=u.children,r=u.fallback,g?(u=s.mode,g=s.child,x={mode:"hidden",children:x},(u&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=x):g=za(x,u,0,null),r=ls(r,u,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Xc(a),s.memoizedState=Yc,r):Qc(s,x));if(f=r.memoizedState,f!==null&&(k=f.dehydrated,k!==null))return Zb(r,s,x,u,k,f,a);if(g){g=u.fallback,x=s.mode,f=r.child,k=f.sibling;var A={mode:"hidden",children:u.children};return(x&1)===0&&s.child!==f?(u=s.child,u.childLanes=0,u.pendingProps=A,s.deletions=null):(u=$r(f,A),u.subtreeFlags=f.subtreeFlags&14680064),k!==null?g=$r(k,g):(g=ls(g,x,a,null),g.flags|=2),g.return=s,u.return=s,u.sibling=g,s.child=u,u=g,g=s.child,x=r.child.memoizedState,x=x===null?Xc(a):{baseLanes:x.baseLanes|a,cachePool:null,transitions:x.transitions},g.memoizedState=x,g.childLanes=r.childLanes&~a,s.memoizedState=Yc,u}return g=r.child,r=g.sibling,u=$r(g,{mode:"visible",children:u.children}),(s.mode&1)===0&&(u.lanes=a),u.return=s,u.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=u,s.memoizedState=null,u}function Qc(r,s){return s=za({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Aa(r,s,a,u){return u!==null&&Ec(u),qs(s,r.child,null,a),r=Qc(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Zb(r,s,a,u,f,g,x){if(a)return s.flags&256?(s.flags&=-257,u=qc(Error(n(422))),Aa(r,s,x,u)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=u.fallback,f=s.mode,u=za({mode:"visible",children:u.children},f,0,null),g=ls(g,f,x,null),g.flags|=2,u.return=s,g.return=s,u.sibling=g,s.child=u,(s.mode&1)!==0&&qs(s,r.child,null,x),s.child.memoizedState=Xc(x),s.memoizedState=Yc,g);if((s.mode&1)===0)return Aa(r,s,x,null);if(f.data==="$!"){if(u=f.nextSibling&&f.nextSibling.dataset,u)var k=u.dgst;return u=k,g=Error(n(419)),u=qc(g,u,void 0),Aa(r,s,x,u)}if(k=(x&r.childLanes)!==0,an||k){if(u=Ot,u!==null){switch(x&-x){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(u.suspendedLanes|x))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,ar(r,f),Un(u,r,f,-1))}return pu(),u=qc(Error(n(421))),Aa(r,s,x,u)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=h1.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,vn=Cr(f.nextSibling),yn=s,ut=!0,Mn=null,r!==null&&(Sn[kn++]=ir,Sn[kn++]=or,Sn[kn++]=Zr,ir=r.id,or=r.overflow,Zr=s),s=Qc(s,u.children),s.flags|=4096,s)}function sm(r,s,a){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),jc(r.return,s,a)}function Zc(r,s,a,u,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=a,g.tailMode=f)}function im(r,s,a){var u=s.pendingProps,f=u.revealOrder,g=u.tail;if(Zt(r,s,u.children,a),u=dt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&sm(r,a,s);else if(r.tag===19)sm(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}if(nt(dt,u),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&Sa(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Zc(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Sa(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}Zc(s,!0,a,null,g);break;case"together":Zc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ra(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function cr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),ss|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,a=$r(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=$r(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function e1(r,s,a){switch(s.tag){case 3:tm(s),Ws();break;case 5:wp(s);break;case 1:on(s.type)&&fa(s);break;case 4:Pc(s,s.stateNode.containerInfo);break;case 10:var u=s.type._context,f=s.memoizedProps.value;nt(wa,u._currentValue),u._currentValue=f;break;case 13:if(u=s.memoizedState,u!==null)return u.dehydrated!==null?(nt(dt,dt.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?rm(r,s,a):(nt(dt,dt.current&1),r=cr(r,s,a),r!==null?r.sibling:null);nt(dt,dt.current&1);break;case 19:if(u=(a&s.childLanes)!==0,(r.flags&128)!==0){if(u)return im(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),nt(dt,dt.current),u)break;return null;case 22:case 23:return s.lanes=0,Qp(r,s,a)}return cr(r,s,a)}var om,eu,am,lm;om=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},eu=function(){},am=function(r,s,a,u){var f=r.memoizedProps;if(f!==u){r=s.stateNode,ns(Jn.current);var g=null;switch(a){case"input":f=mt(r,f),u=mt(r,u),g=[];break;case"select":f=Q({},f,{value:void 0}),u=Q({},u,{value:void 0}),g=[];break;case"textarea":f=Fe(r,f),u=Fe(r,u),g=[];break;default:typeof f.onClick!="function"&&typeof u.onClick=="function"&&(r.onclick=ua)}ne(a,u);var x;a=null;for(L in f)if(!u.hasOwnProperty(L)&&f.hasOwnProperty(L)&&f[L]!=null)if(L==="style"){var k=f[L];for(x in k)k.hasOwnProperty(x)&&(a||(a={}),a[x]="")}else L!=="dangerouslySetInnerHTML"&&L!=="children"&&L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(o.hasOwnProperty(L)?g||(g=[]):(g=g||[]).push(L,null));for(L in u){var A=u[L];if(k=f!=null?f[L]:void 0,u.hasOwnProperty(L)&&A!==k&&(A!=null||k!=null))if(L==="style")if(k){for(x in k)!k.hasOwnProperty(x)||A&&A.hasOwnProperty(x)||(a||(a={}),a[x]="");for(x in A)A.hasOwnProperty(x)&&k[x]!==A[x]&&(a||(a={}),a[x]=A[x])}else a||(g||(g=[]),g.push(L,a)),a=A;else L==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,k=k?k.__html:void 0,A!=null&&k!==A&&(g=g||[]).push(L,A)):L==="children"?typeof A!="string"&&typeof A!="number"||(g=g||[]).push(L,""+A):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&(o.hasOwnProperty(L)?(A!=null&&L==="onScroll"&&it("scroll",r),g||k===A||(g=[])):(g=g||[]).push(L,A))}a&&(g=g||[]).push("style",a);var L=g;(s.updateQueue=L)&&(s.flags|=4)}},lm=function(r,s,a,u){a!==u&&(s.flags|=4)};function so(r,s){if(!ut)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Wt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,u=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&14680064,u|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=a,s}function t1(r,s,a){var u=s.pendingProps;switch(_c(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(s),null;case 1:return on(s.type)&&ha(),Wt(s),null;case 3:return u=s.stateNode,Js(),ot(sn),ot(zt),Dc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(ya(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Mn!==null&&(du(Mn),Mn=null))),eu(r,s),Wt(s),null;case 5:Ic(s);var f=ns(Zi.current);if(a=s.type,r!==null&&s.stateNode!=null)am(r,s,a,u,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!u){if(s.stateNode===null)throw Error(n(166));return Wt(s),null}if(r=ns(Jn.current),ya(s)){u=s.stateNode,a=s.type;var g=s.memoizedProps;switch(u[Gn]=s,u[Gi]=g,r=(s.mode&1)!==0,a){case"dialog":it("cancel",u),it("close",u);break;case"iframe":case"object":case"embed":it("load",u);break;case"video":case"audio":for(f=0;f<Wi.length;f++)it(Wi[f],u);break;case"source":it("error",u);break;case"img":case"image":case"link":it("error",u),it("load",u);break;case"details":it("toggle",u);break;case"input":Pt(u,g),it("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!g.multiple},it("invalid",u);break;case"textarea":Jt(u,g),it("invalid",u)}ne(a,g),f=null;for(var x in g)if(g.hasOwnProperty(x)){var k=g[x];x==="children"?typeof k=="string"?u.textContent!==k&&(g.suppressHydrationWarning!==!0&&ca(u.textContent,k,r),f=["children",k]):typeof k=="number"&&u.textContent!==""+k&&(g.suppressHydrationWarning!==!0&&ca(u.textContent,k,r),f=["children",""+k]):o.hasOwnProperty(x)&&k!=null&&x==="onScroll"&&it("scroll",u)}switch(a){case"input":Y(u),Jr(u,g,!0);break;case"textarea":Y(u),As(u);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(u.onclick=ua)}u=f,s.updateQueue=u,u!==null&&(s.flags|=4)}else{x=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=lt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=x.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof u.is=="string"?r=x.createElement(a,{is:u.is}):(r=x.createElement(a),a==="select"&&(x=r,u.multiple?x.multiple=!0:u.size&&(x.size=u.size))):r=x.createElementNS(r,a),r[Gn]=s,r[Gi]=u,om(r,s,!1,!1),s.stateNode=r;e:{switch(x=K(a,u),a){case"dialog":it("cancel",r),it("close",r),f=u;break;case"iframe":case"object":case"embed":it("load",r),f=u;break;case"video":case"audio":for(f=0;f<Wi.length;f++)it(Wi[f],r);f=u;break;case"source":it("error",r),f=u;break;case"img":case"image":case"link":it("error",r),it("load",r),f=u;break;case"details":it("toggle",r),f=u;break;case"input":Pt(r,u),f=mt(r,u),it("invalid",r);break;case"option":f=u;break;case"select":r._wrapperState={wasMultiple:!!u.multiple},f=Q({},u,{value:void 0}),it("invalid",r);break;case"textarea":Jt(r,u),f=Fe(r,u),it("invalid",r);break;default:f=u}ne(a,f),k=f;for(g in k)if(k.hasOwnProperty(g)){var A=k[g];g==="style"?Ps(r,A):g==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&nr(r,A)):g==="children"?typeof A=="string"?(a!=="textarea"||A!=="")&&Yt(r,A):typeof A=="number"&&Yt(r,""+A):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?A!=null&&g==="onScroll"&&it("scroll",r):A!=null&&P(r,g,A,x))}switch(a){case"input":Y(r),Jr(r,u,!1);break;case"textarea":Y(r),As(r);break;case"option":u.value!=null&&r.setAttribute("value",""+Oe(u.value));break;case"select":r.multiple=!!u.multiple,g=u.value,g!=null?xt(r,!!u.multiple,g,!1):u.defaultValue!=null&&xt(r,!!u.multiple,u.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=ua)}switch(a){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Wt(s),null;case 6:if(r&&s.stateNode!=null)lm(r,s,r.memoizedProps,u);else{if(typeof u!="string"&&s.stateNode===null)throw Error(n(166));if(a=ns(Zi.current),ns(Jn.current),ya(s)){if(u=s.stateNode,a=s.memoizedProps,u[Gn]=s,(g=u.nodeValue!==a)&&(r=yn,r!==null))switch(r.tag){case 3:ca(u.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ca(u.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else u=(a.nodeType===9?a:a.ownerDocument).createTextNode(u),u[Gn]=s,s.stateNode=u}return Wt(s),null;case 13:if(ot(dt),u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ut&&vn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)dp(),Ws(),s.flags|=98560,g=!1;else if(g=ya(s),u!==null&&u.dehydrated!==null){if(r===null){if(!g)throw Error(n(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[Gn]=s}else Ws(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Wt(s),g=!1}else Mn!==null&&(du(Mn),Mn=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(u=u!==null,u!==(r!==null&&r.memoizedState!==null)&&u&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(dt.current&1)!==0?Ct===0&&(Ct=3):pu())),s.updateQueue!==null&&(s.flags|=4),Wt(s),null);case 4:return Js(),eu(r,s),r===null&&qi(s.stateNode.containerInfo),Wt(s),null;case 10:return Nc(s.type._context),Wt(s),null;case 17:return on(s.type)&&ha(),Wt(s),null;case 19:if(ot(dt),g=s.memoizedState,g===null)return Wt(s),null;if(u=(s.flags&128)!==0,x=g.rendering,x===null)if(u)so(g,!1);else{if(Ct!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(x=Sa(r),x!==null){for(s.flags|=128,so(g,!1),u=x.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),s.subtreeFlags=0,u=a,a=s.child;a!==null;)g=a,r=u,g.flags&=14680066,x=g.alternate,x===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=x.childLanes,g.lanes=x.lanes,g.child=x.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=x.memoizedProps,g.memoizedState=x.memoizedState,g.updateQueue=x.updateQueue,g.type=x.type,r=x.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return nt(dt,dt.current&1|2),s.child}r=r.sibling}g.tail!==null&&bt()>Zs&&(s.flags|=128,u=!0,so(g,!1),s.lanes=4194304)}else{if(!u)if(r=Sa(x),r!==null){if(s.flags|=128,u=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),so(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!ut)return Wt(s),null}else 2*bt()-g.renderingStartTime>Zs&&a!==1073741824&&(s.flags|=128,u=!0,so(g,!1),s.lanes=4194304);g.isBackwards?(x.sibling=s.child,s.child=x):(a=g.last,a!==null?a.sibling=x:s.child=x,g.last=x)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=bt(),s.sibling=null,a=dt.current,nt(dt,u?a&1|2:a&1),s):(Wt(s),null);case 22:case 23:return fu(),u=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==u&&(s.flags|=8192),u&&(s.mode&1)!==0?(wn&1073741824)!==0&&(Wt(s),s.subtreeFlags&6&&(s.flags|=8192)):Wt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function n1(r,s){switch(_c(s),s.tag){case 1:return on(s.type)&&ha(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Js(),ot(sn),ot(zt),Dc(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Ic(s),null;case 13:if(ot(dt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Ws()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ot(dt),null;case 4:return Js(),null;case 10:return Nc(s.type._context),null;case 22:case 23:return fu(),null;case 24:return null;default:return null}}var Pa=!1,qt=!1,r1=typeof WeakSet=="function"?WeakSet:Set,de=null;function Xs(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(u){yt(r,s,u)}else a.current=null}function tu(r,s,a){try{a()}catch(u){yt(r,s,u)}}var cm=!1;function s1(r,s){if(fc=Qo,r=Bf(),ic(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var x=0,k=-1,A=-1,L=0,G=0,X=r,q=null;t:for(;;){for(var le;X!==a||f!==0&&X.nodeType!==3||(k=x+f),X!==g||u!==0&&X.nodeType!==3||(A=x+u),X.nodeType===3&&(x+=X.nodeValue.length),(le=X.firstChild)!==null;)q=X,X=le;for(;;){if(X===r)break t;if(q===a&&++L===f&&(k=x),q===g&&++G===u&&(A=x),(le=X.nextSibling)!==null)break;X=q,q=X.parentNode}X=le}a=k===-1||A===-1?null:{start:k,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(pc={focusedElem:r,selectionRange:a},Qo=!1,de=s;de!==null;)if(s=de,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,de=r;else for(;de!==null;){s=de;try{var fe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var ge=fe.memoizedProps,_t=fe.memoizedState,D=s.stateNode,R=D.getSnapshotBeforeUpdate(s.elementType===s.type?ge:Ln(s.type,ge),_t);D.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var M=s.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Z){yt(s,s.return,Z)}if(r=s.sibling,r!==null){r.return=s.return,de=r;break}de=s.return}return fe=cm,cm=!1,fe}function io(r,s,a){var u=s.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&tu(s,a,g)}f=f.next}while(f!==u)}}function Ia(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var u=a.create;a.destroy=u()}a=a.next}while(a!==s)}}function nu(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function um(r){var s=r.alternate;s!==null&&(r.alternate=null,um(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Gn],delete s[Gi],delete s[vc],delete s[Ub],delete s[Bb])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function dm(r){return r.tag===5||r.tag===3||r.tag===4}function hm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||dm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ru(r,s,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ua));else if(u!==4&&(r=r.child,r!==null))for(ru(r,s,a),r=r.sibling;r!==null;)ru(r,s,a),r=r.sibling}function su(r,s,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(u!==4&&(r=r.child,r!==null))for(su(r,s,a),r=r.sibling;r!==null;)su(r,s,a),r=r.sibling}var $t=null,$n=!1;function Ir(r,s,a){for(a=a.child;a!==null;)fm(r,s,a),a=a.sibling}function fm(r,s,a){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(qo,a)}catch{}switch(a.tag){case 5:qt||Xs(a,s);case 6:var u=$t,f=$n;$t=null,Ir(r,s,a),$t=u,$n=f,$t!==null&&($n?(r=$t,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):$t.removeChild(a.stateNode));break;case 18:$t!==null&&($n?(r=$t,a=a.stateNode,r.nodeType===8?yc(r.parentNode,a):r.nodeType===1&&yc(r,a),Li(r)):yc($t,a.stateNode));break;case 4:u=$t,f=$n,$t=a.stateNode.containerInfo,$n=!0,Ir(r,s,a),$t=u,$n=f;break;case 0:case 11:case 14:case 15:if(!qt&&(u=a.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){f=u=u.next;do{var g=f,x=g.destroy;g=g.tag,x!==void 0&&((g&2)!==0||(g&4)!==0)&&tu(a,s,x),f=f.next}while(f!==u)}Ir(r,s,a);break;case 1:if(!qt&&(Xs(a,s),u=a.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=a.memoizedProps,u.state=a.memoizedState,u.componentWillUnmount()}catch(k){yt(a,s,k)}Ir(r,s,a);break;case 21:Ir(r,s,a);break;case 22:a.mode&1?(qt=(u=qt)||a.memoizedState!==null,Ir(r,s,a),qt=u):Ir(r,s,a);break;default:Ir(r,s,a)}}function pm(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new r1),s.forEach(function(u){var f=f1.bind(null,r,u);a.has(u)||(a.add(u),u.then(f,f))})}}function Vn(r,s){var a=s.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];try{var g=r,x=s,k=x;e:for(;k!==null;){switch(k.tag){case 5:$t=k.stateNode,$n=!1;break e;case 3:$t=k.stateNode.containerInfo,$n=!0;break e;case 4:$t=k.stateNode.containerInfo,$n=!0;break e}k=k.return}if($t===null)throw Error(n(160));fm(g,x,f),$t=null,$n=!1;var A=f.alternate;A!==null&&(A.return=null),f.return=null}catch(L){yt(f,s,L)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)mm(s,r),s=s.sibling}function mm(r,s){var a=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Vn(s,r),Xn(r),u&4){try{io(3,r,r.return),Ia(3,r)}catch(ge){yt(r,r.return,ge)}try{io(5,r,r.return)}catch(ge){yt(r,r.return,ge)}}break;case 1:Vn(s,r),Xn(r),u&512&&a!==null&&Xs(a,a.return);break;case 5:if(Vn(s,r),Xn(r),u&512&&a!==null&&Xs(a,a.return),r.flags&32){var f=r.stateNode;try{Yt(f,"")}catch(ge){yt(r,r.return,ge)}}if(u&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,x=a!==null?a.memoizedProps:g,k=r.type,A=r.updateQueue;if(r.updateQueue=null,A!==null)try{k==="input"&&g.type==="radio"&&g.name!=null&&nn(f,g),K(k,x);var L=K(k,g);for(x=0;x<A.length;x+=2){var G=A[x],X=A[x+1];G==="style"?Ps(f,X):G==="dangerouslySetInnerHTML"?nr(f,X):G==="children"?Yt(f,X):P(f,G,X,L)}switch(k){case"input":Pn(f,g);break;case"textarea":In(f,g);break;case"select":var q=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var le=g.value;le!=null?xt(f,!!g.multiple,le,!1):q!==!!g.multiple&&(g.defaultValue!=null?xt(f,!!g.multiple,g.defaultValue,!0):xt(f,!!g.multiple,g.multiple?[]:"",!1))}f[Gi]=g}catch(ge){yt(r,r.return,ge)}}break;case 6:if(Vn(s,r),Xn(r),u&4){if(r.stateNode===null)throw Error(n(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(ge){yt(r,r.return,ge)}}break;case 3:if(Vn(s,r),Xn(r),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Li(s.containerInfo)}catch(ge){yt(r,r.return,ge)}break;case 4:Vn(s,r),Xn(r);break;case 13:Vn(s,r),Xn(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(au=bt())),u&4&&pm(r);break;case 22:if(G=a!==null&&a.memoizedState!==null,r.mode&1?(qt=(L=qt)||G,Vn(s,r),qt=L):Vn(s,r),Xn(r),u&8192){if(L=r.memoizedState!==null,(r.stateNode.isHidden=L)&&!G&&(r.mode&1)!==0)for(de=r,G=r.child;G!==null;){for(X=de=G;de!==null;){switch(q=de,le=q.child,q.tag){case 0:case 11:case 14:case 15:io(4,q,q.return);break;case 1:Xs(q,q.return);var fe=q.stateNode;if(typeof fe.componentWillUnmount=="function"){u=q,a=q.return;try{s=u,fe.props=s.memoizedProps,fe.state=s.memoizedState,fe.componentWillUnmount()}catch(ge){yt(u,a,ge)}}break;case 5:Xs(q,q.return);break;case 22:if(q.memoizedState!==null){vm(X);continue}}le!==null?(le.return=q,de=le):vm(X)}G=G.sibling}e:for(G=null,X=r;;){if(X.tag===5){if(G===null){G=X;try{f=X.stateNode,L?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(k=X.stateNode,A=X.memoizedProps.style,x=A!=null&&A.hasOwnProperty("display")?A.display:null,k.style.display=Rs("display",x))}catch(ge){yt(r,r.return,ge)}}}else if(X.tag===6){if(G===null)try{X.stateNode.nodeValue=L?"":X.memoizedProps}catch(ge){yt(r,r.return,ge)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===r)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===r)break e;for(;X.sibling===null;){if(X.return===null||X.return===r)break e;G===X&&(G=null),X=X.return}G===X&&(G=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:Vn(s,r),Xn(r),u&4&&pm(r);break;case 21:break;default:Vn(s,r),Xn(r)}}function Xn(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(dm(a)){var u=a;break e}a=a.return}throw Error(n(160))}switch(u.tag){case 5:var f=u.stateNode;u.flags&32&&(Yt(f,""),u.flags&=-33);var g=hm(r);su(r,g,f);break;case 3:case 4:var x=u.stateNode.containerInfo,k=hm(r);ru(r,k,x);break;default:throw Error(n(161))}}catch(A){yt(r,r.return,A)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function i1(r,s,a){de=r,gm(r)}function gm(r,s,a){for(var u=(r.mode&1)!==0;de!==null;){var f=de,g=f.child;if(f.tag===22&&u){var x=f.memoizedState!==null||Pa;if(!x){var k=f.alternate,A=k!==null&&k.memoizedState!==null||qt;k=Pa;var L=qt;if(Pa=x,(qt=A)&&!L)for(de=f;de!==null;)x=de,A=x.child,x.tag===22&&x.memoizedState!==null?wm(f):A!==null?(A.return=x,de=A):wm(f);for(;g!==null;)de=g,gm(g),g=g.sibling;de=f,Pa=k,qt=L}ym(r)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,de=g):ym(r)}}function ym(r){for(;de!==null;){var s=de;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:qt||Ia(5,s);break;case 1:var u=s.stateNode;if(s.flags&4&&!qt)if(a===null)u.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:Ln(s.type,a.memoizedProps);u.componentDidUpdate(f,a.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&vp(s,g,u);break;case 3:var x=s.updateQueue;if(x!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}vp(s,x,a)}break;case 5:var k=s.stateNode;if(a===null&&s.flags&4){a=k;var A=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&a.focus();break;case"img":A.src&&(a.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var L=s.alternate;if(L!==null){var G=L.memoizedState;if(G!==null){var X=G.dehydrated;X!==null&&Li(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}qt||s.flags&512&&nu(s)}catch(q){yt(s,s.return,q)}}if(s===r){de=null;break}if(a=s.sibling,a!==null){a.return=s.return,de=a;break}de=s.return}}function vm(r){for(;de!==null;){var s=de;if(s===r){de=null;break}var a=s.sibling;if(a!==null){a.return=s.return,de=a;break}de=s.return}}function wm(r){for(;de!==null;){var s=de;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Ia(4,s)}catch(A){yt(s,a,A)}break;case 1:var u=s.stateNode;if(typeof u.componentDidMount=="function"){var f=s.return;try{u.componentDidMount()}catch(A){yt(s,f,A)}}var g=s.return;try{nu(s)}catch(A){yt(s,g,A)}break;case 5:var x=s.return;try{nu(s)}catch(A){yt(s,x,A)}}}catch(A){yt(s,s.return,A)}if(s===r){de=null;break}var k=s.sibling;if(k!==null){k.return=s.return,de=k;break}de=s.return}}var o1=Math.ceil,Oa=$.ReactCurrentDispatcher,iu=$.ReactCurrentOwner,Cn=$.ReactCurrentBatchConfig,Ke=0,Ot=null,St=null,Vt=0,wn=0,Qs=Nr(0),Ct=0,oo=null,ss=0,Da=0,ou=0,ao=null,ln=null,au=0,Zs=1/0,ur=null,Ma=!1,lu=null,Or=null,La=!1,Dr=null,$a=0,lo=0,cu=null,Va=-1,Ua=0;function en(){return(Ke&6)!==0?bt():Va!==-1?Va:Va=bt()}function Mr(r){return(r.mode&1)===0?1:(Ke&2)!==0&&Vt!==0?Vt&-Vt:zb.transition!==null?(Ua===0&&(Ua=hf()),Ua):(r=Ze,r!==0||(r=window.event,r=r===void 0?16:bf(r.type)),r)}function Un(r,s,a,u){if(50<lo)throw lo=0,cu=null,Error(n(185));Pi(r,a,u),((Ke&2)===0||r!==Ot)&&(r===Ot&&((Ke&2)===0&&(Da|=a),Ct===4&&Lr(r,Vt)),cn(r,u),a===1&&Ke===0&&(s.mode&1)===0&&(Zs=bt()+500,pa&&Ar()))}function cn(r,s){var a=r.callbackNode;zx(r,s);var u=Jo(r,r===Ot?Vt:0);if(u===0)a!==null&&cf(a),r.callbackNode=null,r.callbackPriority=0;else if(s=u&-u,r.callbackPriority!==s){if(a!=null&&cf(a),s===1)r.tag===0?Fb(bm.bind(null,r)):op(bm.bind(null,r)),$b(function(){(Ke&6)===0&&Ar()}),a=null;else{switch(ff(u)){case 1:a=Fl;break;case 4:a=uf;break;case 16:a=Wo;break;case 536870912:a=df;break;default:a=Wo}a=jm(a,xm.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function xm(r,s){if(Va=-1,Ua=0,(Ke&6)!==0)throw Error(n(327));var a=r.callbackNode;if(ei()&&r.callbackNode!==a)return null;var u=Jo(r,r===Ot?Vt:0);if(u===0)return null;if((u&30)!==0||(u&r.expiredLanes)!==0||s)s=Ba(r,u);else{s=u;var f=Ke;Ke|=2;var g=Sm();(Ot!==r||Vt!==s)&&(ur=null,Zs=bt()+500,os(r,s));do try{c1();break}catch(k){_m(r,k)}while(!0);Cc(),Oa.current=g,Ke=f,St!==null?s=0:(Ot=null,Vt=0,s=Ct)}if(s!==0){if(s===2&&(f=zl(r),f!==0&&(u=f,s=uu(r,f))),s===1)throw a=oo,os(r,0),Lr(r,u),cn(r,bt()),a;if(s===6)Lr(r,u);else{if(f=r.current.alternate,(u&30)===0&&!a1(f)&&(s=Ba(r,u),s===2&&(g=zl(r),g!==0&&(u=g,s=uu(r,g))),s===1))throw a=oo,os(r,0),Lr(r,u),cn(r,bt()),a;switch(r.finishedWork=f,r.finishedLanes=u,s){case 0:case 1:throw Error(n(345));case 2:as(r,ln,ur);break;case 3:if(Lr(r,u),(u&130023424)===u&&(s=au+500-bt(),10<s)){if(Jo(r,0)!==0)break;if(f=r.suspendedLanes,(f&u)!==u){en(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=gc(as.bind(null,r,ln,ur),s);break}as(r,ln,ur);break;case 4:if(Lr(r,u),(u&4194240)===u)break;for(s=r.eventTimes,f=-1;0<u;){var x=31-On(u);g=1<<x,x=s[x],x>f&&(f=x),u&=~g}if(u=f,u=bt()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*o1(u/1960))-u,10<u){r.timeoutHandle=gc(as.bind(null,r,ln,ur),u);break}as(r,ln,ur);break;case 5:as(r,ln,ur);break;default:throw Error(n(329))}}}return cn(r,bt()),r.callbackNode===a?xm.bind(null,r):null}function uu(r,s){var a=ao;return r.current.memoizedState.isDehydrated&&(os(r,s).flags|=256),r=Ba(r,s),r!==2&&(s=ln,ln=a,s!==null&&du(s)),r}function du(r){ln===null?ln=r:ln.push.apply(ln,r)}function a1(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var u=0;u<a.length;u++){var f=a[u],g=f.getSnapshot;f=f.value;try{if(!Dn(g(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Lr(r,s){for(s&=~ou,s&=~Da,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-On(s),u=1<<a;r[a]=-1,s&=~u}}function bm(r){if((Ke&6)!==0)throw Error(n(327));ei();var s=Jo(r,0);if((s&1)===0)return cn(r,bt()),null;var a=Ba(r,s);if(r.tag!==0&&a===2){var u=zl(r);u!==0&&(s=u,a=uu(r,u))}if(a===1)throw a=oo,os(r,0),Lr(r,s),cn(r,bt()),a;if(a===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,as(r,ln,ur),cn(r,bt()),null}function hu(r,s){var a=Ke;Ke|=1;try{return r(s)}finally{Ke=a,Ke===0&&(Zs=bt()+500,pa&&Ar())}}function is(r){Dr!==null&&Dr.tag===0&&(Ke&6)===0&&ei();var s=Ke;Ke|=1;var a=Cn.transition,u=Ze;try{if(Cn.transition=null,Ze=1,r)return r()}finally{Ze=u,Cn.transition=a,Ke=s,(Ke&6)===0&&Ar()}}function fu(){wn=Qs.current,ot(Qs)}function os(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,Lb(a)),St!==null)for(a=St.return;a!==null;){var u=a;switch(_c(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&ha();break;case 3:Js(),ot(sn),ot(zt),Dc();break;case 5:Ic(u);break;case 4:Js();break;case 13:ot(dt);break;case 19:ot(dt);break;case 10:Nc(u.type._context);break;case 22:case 23:fu()}a=a.return}if(Ot=r,St=r=$r(r.current,null),Vt=wn=s,Ct=0,oo=null,ou=Da=ss=0,ln=ao=null,ts!==null){for(s=0;s<ts.length;s++)if(a=ts[s],u=a.interleaved,u!==null){a.interleaved=null;var f=u.next,g=a.pending;if(g!==null){var x=g.next;g.next=f,u.next=x}a.pending=u}ts=null}return r}function _m(r,s){do{var a=St;try{if(Cc(),ka.current=Na,Ea){for(var u=ht.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}Ea=!1}if(rs=0,It=Tt=ht=null,eo=!1,to=0,iu.current=null,a===null||a.return===null){Ct=1,oo=s,St=null;break}e:{var g=r,x=a.return,k=a,A=s;if(s=Vt,k.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var L=A,G=k,X=G.tag;if((G.mode&1)===0&&(X===0||X===11||X===15)){var q=G.alternate;q?(G.updateQueue=q.updateQueue,G.memoizedState=q.memoizedState,G.lanes=q.lanes):(G.updateQueue=null,G.memoizedState=null)}var le=Kp(x);if(le!==null){le.flags&=-257,Gp(le,x,k,g,s),le.mode&1&&qp(g,L,s),s=le,A=L;var fe=s.updateQueue;if(fe===null){var ge=new Set;ge.add(A),s.updateQueue=ge}else fe.add(A);break e}else{if((s&1)===0){qp(g,L,s),pu();break e}A=Error(n(426))}}else if(ut&&k.mode&1){var _t=Kp(x);if(_t!==null){(_t.flags&65536)===0&&(_t.flags|=256),Gp(_t,x,k,g,s),Ec(Ys(A,k));break e}}g=A=Ys(A,k),Ct!==4&&(Ct=2),ao===null?ao=[g]:ao.push(g),g=x;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var D=Hp(g,A,s);yp(g,D);break e;case 1:k=A;var R=g.type,M=g.stateNode;if((g.flags&128)===0&&(typeof R.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Or===null||!Or.has(M)))){g.flags|=65536,s&=-s,g.lanes|=s;var Z=Wp(g,k,s);yp(g,Z);break e}}g=g.return}while(g!==null)}Em(a)}catch(ve){s=ve,St===a&&a!==null&&(St=a=a.return);continue}break}while(!0)}function Sm(){var r=Oa.current;return Oa.current=Na,r===null?Na:r}function pu(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Ot===null||(ss&268435455)===0&&(Da&268435455)===0||Lr(Ot,Vt)}function Ba(r,s){var a=Ke;Ke|=2;var u=Sm();(Ot!==r||Vt!==s)&&(ur=null,os(r,s));do try{l1();break}catch(f){_m(r,f)}while(!0);if(Cc(),Ke=a,Oa.current=u,St!==null)throw Error(n(261));return Ot=null,Vt=0,Ct}function l1(){for(;St!==null;)km(St)}function c1(){for(;St!==null&&!Ox();)km(St)}function km(r){var s=Nm(r.alternate,r,wn);r.memoizedProps=r.pendingProps,s===null?Em(r):St=s,iu.current=null}function Em(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=t1(a,s,wn),a!==null){St=a;return}}else{if(a=n1(a,s),a!==null){a.flags&=32767,St=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Ct=6,St=null;return}}if(s=s.sibling,s!==null){St=s;return}St=s=r}while(s!==null);Ct===0&&(Ct=5)}function as(r,s,a){var u=Ze,f=Cn.transition;try{Cn.transition=null,Ze=1,u1(r,s,a,u)}finally{Cn.transition=f,Ze=u}return null}function u1(r,s,a,u){do ei();while(Dr!==null);if((Ke&6)!==0)throw Error(n(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(Hx(r,g),r===Ot&&(St=Ot=null,Vt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||La||(La=!0,jm(Wo,function(){return ei(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=Cn.transition,Cn.transition=null;var x=Ze;Ze=1;var k=Ke;Ke|=4,iu.current=null,s1(r,a),mm(a,r),Ab(pc),Qo=!!fc,pc=fc=null,r.current=a,i1(a),Dx(),Ke=k,Ze=x,Cn.transition=g}else r.current=a;if(La&&(La=!1,Dr=r,$a=f),g=r.pendingLanes,g===0&&(Or=null),$x(a.stateNode),cn(r,bt()),s!==null)for(u=r.onRecoverableError,a=0;a<s.length;a++)f=s[a],u(f.value,{componentStack:f.stack,digest:f.digest});if(Ma)throw Ma=!1,r=lu,lu=null,r;return($a&1)!==0&&r.tag!==0&&ei(),g=r.pendingLanes,(g&1)!==0?r===cu?lo++:(lo=0,cu=r):lo=0,Ar(),null}function ei(){if(Dr!==null){var r=ff($a),s=Cn.transition,a=Ze;try{if(Cn.transition=null,Ze=16>r?16:r,Dr===null)var u=!1;else{if(r=Dr,Dr=null,$a=0,(Ke&6)!==0)throw Error(n(331));var f=Ke;for(Ke|=4,de=r.current;de!==null;){var g=de,x=g.child;if((de.flags&16)!==0){var k=g.deletions;if(k!==null){for(var A=0;A<k.length;A++){var L=k[A];for(de=L;de!==null;){var G=de;switch(G.tag){case 0:case 11:case 15:io(8,G,g)}var X=G.child;if(X!==null)X.return=G,de=X;else for(;de!==null;){G=de;var q=G.sibling,le=G.return;if(um(G),G===L){de=null;break}if(q!==null){q.return=le,de=q;break}de=le}}}var fe=g.alternate;if(fe!==null){var ge=fe.child;if(ge!==null){fe.child=null;do{var _t=ge.sibling;ge.sibling=null,ge=_t}while(ge!==null)}}de=g}}if((g.subtreeFlags&2064)!==0&&x!==null)x.return=g,de=x;else e:for(;de!==null;){if(g=de,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:io(9,g,g.return)}var D=g.sibling;if(D!==null){D.return=g.return,de=D;break e}de=g.return}}var R=r.current;for(de=R;de!==null;){x=de;var M=x.child;if((x.subtreeFlags&2064)!==0&&M!==null)M.return=x,de=M;else e:for(x=R;de!==null;){if(k=de,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:Ia(9,k)}}catch(ve){yt(k,k.return,ve)}if(k===x){de=null;break e}var Z=k.sibling;if(Z!==null){Z.return=k.return,de=Z;break e}de=k.return}}if(Ke=f,Ar(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(qo,r)}catch{}u=!0}return u}finally{Ze=a,Cn.transition=s}}return!1}function Tm(r,s,a){s=Ys(a,s),s=Hp(r,s,1),r=Pr(r,s,1),s=en(),r!==null&&(Pi(r,1,s),cn(r,s))}function yt(r,s,a){if(r.tag===3)Tm(r,r,a);else for(;s!==null;){if(s.tag===3){Tm(s,r,a);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Or===null||!Or.has(u))){r=Ys(a,r),r=Wp(s,r,1),s=Pr(s,r,1),r=en(),s!==null&&(Pi(s,1,r),cn(s,r));break}}s=s.return}}function d1(r,s,a){var u=r.pingCache;u!==null&&u.delete(s),s=en(),r.pingedLanes|=r.suspendedLanes&a,Ot===r&&(Vt&a)===a&&(Ct===4||Ct===3&&(Vt&130023424)===Vt&&500>bt()-au?os(r,0):ou|=a),cn(r,s)}function Cm(r,s){s===0&&((r.mode&1)===0?s=1:(s=Go,Go<<=1,(Go&130023424)===0&&(Go=4194304)));var a=en();r=ar(r,s),r!==null&&(Pi(r,s,a),cn(r,a))}function h1(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Cm(r,a)}function f1(r,s){var a=0;switch(r.tag){case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=r.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(s),Cm(r,a)}var Nm;Nm=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||sn.current)an=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return an=!1,e1(r,s,a);an=(r.flags&131072)!==0}else an=!1,ut&&(s.flags&1048576)!==0&&ap(s,ga,s.index);switch(s.lanes=0,s.tag){case 2:var u=s.type;Ra(r,s),r=s.pendingProps;var f=Fs(s,zt.current);Gs(s,a),f=$c(null,s,u,r,f,a);var g=Vc();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,on(u)?(g=!0,fa(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Rc(s),f.updater=ja,s.stateNode=f,f._reactInternals=s,Wc(s,u,r,a),s=Jc(null,s,u,!0,g,a)):(s.tag=0,ut&&g&&bc(s),Zt(null,s,f,a),s=s.child),s;case 16:u=s.elementType;e:{switch(Ra(r,s),r=s.pendingProps,f=u._init,u=f(u._payload),s.type=u,f=s.tag=m1(u),r=Ln(u,r),f){case 0:s=Gc(null,s,u,r,a);break e;case 1:s=em(null,s,u,r,a);break e;case 11:s=Jp(null,s,u,r,a);break e;case 14:s=Yp(null,s,u,Ln(u.type,r),a);break e}throw Error(n(306,u,""))}return s;case 0:return u=s.type,f=s.pendingProps,f=s.elementType===u?f:Ln(u,f),Gc(r,s,u,f,a);case 1:return u=s.type,f=s.pendingProps,f=s.elementType===u?f:Ln(u,f),em(r,s,u,f,a);case 3:e:{if(tm(s),r===null)throw Error(n(387));u=s.pendingProps,g=s.memoizedState,f=g.element,gp(r,s),_a(s,u,null,a);var x=s.memoizedState;if(u=x.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=Ys(Error(n(423)),s),s=nm(r,s,u,a,f);break e}else if(u!==f){f=Ys(Error(n(424)),s),s=nm(r,s,u,a,f);break e}else for(vn=Cr(s.stateNode.containerInfo.firstChild),yn=s,ut=!0,Mn=null,a=pp(s,null,u,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ws(),u===f){s=cr(r,s,a);break e}Zt(r,s,u,a)}s=s.child}return s;case 5:return wp(s),r===null&&kc(s),u=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,x=f.children,mc(u,f)?x=null:g!==null&&mc(u,g)&&(s.flags|=32),Zp(r,s),Zt(r,s,x,a),s.child;case 6:return r===null&&kc(s),null;case 13:return rm(r,s,a);case 4:return Pc(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=qs(s,null,u,a):Zt(r,s,u,a),s.child;case 11:return u=s.type,f=s.pendingProps,f=s.elementType===u?f:Ln(u,f),Jp(r,s,u,f,a);case 7:return Zt(r,s,s.pendingProps,a),s.child;case 8:return Zt(r,s,s.pendingProps.children,a),s.child;case 12:return Zt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(u=s.type._context,f=s.pendingProps,g=s.memoizedProps,x=f.value,nt(wa,u._currentValue),u._currentValue=x,g!==null)if(Dn(g.value,x)){if(g.children===f.children&&!sn.current){s=cr(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var k=g.dependencies;if(k!==null){x=g.child;for(var A=k.firstContext;A!==null;){if(A.context===u){if(g.tag===1){A=lr(-1,a&-a),A.tag=2;var L=g.updateQueue;if(L!==null){L=L.shared;var G=L.pending;G===null?A.next=A:(A.next=G.next,G.next=A),L.pending=A}}g.lanes|=a,A=g.alternate,A!==null&&(A.lanes|=a),jc(g.return,a,s),k.lanes|=a;break}A=A.next}}else if(g.tag===10)x=g.type===s.type?null:g.child;else if(g.tag===18){if(x=g.return,x===null)throw Error(n(341));x.lanes|=a,k=x.alternate,k!==null&&(k.lanes|=a),jc(x,a,s),x=g.sibling}else x=g.child;if(x!==null)x.return=g;else for(x=g;x!==null;){if(x===s){x=null;break}if(g=x.sibling,g!==null){g.return=x.return,x=g;break}x=x.return}g=x}Zt(r,s,f.children,a),s=s.child}return s;case 9:return f=s.type,u=s.pendingProps.children,Gs(s,a),f=En(f),u=u(f),s.flags|=1,Zt(r,s,u,a),s.child;case 14:return u=s.type,f=Ln(u,s.pendingProps),f=Ln(u.type,f),Yp(r,s,u,f,a);case 15:return Xp(r,s,s.type,s.pendingProps,a);case 17:return u=s.type,f=s.pendingProps,f=s.elementType===u?f:Ln(u,f),Ra(r,s),s.tag=1,on(u)?(r=!0,fa(s)):r=!1,Gs(s,a),Fp(s,u,f),Wc(s,u,f,a),Jc(null,s,u,!0,r,a);case 19:return im(r,s,a);case 22:return Qp(r,s,a)}throw Error(n(156,s.tag))};function jm(r,s){return lf(r,s)}function p1(r,s,a,u){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(r,s,a,u){return new p1(r,s,a,u)}function mu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function m1(r){if(typeof r=="function")return mu(r)?1:0;if(r!=null){if(r=r.$$typeof,r===Me)return 11;if(r===Pe)return 14}return 2}function $r(r,s){var a=r.alternate;return a===null?(a=Nn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Fa(r,s,a,u,f,g){var x=2;if(u=r,typeof r=="function")mu(r)&&(x=1);else if(typeof r=="string")x=5;else e:switch(r){case H:return ls(a.children,f,g,s);case I:x=8,f|=8;break;case J:return r=Nn(12,a,s,f|2),r.elementType=J,r.lanes=g,r;case Le:return r=Nn(13,a,s,f),r.elementType=Le,r.lanes=g,r;case He:return r=Nn(19,a,s,f),r.elementType=He,r.lanes=g,r;case te:return za(a,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case ue:x=10;break e;case Te:x=9;break e;case Me:x=11;break e;case Pe:x=14;break e;case ce:x=16,u=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=Nn(x,a,s,f),s.elementType=r,s.type=u,s.lanes=g,s}function ls(r,s,a,u){return r=Nn(7,r,u,s),r.lanes=a,r}function za(r,s,a,u){return r=Nn(22,r,u,s),r.elementType=te,r.lanes=a,r.stateNode={isHidden:!1},r}function gu(r,s,a){return r=Nn(6,r,null,s),r.lanes=a,r}function yu(r,s,a){return s=Nn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function g1(r,s,a,u,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hl(0),this.expirationTimes=Hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hl(0),this.identifierPrefix=u,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function vu(r,s,a,u,f,g,x,k,A){return r=new g1(r,s,a,k,A),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Nn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:u,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rc(g),r}function y1(r,s,a){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:u==null?null:""+u,children:r,containerInfo:s,implementation:a}}function Am(r){if(!r)return jr;r=r._reactInternals;e:{if(Yr(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(on(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var a=r.type;if(on(a))return sp(r,a,s)}return s}function Rm(r,s,a,u,f,g,x,k,A){return r=vu(a,u,!0,r,f,g,x,k,A),r.context=Am(null),a=r.current,u=en(),f=Mr(a),g=lr(u,f),g.callback=s??null,Pr(a,g,f),r.current.lanes=f,Pi(r,f,u),cn(r,u),r}function Ha(r,s,a,u){var f=s.current,g=en(),x=Mr(f);return a=Am(a),s.context===null?s.context=a:s.pendingContext=a,s=lr(g,x),s.payload={element:r},u=u===void 0?null:u,u!==null&&(s.callback=u),r=Pr(f,s,x),r!==null&&(Un(r,f,x,g),ba(r,f,x)),x}function Wa(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Pm(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function wu(r,s){Pm(r,s),(r=r.alternate)&&Pm(r,s)}function v1(){return null}var Im=typeof reportError=="function"?reportError:function(r){console.error(r)};function xu(r){this._internalRoot=r}qa.prototype.render=xu.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));Ha(r,s,null,null)},qa.prototype.unmount=xu.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;is(function(){Ha(null,r,null,null)}),s[rr]=null}};function qa(r){this._internalRoot=r}qa.prototype.unstable_scheduleHydration=function(r){if(r){var s=gf();r={blockedOn:null,target:r,priority:s};for(var a=0;a<kr.length&&s!==0&&s<kr[a].priority;a++);kr.splice(a,0,r),a===0&&wf(r)}};function bu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ka(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Om(){}function w1(r,s,a,u,f){if(f){if(typeof u=="function"){var g=u;u=function(){var L=Wa(x);g.call(L)}}var x=Rm(s,u,r,0,null,!1,!1,"",Om);return r._reactRootContainer=x,r[rr]=x.current,qi(r.nodeType===8?r.parentNode:r),is(),x}for(;f=r.lastChild;)r.removeChild(f);if(typeof u=="function"){var k=u;u=function(){var L=Wa(A);k.call(L)}}var A=vu(r,0,!1,null,null,!1,!1,"",Om);return r._reactRootContainer=A,r[rr]=A.current,qi(r.nodeType===8?r.parentNode:r),is(function(){Ha(s,A,a,u)}),A}function Ga(r,s,a,u,f){var g=a._reactRootContainer;if(g){var x=g;if(typeof f=="function"){var k=f;f=function(){var A=Wa(x);k.call(A)}}Ha(s,x,r,f)}else x=w1(a,s,r,f,u);return Wa(x)}pf=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Ri(s.pendingLanes);a!==0&&(Wl(s,a|1),cn(s,bt()),(Ke&6)===0&&(Zs=bt()+500,Ar()))}break;case 13:is(function(){var u=ar(r,1);if(u!==null){var f=en();Un(u,r,1,f)}}),wu(r,1)}},ql=function(r){if(r.tag===13){var s=ar(r,134217728);if(s!==null){var a=en();Un(s,r,134217728,a)}wu(r,134217728)}},mf=function(r){if(r.tag===13){var s=Mr(r),a=ar(r,s);if(a!==null){var u=en();Un(a,r,s,u)}wu(r,s)}},gf=function(){return Ze},yf=function(r,s){var a=Ze;try{return Ze=r,s()}finally{Ze=a}},ae=function(r,s,a){switch(s){case"input":if(Pn(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var u=a[s];if(u!==r&&u.form===r.form){var f=da(u);if(!f)throw Error(n(90));Ne(u),Pn(u,f)}}}break;case"textarea":In(r,a);break;case"select":s=a.value,s!=null&&xt(r,!!a.multiple,s,!1)}},et=hu,Qe=is;var x1={usingClientEntryPoint:!1,Events:[Ji,Us,da,he,qe,hu]},co={findFiberByHostInstance:Xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},b1={bundleType:co.bundleType,version:co.version,rendererPackageName:co.rendererPackageName,rendererConfig:co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=of(r),r===null?null:r.stateNode},findFiberByHostInstance:co.findFiberByHostInstance||v1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ja=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ja.isDisabled&&Ja.supportsFiber)try{qo=Ja.inject(b1),Kn=Ja}catch{}}return un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x1,un.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bu(s))throw Error(n(200));return y1(r,s,null,a)},un.createRoot=function(r,s){if(!bu(r))throw Error(n(299));var a=!1,u="",f=Im;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=vu(r,1,!1,null,null,a,!1,u,f),r[rr]=s.current,qi(r.nodeType===8?r.parentNode:r),new xu(s)},un.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=of(s),r=r===null?null:r.stateNode,r},un.flushSync=function(r){return is(r)},un.hydrate=function(r,s,a){if(!Ka(s))throw Error(n(200));return Ga(null,r,s,!0,a)},un.hydrateRoot=function(r,s,a){if(!bu(r))throw Error(n(405));var u=a!=null&&a.hydratedSources||null,f=!1,g="",x=Im;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),s=Rm(s,null,r,1,a??null,f,!1,g,x),r[rr]=s.current,qi(r),u)for(r=0;r<u.length;r++)a=u[r],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new qa(s)},un.render=function(r,s,a){if(!Ka(s))throw Error(n(200));return Ga(null,r,s,!1,a)},un.unmountComponentAtNode=function(r){if(!Ka(r))throw Error(n(40));return r._reactRootContainer?(is(function(){Ga(null,null,r,!1,function(){r._reactRootContainer=null,r[rr]=null})}),!0):!1},un.unstable_batchedUpdates=hu,un.unstable_renderSubtreeIntoContainer=function(r,s,a,u){if(!Ka(a))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Ga(r,s,a,!1,u)},un.version="18.3.1-next-f1338f8080-20240426",un}var Fm;function dy(){if(Fm)return ku.exports;Fm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ku.exports=N1(),ku.exports}var zm;function j1(){if(zm)return Ya;zm=1;var t=dy();return Ya.createRoot=t.createRoot,Ya.hydrateRoot=t.hydrateRoot,Ya}var A1=j1(),T=rh();const ie=uy(T),sh=T.createContext({});function $o(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const ih=typeof window<"u",oh=ih?T.useLayoutEffect:T.useEffect,Tl=T.createContext(null);function ah(t,e){t.indexOf(e)===-1&&t.push(e)}function lh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const mr=(t,e,n)=>n>e?e:n<t?t:n;let ch=()=>{};const gr={},hy=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function fy(t){return typeof t=="object"&&t!==null}const py=t=>/^0[^.\s]+$/u.test(t);function uh(t){let e;return()=>(e===void 0&&(e=t()),e)}const Rn=t=>t,R1=(t,e)=>n=>e(t(n)),Vo=(...t)=>t.reduce(R1),ko=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class dh{constructor(){this.subscriptions=[]}add(e){return ah(this.subscriptions,e),()=>lh(this.subscriptions,e)}notify(e,n,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,i);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Zn=t=>t*1e3,An=t=>t/1e3;function my(t,e){return e?t*(1e3/e):0}const gy=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,P1=1e-7,I1=12;function O1(t,e,n,i,o){let l,c,d=0;do c=e+(n-e)/2,l=gy(c,i,o)-t,l>0?n=c:e=c;while(Math.abs(l)>P1&&++d<I1);return c}function Uo(t,e,n,i){if(t===e&&n===i)return Rn;const o=l=>O1(l,0,1,t,n);return l=>l===0||l===1?l:gy(o(l),e,i)}const yy=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,vy=t=>e=>1-t(1-e),wy=Uo(.33,1.53,.69,.99),hh=vy(wy),xy=yy(hh),by=t=>(t*=2)<1?.5*hh(t):.5*(2-Math.pow(2,-10*(t-1))),fh=t=>1-Math.sin(Math.acos(t)),_y=vy(fh),Sy=yy(fh),D1=Uo(.42,0,1,1),M1=Uo(0,0,.58,1),ky=Uo(.42,0,.58,1),L1=t=>Array.isArray(t)&&typeof t[0]!="number",Ey=t=>Array.isArray(t)&&typeof t[0]=="number",$1={linear:Rn,easeIn:D1,easeInOut:ky,easeOut:M1,circIn:fh,circInOut:Sy,circOut:_y,backIn:hh,backInOut:xy,backOut:wy,anticipate:by},V1=t=>typeof t=="string",Hm=t=>{if(Ey(t)){ch(t.length===4);const[e,n,i,o]=t;return Uo(e,n,i,o)}else if(V1(t))return $1[t];return t},Xa=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function U1(t,e){let n=new Set,i=new Set,o=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function h(v){c.has(v)&&(p.schedule(v),t()),v(d)}const p={schedule:(v,y=!1,w=!1)=>{const S=w&&o?n:i;return y&&c.add(v),S.has(v)||S.add(v),v},cancel:v=>{i.delete(v),c.delete(v)},process:v=>{if(d=v,o){l=!0;return}o=!0,[n,i]=[i,n],n.forEach(h),n.clear(),o=!1,l&&(l=!1,p.process(v))}};return p}const B1=40;function Ty(t,e){let n=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Xa.reduce((P,$)=>(P[$]=U1(l),P),{}),{setup:d,read:h,resolveKeyframes:p,preUpdate:v,update:y,preRender:w,render:b,postRender:S}=c,E=()=>{const P=gr.useManualTiming?o.timestamp:performance.now();n=!1,gr.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(P-o.timestamp,B1),1)),o.timestamp=P,o.isProcessing=!0,d.process(o),h.process(o),p.process(o),v.process(o),y.process(o),w.process(o),b.process(o),S.process(o),o.isProcessing=!1,n&&e&&(i=!1,t(E))},_=()=>{n=!0,i=!0,o.isProcessing||t(E)};return{schedule:Xa.reduce((P,$)=>{const F=c[$];return P[$]=(z,H=!1,I=!1)=>(n||_(),F.schedule(z,H,I)),P},{}),cancel:P=>{for(let $=0;$<Xa.length;$++)c[Xa[$]].cancel(P)},state:o,steps:c}}const{schedule:st,cancel:yr,state:Ft,steps:Cu}=Ty(typeof requestAnimationFrame<"u"?requestAnimationFrame:Rn,!0);let cl;function F1(){cl=void 0}const fn={now:()=>(cl===void 0&&fn.set(Ft.isProcessing||gr.useManualTiming?Ft.timestamp:performance.now()),cl),set:t=>{cl=t,queueMicrotask(F1)}},Cy=t=>e=>typeof e=="string"&&e.startsWith(t),Ny=Cy("--"),z1=Cy("var(--"),ph=t=>z1(t)?H1.test(t.split("/*")[0].trim()):!1,H1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_i={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Eo={..._i,transform:t=>mr(0,1,t)},Qa={..._i,default:1},go=t=>Math.round(t*1e5)/1e5,mh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function W1(t){return t==null}const q1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,gh=(t,e)=>n=>!!(typeof n=="string"&&q1.test(n)&&n.startsWith(t)||e&&!W1(n)&&Object.prototype.hasOwnProperty.call(n,e)),jy=(t,e,n)=>i=>{if(typeof i!="string")return i;const[o,l,c,d]=i.match(mh);return{[t]:parseFloat(o),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},K1=t=>mr(0,255,t),Nu={..._i,transform:t=>Math.round(K1(t))},vs={test:gh("rgb","red"),parse:jy("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Nu.transform(t)+", "+Nu.transform(e)+", "+Nu.transform(n)+", "+go(Eo.transform(i))+")"};function G1(t){let e="",n="",i="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const cd={test:gh("#"),parse:G1,transform:vs.transform},Bo=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Br=Bo("deg"),er=Bo("%"),je=Bo("px"),J1=Bo("vh"),Y1=Bo("vw"),Wm={...er,parse:t=>er.parse(t)/100,transform:t=>er.transform(t*100)},di={test:gh("hsl","hue"),parse:jy("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+er.transform(go(e))+", "+er.transform(go(n))+", "+go(Eo.transform(i))+")"},Et={test:t=>vs.test(t)||cd.test(t)||di.test(t),parse:t=>vs.test(t)?vs.parse(t):di.test(t)?di.parse(t):cd.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vs.transform(t):di.transform(t),getAnimatableNone:t=>{const e=Et.parse(t);return e.alpha=0,Et.transform(e)}},X1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Q1(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(mh))==null?void 0:e.length)||0)+(((n=t.match(X1))==null?void 0:n.length)||0)>0}const Ay="number",Ry="color",Z1="var",e_="var(",qm="${}",t_=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function To(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},o=[];let l=0;const d=e.replace(t_,h=>(Et.test(h)?(i.color.push(l),o.push(Ry),n.push(Et.parse(h))):h.startsWith(e_)?(i.var.push(l),o.push(Z1),n.push(h)):(i.number.push(l),o.push(Ay),n.push(parseFloat(h))),++l,qm)).split(qm);return{values:n,split:d,indexes:i,types:o}}function Py(t){return To(t).values}function Iy(t){const{split:e,types:n}=To(t),i=e.length;return o=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],o[c]!==void 0){const d=n[c];d===Ay?l+=go(o[c]):d===Ry?l+=Et.transform(o[c]):l+=o[c]}return l}}const n_=t=>typeof t=="number"?0:Et.test(t)?Et.getAnimatableNone(t):t;function r_(t){const e=Py(t);return Iy(t)(e.map(n_))}const qr={test:Q1,parse:Py,createTransformer:Iy,getAnimatableNone:r_};function ju(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function s_({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let o=0,l=0,c=0;if(!e)o=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,h=2*n-d;o=ju(h,d,t+1/3),l=ju(h,d,t),c=ju(h,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function fl(t,e){return n=>n>0?e:t}const pt=(t,e,n)=>t+(e-t)*n,Au=(t,e,n)=>{const i=t*t,o=n*(e*e-i)+i;return o<0?0:Math.sqrt(o)},i_=[cd,vs,di],o_=t=>i_.find(e=>e.test(t));function Km(t){const e=o_(t);if(!e)return!1;let n=e.parse(t);return e===di&&(n=s_(n)),n}const Gm=(t,e)=>{const n=Km(t),i=Km(e);if(!n||!i)return fl(t,e);const o={...n};return l=>(o.red=Au(n.red,i.red,l),o.green=Au(n.green,i.green,l),o.blue=Au(n.blue,i.blue,l),o.alpha=pt(n.alpha,i.alpha,l),vs.transform(o))},ud=new Set(["none","hidden"]);function a_(t,e){return ud.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function l_(t,e){return n=>pt(t,e,n)}function yh(t){return typeof t=="number"?l_:typeof t=="string"?ph(t)?fl:Et.test(t)?Gm:d_:Array.isArray(t)?Oy:typeof t=="object"?Et.test(t)?Gm:c_:fl}function Oy(t,e){const n=[...t],i=n.length,o=t.map((l,c)=>yh(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)n[c]=o[c](l);return n}}function c_(t,e){const n={...t,...e},i={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(i[o]=yh(t[o])(t[o],e[o]));return o=>{for(const l in i)n[l]=i[l](o);return n}}function u_(t,e){const n=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],c=t.indexes[l][i[l]],d=t.values[c]??0;n[o]=d,i[l]++}return n}const d_=(t,e)=>{const n=qr.createTransformer(e),i=To(t),o=To(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?ud.has(t)&&!o.values.length||ud.has(e)&&!i.values.length?a_(t,e):Vo(Oy(u_(i,o),o.values),n):fl(t,e)};function Dy(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?pt(t,e,n):yh(t)(t,e)}const h_=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>st.update(e,n),stop:()=>yr(e),now:()=>Ft.isProcessing?Ft.timestamp:fn.now()}},My=(t,e,n=10)=>{let i="";const o=Math.max(Math.round(e/n),2);for(let l=0;l<o;l++)i+=Math.round(t(l/(o-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},pl=2e4;function vh(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<pl;)e+=n,i=t.next(e);return e>=pl?1/0:e}function f_(t,e=100,n){const i=n({...t,keyframes:[0,e]}),o=Math.min(vh(i),pl);return{type:"keyframes",ease:l=>i.next(o*l).value/e,duration:An(o)}}const p_=5;function Ly(t,e,n){const i=Math.max(e-p_,0);return my(n-t(i),e-i)}const wt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ru=.001;function m_({duration:t=wt.duration,bounce:e=wt.bounce,velocity:n=wt.velocity,mass:i=wt.mass}){let o,l,c=1-e;c=mr(wt.minDamping,wt.maxDamping,c),t=mr(wt.minDuration,wt.maxDuration,An(t)),c<1?(o=p=>{const v=p*c,y=v*t,w=v-n,b=dd(p,c),S=Math.exp(-y);return Ru-w/b*S},l=p=>{const y=p*c*t,w=y*n+n,b=Math.pow(c,2)*Math.pow(p,2)*t,S=Math.exp(-y),E=dd(Math.pow(p,2),c);return(-o(p)+Ru>0?-1:1)*((w-b)*S)/E}):(o=p=>{const v=Math.exp(-p*t),y=(p-n)*t+1;return-Ru+v*y},l=p=>{const v=Math.exp(-p*t),y=(n-p)*(t*t);return v*y});const d=5/t,h=y_(o,l,d);if(t=Zn(t),isNaN(h))return{stiffness:wt.stiffness,damping:wt.damping,duration:t};{const p=Math.pow(h,2)*i;return{stiffness:p,damping:c*2*Math.sqrt(i*p),duration:t}}}const g_=12;function y_(t,e,n){let i=n;for(let o=1;o<g_;o++)i=i-t(i)/e(i);return i}function dd(t,e){return t*Math.sqrt(1-e*e)}const v_=["duration","bounce"],w_=["stiffness","damping","mass"];function Jm(t,e){return e.some(n=>t[n]!==void 0)}function x_(t){let e={velocity:wt.velocity,stiffness:wt.stiffness,damping:wt.damping,mass:wt.mass,isResolvedFromDuration:!1,...t};if(!Jm(t,w_)&&Jm(t,v_))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),o=i*i,l=2*mr(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:wt.mass,stiffness:o,damping:l}}else{const n=m_(t);e={...e,...n,mass:wt.mass},e.isResolvedFromDuration=!0}return e}function ml(t=wt.visualDuration,e=wt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:o}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:h,damping:p,mass:v,duration:y,velocity:w,isResolvedFromDuration:b}=x_({...n,velocity:-An(n.velocity||0)}),S=w||0,E=p/(2*Math.sqrt(h*v)),_=c-l,j=An(Math.sqrt(h/v)),N=Math.abs(_)<5;i||(i=N?wt.restSpeed.granular:wt.restSpeed.default),o||(o=N?wt.restDelta.granular:wt.restDelta.default);let P;if(E<1){const F=dd(j,E);P=z=>{const H=Math.exp(-E*j*z);return c-H*((S+E*j*_)/F*Math.sin(F*z)+_*Math.cos(F*z))}}else if(E===1)P=F=>c-Math.exp(-j*F)*(_+(S+j*_)*F);else{const F=j*Math.sqrt(E*E-1);P=z=>{const H=Math.exp(-E*j*z),I=Math.min(F*z,300);return c-H*((S+E*j*_)*Math.sinh(I)+F*_*Math.cosh(I))/F}}const $={calculatedDuration:b&&y||null,next:F=>{const z=P(F);if(b)d.done=F>=y;else{let H=F===0?S:0;E<1&&(H=F===0?Zn(S):Ly(P,F,z));const I=Math.abs(H)<=i,J=Math.abs(c-z)<=o;d.done=I&&J}return d.value=d.done?c:z,d},toString:()=>{const F=Math.min(vh($),pl),z=My(H=>$.next(F*H).value,F,30);return F+"ms "+z},toTransition:()=>{}};return $}ml.applyToOptions=t=>{const e=f_(t,100,ml);return t.ease=e.ease,t.duration=Zn(e.duration),t.type="keyframes",t};function hd({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:h,restDelta:p=.5,restSpeed:v}){const y=t[0],w={done:!1,value:y},b=I=>d!==void 0&&I<d||h!==void 0&&I>h,S=I=>d===void 0?h:h===void 0||Math.abs(d-I)<Math.abs(h-I)?d:h;let E=n*e;const _=y+E,j=c===void 0?_:c(_);j!==_&&(E=j-y);const N=I=>-E*Math.exp(-I/i),P=I=>j+N(I),$=I=>{const J=N(I),ue=P(I);w.done=Math.abs(J)<=p,w.value=w.done?j:ue};let F,z;const H=I=>{b(w.value)&&(F=I,z=ml({keyframes:[w.value,S(w.value)],velocity:Ly(P,I,w.value),damping:o,stiffness:l,restDelta:p,restSpeed:v}))};return H(0),{calculatedDuration:null,next:I=>{let J=!1;return!z&&F===void 0&&(J=!0,$(I),H(I)),F!==void 0&&I>=F?z.next(I-F):(!J&&$(I),w)}}}function b_(t,e,n){const i=[],o=n||gr.mix||Dy,l=t.length-1;for(let c=0;c<l;c++){let d=o(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||Rn:e;d=Vo(h,d)}i.push(d)}return i}function $y(t,e,{clamp:n=!0,ease:i,mixer:o}={}){const l=t.length;if(ch(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=b_(e,i,o),h=d.length,p=v=>{if(c&&v<t[0])return e[0];let y=0;if(h>1)for(;y<t.length-2&&!(v<t[y+1]);y++);const w=ko(t[y],t[y+1],v);return d[y](w)};return n?v=>p(mr(t[0],t[l-1],v)):p}function __(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const o=ko(0,e,i);t.push(pt(n,1,o))}}function S_(t){const e=[0];return __(e,t.length-1),e}function k_(t,e){return t.map(n=>n*e)}function E_(t,e){return t.map(()=>e||ky).splice(0,t.length-1)}function yo({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const o=L1(i)?i.map(Hm):Hm(i),l={done:!1,value:e[0]},c=k_(n&&n.length===e.length?n:S_(e),t),d=$y(c,e,{ease:Array.isArray(o)?o:E_(e,o)});return{calculatedDuration:t,next:h=>(l.value=d(h),l.done=h>=t,l)}}const T_=t=>t!==null;function wh(t,{repeat:e,repeatType:n="loop"},i,o=1){const l=t.filter(T_),d=o<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||i===void 0?l[d]:i}const C_={decay:hd,inertia:hd,tween:yo,keyframes:yo,spring:ml};function Vy(t){typeof t.type=="string"&&(t.type=C_[t.type])}class xh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const N_=t=>t/100;class Cl extends xh{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,o;const{motionValue:n}=this.options;n&&n.updatedAt!==fn.now()&&this.tick(fn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(i=this.options).onStop)==null||o.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Vy(e);const{type:n=yo,repeat:i=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const h=n||yo;h!==yo&&typeof d[0]!="number"&&(this.mixKeyframes=Vo(N_,Dy(d[0],d[1])),d=[0,100]);const p=h({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=vh(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:o,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:v,repeat:y,repeatType:w,repeatDelay:b,type:S,onUpdate:E,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const j=this.currentTime-p*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?j<0:j>o;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let P=this.currentTime,$=i;if(y){const I=Math.min(this.currentTime,o)/d;let J=Math.floor(I),ue=I%1;!ue&&I>=1&&(ue=1),ue===1&&J--,J=Math.min(J,y+1),!!(J%2)&&(w==="reverse"?(ue=1-ue,b&&(ue-=b/d)):w==="mirror"&&($=c)),P=mr(0,1,ue)*d}const F=N?{done:!1,value:v[0]}:$.next(P);l&&(F.value=l(F.value));let{done:z}=F;!N&&h!==null&&(z=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const H=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return H&&S!==hd&&(F.value=wh(v,this.options,_,this.speed)),E&&E(F.value),H&&this.finish(),F}then(e,n){return this.finished.then(e,n)}get duration(){return An(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+An(e)}get time(){return An(this.currentTime)}set time(e){var n;e=Zn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(fn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=An(this.currentTime))}play(){var o,l;if(this.isStopped)return;const{driver:e=h_,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(o=this.options).onPlay)==null||l.call(o);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(fn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function j_(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ws=t=>t*180/Math.PI,fd=t=>{const e=ws(Math.atan2(t[1],t[0]));return pd(e)},A_={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:fd,rotateZ:fd,skewX:t=>ws(Math.atan(t[1])),skewY:t=>ws(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},pd=t=>(t=t%360,t<0&&(t+=360),t),Ym=fd,Xm=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Qm=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),R_={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Xm,scaleY:Qm,scale:t=>(Xm(t)+Qm(t))/2,rotateX:t=>pd(ws(Math.atan2(t[6],t[5]))),rotateY:t=>pd(ws(Math.atan2(-t[2],t[0]))),rotateZ:Ym,rotate:Ym,skewX:t=>ws(Math.atan(t[4])),skewY:t=>ws(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function md(t){return t.includes("scale")?1:0}function gd(t,e){if(!t||t==="none")return md(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(n)i=R_,o=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=A_,o=d}if(!o)return md(e);const l=i[e],c=o[1].split(",").map(I_);return typeof l=="function"?l(c):c[l]}const P_=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return gd(n,e)};function I_(t){return parseFloat(t.trim())}const Si=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ki=new Set(Si),Zm=t=>t===_i||t===je,O_=new Set(["x","y","z"]),D_=Si.filter(t=>!O_.has(t));function M_(t){const e=[];return D_.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const _s={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>gd(e,"x"),y:(t,{transform:e})=>gd(e,"y")};_s.translateX=_s.x;_s.translateY=_s.y;const Ss=new Set;let yd=!1,vd=!1,wd=!1;function Uy(){if(vd){const t=Array.from(Ss).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const o=M_(i);o.length&&(n.set(i,o),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=n.get(i);o&&o.forEach(([l,c])=>{var d;(d=i.getValue(l))==null||d.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}vd=!1,yd=!1,Ss.forEach(t=>t.complete(wd)),Ss.clear()}function By(){Ss.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(vd=!0)})}function L_(){wd=!0,By(),Uy(),wd=!1}class bh{constructor(e,n,i,o,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ss.add(this),yd||(yd=!0,st.read(By),st.resolveKeyframes(Uy))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:o}=this;if(e[0]===null){const l=o==null?void 0:o.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const d=i.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),o&&l===void 0&&o.set(e[0])}j_(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ss.delete(this)}cancel(){this.state==="scheduled"&&(Ss.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const $_=t=>t.startsWith("--");function V_(t,e,n){$_(e)?t.style.setProperty(e,n):t.style[e]=n}const U_=uh(()=>window.ScrollTimeline!==void 0),B_={};function F_(t,e){const n=uh(t);return()=>B_[e]??n()}const Fy=F_(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),po=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,eg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:po([0,.65,.55,1]),circOut:po([.55,0,1,.45]),backIn:po([.31,.01,.66,-.59]),backOut:po([.33,1.53,.69,.99])};function zy(t,e){if(t)return typeof t=="function"?Fy()?My(t,e):"ease-out":Ey(t)?po(t):Array.isArray(t)?t.map(n=>zy(n,e)||eg.easeOut):eg[t]}function z_(t,e,n,{delay:i=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:h}={},p=void 0){const v={[e]:n};h&&(v.offset=h);const y=zy(d,o);Array.isArray(y)&&(v.easing=y);const w={delay:i,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(v,w)}function Hy(t){return typeof t=="function"&&"applyToOptions"in t}function H_({type:t,...e}){return Hy(t)&&Fy()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class W_ extends xh{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:o,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:h}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,ch(typeof e.type!="string");const p=H_(e);this.animation=z_(n,i,o,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=wh(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):V_(n,i,v),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return An(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+An(e)}get time(){return An(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Zn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&U_()?(this.animation.timeline=e,Rn):n(this)}}const Wy={anticipate:by,backInOut:xy,circInOut:Sy};function q_(t){return t in Wy}function K_(t){typeof t.ease=="string"&&q_(t.ease)&&(t.ease=Wy[t.ease])}const tg=10;class G_ extends W_{constructor(e){K_(e),Vy(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:o,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new Cl({...c,autoplay:!1}),h=Zn(this.finishedTime??this.time);n.setWithVelocity(d.sample(h-tg).value,d.sample(h).value,tg),d.stop()}}const ng=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(qr.test(t)||t==="0")&&!t.startsWith("url("));function J_(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Y_(t,e,n,i){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=ng(o,e),d=ng(l,e);return!c||!d?!1:J_(t)||(n==="spring"||Hy(n))&&i}function xd(t){t.duration=0,t.type="keyframes"}const X_=new Set(["opacity","clipPath","filter","transform"]),Q_=uh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Z_(t){var v;const{motionValue:e,name:n,repeatDelay:i,repeatType:o,damping:l,type:c}=t;if(!(((v=e==null?void 0:e.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=e.owner.getProps();return Q_()&&n&&X_.has(n)&&(n!=="transform"||!p)&&!h&&!i&&o!=="mirror"&&l!==0&&c!=="inertia"}const eS=40;class tS extends xh{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:h,motionValue:p,element:v,...y}){var S;super(),this.stop=()=>{var E,_;this._animation&&(this._animation.stop(),(E=this.stopTimeline)==null||E.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=fn.now();const w={autoplay:e,delay:n,type:i,repeat:o,repeatDelay:l,repeatType:c,name:h,motionValue:p,element:v,...y},b=(v==null?void 0:v.KeyframeResolver)||bh;this.keyframeResolver=new b(d,(E,_,j)=>this.onKeyframesResolved(E,_,w,!j),h,p,v),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(e,n,i,o){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:h,isHandoff:p,onUpdate:v}=i;this.resolvedAt=fn.now(),Y_(e,l,c,d)||((gr.instantAnimations||!h)&&(v==null||v(wh(e,i,n))),e[0]=e[e.length-1],xd(i),i.repeat=0);const w={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>eS?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},b=!p&&Z_(w)?new G_({...w,element:w.motionValue.owner.current}):new Cl(w);b.finished.then(()=>this.notifyFinished()).catch(Rn),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),L_()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const nS=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function rS(t){const e=nS.exec(t);if(!e)return[,];const[,n,i,o]=e;return[`--${n??i}`,o]}function qy(t,e,n=1){const[i,o]=rS(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return hy(c)?parseFloat(c):c}return ph(o)?qy(o,e,n+1):o}function _h(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Ky=new Set(["width","height","top","left","right","bottom",...Si]),sS={test:t=>t==="auto",parse:t=>t},Gy=t=>e=>e.test(t),Jy=[_i,je,er,Br,Y1,J1,sS],rg=t=>Jy.find(Gy(t));function iS(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||py(t):!0}const oS=new Set(["brightness","contrast","saturate","opacity"]);function aS(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(mh)||[];if(!i)return t;const o=n.replace(i,"");let l=oS.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+o+")"}const lS=/\b([a-z-]*)\(.*?\)/gu,bd={...qr,getAnimatableNone:t=>{const e=t.match(lS);return e?e.map(aS).join(" "):t}},sg={..._i,transform:Math.round},cS={rotate:Br,rotateX:Br,rotateY:Br,rotateZ:Br,scale:Qa,scaleX:Qa,scaleY:Qa,scaleZ:Qa,skew:Br,skewX:Br,skewY:Br,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:Eo,originX:Wm,originY:Wm,originZ:je},Sh={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,radius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,top:je,right:je,bottom:je,left:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,backgroundPositionX:je,backgroundPositionY:je,...cS,zIndex:sg,fillOpacity:Eo,strokeOpacity:Eo,numOctaves:sg},uS={...Sh,color:Et,backgroundColor:Et,outlineColor:Et,fill:Et,stroke:Et,borderColor:Et,borderTopColor:Et,borderRightColor:Et,borderBottomColor:Et,borderLeftColor:Et,filter:bd,WebkitFilter:bd},Yy=t=>uS[t];function Xy(t,e){let n=Yy(t);return n!==bd&&(n=qr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const dS=new Set(["auto","none","0"]);function hS(t,e,n){let i=0,o;for(;i<t.length&&!o;){const l=t[i];typeof l=="string"&&!dS.has(l)&&To(l).values.length&&(o=t[i]),i++}if(o&&n)for(const l of e)t[l]=Xy(n,o)}class fS extends bh{constructor(e,n,i,o,l){super(e,n,i,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),ph(p))){const v=qy(p,n.current);v!==void 0&&(e[h]=v),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Ky.has(i)||e.length!==2)return;const[o,l]=e,c=rg(o),d=rg(l);if(c!==d)if(Zm(c)&&Zm(d))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else _s[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let o=0;o<e.length;o++)(e[o]===null||iS(e[o]))&&i.push(o);i.length&&hS(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_s[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var d;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=_s[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([h,p])=>{e.getValue(h).set(p)}),this.resolveNoneKeyframes()}}function pS(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const o=(n==null?void 0:n[t])??i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const Qy=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Zy(t){return fy(t)&&"offsetHeight"in t}const ig=30,mS=t=>!isNaN(parseFloat(t)),vo={current:void 0};class gS{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var l;const o=fn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=fn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=mS(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new dh);const i=this.events[e].add(n);return e==="change"?()=>{i(),st.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return vo.current&&vo.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=fn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ig)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ig);return my(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Es(t,e){return new gS(t,e)}const{schedule:kh}=Ty(queueMicrotask,!1),zn={x:!1,y:!1};function ev(){return zn.x||zn.y}function yS(t){return t==="x"||t==="y"?zn[t]?null:(zn[t]=!0,()=>{zn[t]=!1}):zn.x||zn.y?null:(zn.x=zn.y=!0,()=>{zn.x=zn.y=!1})}function tv(t,e){const n=pS(t),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[n,o,()=>i.abort()]}function og(t){return!(t.pointerType==="touch"||ev())}function vS(t,e,n={}){const[i,o,l]=tv(t,n),c=d=>{if(!og(d))return;const{target:h}=d,p=e(h,d);if(typeof p!="function"||!h)return;const v=y=>{og(y)&&(p(y),h.removeEventListener("pointerleave",v))};h.addEventListener("pointerleave",v,o)};return i.forEach(d=>{d.addEventListener("pointerenter",c,o)}),l}const nv=(t,e)=>e?t===e?!0:nv(t,e.parentElement):!1,Eh=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,wS=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function xS(t){return wS.has(t.tagName)||t.tabIndex!==-1}const ul=new WeakSet;function ag(t){return e=>{e.key==="Enter"&&t(e)}}function Pu(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const bS=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=ag(()=>{if(ul.has(n))return;Pu(n,"down");const o=ag(()=>{Pu(n,"up")}),l=()=>Pu(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function lg(t){return Eh(t)&&!ev()}function _S(t,e,n={}){const[i,o,l]=tv(t,n),c=d=>{const h=d.currentTarget;if(!lg(d))return;ul.add(h);const p=e(h,d),v=(b,S)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",w),ul.has(h)&&ul.delete(h),lg(b)&&typeof p=="function"&&p(b,{success:S})},y=b=>{v(b,h===window||h===document||n.useGlobalTarget||nv(h,b.target))},w=b=>{v(b,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",w,o)};return i.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),Zy(d)&&(d.addEventListener("focus",p=>bS(p,o)),!xS(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function rv(t){return fy(t)&&"ownerSVGElement"in t}function SS(t){return rv(t)&&t.tagName==="svg"}function kS(...t){const e=!Array.isArray(t[0]),n=e?0:-1,i=t[0+n],o=t[1+n],l=t[2+n],c=t[3+n],d=$y(o,l,c);return e?d(i):d}const Mt=t=>!!(t&&t.getVelocity);function ES(t,e,n){const i=t.get();let o=null,l=i,c;const d=typeof i=="string"?i.replace(/[\d.-]/g,""):void 0,h=()=>{o&&(o.stop(),o=null)},p=()=>{h(),o=new Cl({keyframes:[ug(t.get()),ug(l)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:c})};if(t.attach((v,y)=>{l=v,c=w=>y(cg(w,d)),st.postRender(p)},h),Mt(e)){const v=e.on("change",w=>t.set(cg(w,d))),y=t.on("destroy",v);return()=>{v(),y()}}return h}function cg(t,e){return e?t+e:t}function ug(t){return typeof t=="number"?t:parseFloat(t)}const TS=[...Jy,Et,qr],CS=t=>TS.find(Gy(t)),Fo=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function dg(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function NS(...t){return e=>{let n=!1;const i=t.map(o=>{const l=dg(o,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<i.length;o++){const l=i[o];typeof l=="function"?l():dg(t[o],null)}}}}function jS(...t){return T.useCallback(NS(...t),t)}class AS extends T.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,o=Zy(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=o-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function RS({children:t,isPresent:e,anchorX:n,root:i}){const o=T.useId(),l=T.useRef(null),c=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=T.useContext(Fo),h=jS(l,t==null?void 0:t.ref);return T.useInsertionEffect(()=>{const{width:p,height:v,top:y,left:w,right:b}=c.current;if(e||!l.current||!p||!v)return;const S=n==="left"?`left: ${w}`:`right: ${b}`;l.current.dataset.motionPopId=o;const E=document.createElement("style");d&&(E.nonce=d);const _=i??document.head;return _.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${v}px !important;
            ${S}px !important;
            top: ${y}px !important;
          }
        `),()=>{_.contains(E)&&_.removeChild(E)}},[e]),m.jsx(AS,{isPresent:e,childRef:l,sizeRef:c,children:T.cloneElement(t,{ref:h})})}const PS=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:o,presenceAffectsLayout:l,mode:c,anchorX:d,root:h})=>{const p=$o(IS),v=T.useId();let y=!0,w=T.useMemo(()=>(y=!1,{id:v,initial:e,isPresent:n,custom:o,onExitComplete:b=>{p.set(b,!0);for(const S of p.values())if(!S)return;i&&i()},register:b=>(p.set(b,!1),()=>p.delete(b))}),[n,p,i]);return l&&y&&(w={...w}),T.useMemo(()=>{p.forEach((b,S)=>p.set(S,!1))},[n]),T.useEffect(()=>{!n&&!p.size&&i&&i()},[n]),c==="popLayout"&&(t=m.jsx(RS,{isPresent:n,anchorX:d,root:h,children:t})),m.jsx(Tl.Provider,{value:w,children:t})};function IS(){return new Map}function sv(t=!0){const e=T.useContext(Tl);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=e,l=T.useId();T.useEffect(()=>{if(t)return o(l)},[t]);const c=T.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,c]:[!0]}const Za=t=>t.key||"";function hg(t){const e=[];return T.Children.forEach(t,n=>{T.isValidElement(n)&&e.push(n)}),e}const ks=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:h})=>{const[p,v]=sv(c),y=T.useMemo(()=>hg(t),[t]),w=c&&!p?[]:y.map(Za),b=T.useRef(!0),S=T.useRef(y),E=$o(()=>new Map),[_,j]=T.useState(y),[N,P]=T.useState(y);oh(()=>{b.current=!1,S.current=y;for(let z=0;z<N.length;z++){const H=Za(N[z]);w.includes(H)?E.delete(H):E.get(H)!==!0&&E.set(H,!1)}},[N,w.length,w.join("-")]);const $=[];if(y!==_){let z=[...y];for(let H=0;H<N.length;H++){const I=N[H],J=Za(I);w.includes(J)||(z.splice(H,0,I),$.push(I))}return l==="wait"&&$.length&&(z=$),P(hg(z)),j(y),null}const{forceRender:F}=T.useContext(sh);return m.jsx(m.Fragment,{children:N.map(z=>{const H=Za(z),I=c&&!p?!1:y===N||w.includes(H),J=()=>{if(E.has(H))E.set(H,!0);else return;let ue=!0;E.forEach(Te=>{Te||(ue=!1)}),ue&&(F==null||F(),P(S.current),c&&(v==null||v()),i&&i())};return m.jsx(PS,{isPresent:I,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:l,root:h,onExitComplete:I?void 0:J,anchorX:d,children:z},H)})})},iv=T.createContext({strict:!1}),fg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wi={};for(const t in fg)wi[t]={isEnabled:e=>fg[t].some(n=>!!e[n])};function OS(t){for(const e in t)wi[e]={...wi[e],...t[e]}}const DS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||DS.has(t)}let ov=t=>!gl(t);function MS(t){typeof t=="function"&&(ov=e=>e.startsWith("on")?!gl(e):t(e))}try{MS(require("@emotion/is-prop-valid").default)}catch{}function LS(t,e,n){const i={};for(const o in t)o==="values"&&typeof t.values=="object"||(ov(o)||n===!0&&gl(o)||!e&&!gl(o)||t.draggable&&o.startsWith("onDrag"))&&(i[o]=t[o]);return i}const Nl=T.createContext({});function jl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Co(t){return typeof t=="string"||Array.isArray(t)}const Th=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ch=["initial",...Th];function Al(t){return jl(t.animate)||Ch.some(e=>Co(t[e]))}function av(t){return!!(Al(t)||t.variants)}function $S(t,e){if(Al(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Co(n)?n:void 0,animate:Co(i)?i:void 0}}return t.inherit!==!1?e:{}}function VS(t){const{initial:e,animate:n}=$S(t,T.useContext(Nl));return T.useMemo(()=>({initial:e,animate:n}),[pg(e),pg(n)])}function pg(t){return Array.isArray(t)?t.join(" "):t}function mg(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ho={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(je.test(t))t=parseFloat(t);else return t;const n=mg(t,e.target.x),i=mg(t,e.target.y);return`${n}% ${i}%`}},US={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,o=qr.parse(t);if(o.length>5)return i;const l=qr.createTransformer(t),c=typeof o[0]!="number"?1:0,d=n.x.scale*e.x,h=n.y.scale*e.y;o[0+c]/=d,o[1+c]/=h;const p=pt(d,h,.5);return typeof o[2+c]=="number"&&(o[2+c]/=p),typeof o[3+c]=="number"&&(o[3+c]/=p),l(o)}},_d={borderRadius:{...ho,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ho,borderTopRightRadius:ho,borderBottomLeftRadius:ho,borderBottomRightRadius:ho,boxShadow:US};function lv(t,{layout:e,layoutId:n}){return ki.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!_d[t]||t==="opacity")}const BS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FS=Si.length;function zS(t,e,n){let i="",o=!0;for(let l=0;l<FS;l++){const c=Si[l],d=t[c];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(c.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||n){const p=Qy(d,Sh[c]);if(!h){o=!1;const v=BS[c]||c;i+=`${v}(${p}) `}n&&(e[c]=p)}}return i=i.trim(),n?i=n(e,o?"":i):o&&(i="none"),i}function Nh(t,e,n){const{style:i,vars:o,transformOrigin:l}=t;let c=!1,d=!1;for(const h in e){const p=e[h];if(ki.has(h)){c=!0;continue}else if(Ny(h)){o[h]=p;continue}else{const v=Qy(p,Sh[h]);h.startsWith("origin")?(d=!0,l[h]=v):i[h]=v}}if(e.transform||(c||n?i.transform=zS(e,t.transform,n):i.transform&&(i.transform="none")),d){const{originX:h="50%",originY:p="50%",originZ:v=0}=l;i.transformOrigin=`${h} ${p} ${v}`}}const jh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cv(t,e,n){for(const i in e)!Mt(e[i])&&!lv(i,n)&&(t[i]=e[i])}function HS({transformTemplate:t},e){return T.useMemo(()=>{const n=jh();return Nh(n,e,t),Object.assign({},n.vars,n.style)},[e])}function WS(t,e){const n=t.style||{},i={};return cv(i,n,t),Object.assign(i,HS(t,e)),i}function qS(t,e){const n={},i=WS(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const KS={offset:"stroke-dashoffset",array:"stroke-dasharray"},GS={offset:"strokeDashoffset",array:"strokeDasharray"};function JS(t,e,n=1,i=0,o=!0){t.pathLength=1;const l=o?KS:GS;t[l.offset]=je.transform(-i);const c=je.transform(e),d=je.transform(n);t[l.array]=`${c} ${d}`}function uv(t,{attrX:e,attrY:n,attrScale:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},h,p,v){if(Nh(t,d,p),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:w}=t;y.transform&&(w.transform=y.transform,delete y.transform),(w.transform||y.transformOrigin)&&(w.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),w.transform&&(w.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),i!==void 0&&(y.scale=i),o!==void 0&&JS(y,o,l,c,!1)}const dv=()=>({...jh(),attrs:{}}),hv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function YS(t,e,n,i){const o=T.useMemo(()=>{const l=dv();return uv(l,e,hv(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};cv(l,t.style,t),o.style={...l,...o.style}}return o}const XS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ah(t){return typeof t!="string"||t.includes("-")?!1:!!(XS.indexOf(t)>-1||/[A-Z]/u.test(t))}function QS(t,e,n,{latestValues:i},o,l=!1){const d=(Ah(t)?YS:qS)(e,i,o,t),h=LS(e,typeof t=="string",l),p=t!==T.Fragment?{...h,...d,ref:n}:{},{children:v}=e,y=T.useMemo(()=>Mt(v)?v.get():v,[v]);return T.createElement(t,{...p,children:y})}function gg(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Rh(t,e,n,i){if(typeof e=="function"){const[o,l]=gg(i);e=e(n!==void 0?n:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=gg(i);e=e(n!==void 0?n:t.custom,o,l)}return e}function dl(t){return Mt(t)?t.get():t}function ZS({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,o){return{latestValues:ek(n,i,o,t),renderState:e()}}function ek(t,e,n,i){const o={},l=i(t,{});for(const w in l)o[w]=dl(l[w]);let{initial:c,animate:d}=t;const h=Al(t),p=av(t);e&&p&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const y=v?d:c;if(y&&typeof y!="boolean"&&!jl(y)){const w=Array.isArray(y)?y:[y];for(let b=0;b<w.length;b++){const S=Rh(t,w[b]);if(S){const{transitionEnd:E,transition:_,...j}=S;for(const N in j){let P=j[N];if(Array.isArray(P)){const $=v?P.length-1:0;P=P[$]}P!==null&&(o[N]=P)}for(const N in E)o[N]=E[N]}}}return o}const fv=t=>(e,n)=>{const i=T.useContext(Nl),o=T.useContext(Tl),l=()=>ZS(t,e,i,o);return n?l():$o(l)};function Ph(t,e,n){var l;const{style:i}=t,o={};for(const c in i)(Mt(i[c])||e.style&&Mt(e.style[c])||lv(c,t)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(o[c]=i[c]);return o}const tk=fv({scrapeMotionValuesFromProps:Ph,createRenderState:jh});function pv(t,e,n){const i=Ph(t,e,n);for(const o in t)if(Mt(t[o])||Mt(e[o])){const l=Si.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[l]=t[o]}return i}const nk=fv({scrapeMotionValuesFromProps:pv,createRenderState:dv}),rk=Symbol.for("motionComponentSymbol");function hi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function sk(t,e,n){return T.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):hi(n)&&(n.current=i))},[e])}const Ih=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ik="framerAppearId",mv="data-"+Ih(ik),gv=T.createContext({});function ok(t,e,n,i,o){var E,_;const{visualElement:l}=T.useContext(Nl),c=T.useContext(iv),d=T.useContext(Tl),h=T.useContext(Fo).reducedMotion,p=T.useRef(null);i=i||c.renderer,!p.current&&i&&(p.current=i(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const v=p.current,y=T.useContext(gv);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&ak(p.current,n,o,y);const w=T.useRef(!1);T.useInsertionEffect(()=>{v&&w.current&&v.update(n,d)});const b=n[mv],S=T.useRef(!!b&&!((E=window.MotionHandoffIsComplete)!=null&&E.call(window,b))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,b)));return oh(()=>{v&&(w.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),S.current&&v.animationState&&v.animationState.animateChanges())}),T.useEffect(()=>{v&&(!S.current&&v.animationState&&v.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)==null||j.call(window,b)}),S.current=!1),v.enteringChildren=void 0)}),v}function ak(t,e,n,i){const{layoutId:o,layout:l,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:p,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:yv(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||d&&hi(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:v,layoutScroll:h,layoutRoot:p})}function yv(t){if(t)return t.options.allowProjection!==!1?t.projection:yv(t.parent)}function Iu(t,{forwardMotionProps:e=!1}={},n,i){n&&OS(n);const o=Ah(t)?nk:tk;function l(d,h){let p;const v={...T.useContext(Fo),...d,layoutId:lk(d)},{isStatic:y}=v,w=VS(d),b=o(d,y);if(!y&&ih){ck();const S=uk(v);p=S.MeasureLayout,w.visualElement=ok(t,b,v,i,S.ProjectionNode)}return m.jsxs(Nl.Provider,{value:w,children:[p&&w.visualElement?m.jsx(p,{visualElement:w.visualElement,...v}):null,QS(t,d,sk(b,w.visualElement,h),b,y,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=T.forwardRef(l);return c[rk]=t,c}function lk({layoutId:t}){const e=T.useContext(sh).id;return e&&t!==void 0?e+"-"+t:t}function ck(t,e){T.useContext(iv).strict}function uk(t){const{drag:e,layout:n}=wi;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function dk(t,e){if(typeof Proxy>"u")return Iu;const n=new Map,i=(l,c)=>Iu(l,c,t,e),o=(l,c)=>i(l,c);return new Proxy(o,{get:(l,c)=>c==="create"?i:(n.has(c)||n.set(c,Iu(c,void 0,t,e)),n.get(c))})}function vv({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function hk({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function fk(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Ou(t){return t===void 0||t===1}function Sd({scale:t,scaleX:e,scaleY:n}){return!Ou(t)||!Ou(e)||!Ou(n)}function fs(t){return Sd(t)||wv(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function wv(t){return yg(t.x)||yg(t.y)}function yg(t){return t&&t!=="0%"}function yl(t,e,n){const i=t-n,o=e*i;return n+o}function vg(t,e,n,i,o){return o!==void 0&&(t=yl(t,o,i)),yl(t,n,i)+e}function kd(t,e=0,n=1,i,o){t.min=vg(t.min,e,n,i,o),t.max=vg(t.max,e,n,i,o)}function xv(t,{x:e,y:n}){kd(t.x,e.translate,e.scale,e.originPoint),kd(t.y,n.translate,n.scale,n.originPoint)}const wg=.999999999999,xg=1.0000000000001;function pk(t,e,n,i=!1){const o=n.length;if(!o)return;e.x=e.y=1;let l,c;for(let d=0;d<o;d++){l=n[d],c=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&pi(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,xv(t,c)),i&&fs(l.latestValues)&&pi(t,l.latestValues))}e.x<xg&&e.x>wg&&(e.x=1),e.y<xg&&e.y>wg&&(e.y=1)}function fi(t,e){t.min=t.min+e,t.max=t.max+e}function bg(t,e,n,i,o=.5){const l=pt(t.min,t.max,o);kd(t,e,n,l,i)}function pi(t,e){bg(t.x,e.x,e.scaleX,e.scale,e.originX),bg(t.y,e.y,e.scaleY,e.scale,e.originY)}function bv(t,e){return vv(fk(t.getBoundingClientRect(),e))}function mk(t,e,n){const i=bv(t,n),{scroll:o}=e;return o&&(fi(i.x,o.offset.x),fi(i.y,o.offset.y)),i}const _g=()=>({translate:0,scale:1,origin:0,originPoint:0}),mi=()=>({x:_g(),y:_g()}),Sg=()=>({min:0,max:0}),At=()=>({x:Sg(),y:Sg()}),Ed={current:null},_v={current:!1};function gk(){if(_v.current=!0,!!ih)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ed.current=t.matches;t.addEventListener("change",e),e()}else Ed.current=!1}const yk=new WeakMap;function vk(t,e,n){for(const i in e){const o=e[i],l=n[i];if(Mt(o))t.addValue(i,o);else if(Mt(l))t.addValue(i,Es(o,{owner:t}));else if(l!==o)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(i);t.addValue(i,Es(c!==void 0?c:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const kg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wk{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=fn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,st.render(this.render,!1,!0))};const{latestValues:h,renderState:p}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Al(n),this.isVariantNode=av(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in y){const b=y[w];h[w]!==void 0&&Mt(b)&&b.set(h[w])}}mount(e){var n;this.current=e,yk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),_v.current||gk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ed.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),yr(this.notifyUpdate),yr(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=ki.has(e);i&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&st.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in wi){const n=wi[e];if(!n)continue;const{isEnabled:i,Feature:o}=n;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):At()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<kg.length;i++){const o=kg[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=e[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=vk(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Es(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(hy(i)||py(i))?i=parseFloat(i):!CS(i)&&qr.test(n)&&(i=Xy(e,n)),this.setBaseTarget(e,Mt(i)?i.get():i)),Mt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const c=Rh(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(i=c[e])}if(n&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Mt(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new dh),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){kh.render(this.render)}}class Sv extends wk{constructor(){super(...arguments),this.KeyframeResolver=fS}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Mt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function kv(t,{style:e,vars:n},i,o){const l=t.style;let c;for(c in e)l[c]=e[c];o==null||o.applyProjectionStyles(l,i);for(c in n)l.setProperty(c,n[c])}function xk(t){return window.getComputedStyle(t)}class bk extends Sv{constructor(){super(...arguments),this.type="html",this.renderInstance=kv}readValueFromInstance(e,n){var i;if(ki.has(n))return(i=this.projection)!=null&&i.isProjecting?md(n):P_(e,n);{const o=xk(e),l=(Ny(n)?o.getPropertyValue(n):o[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return bv(e,n)}build(e,n,i){Nh(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Ph(e,n,i)}}const Ev=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _k(t,e,n,i){kv(t,e,void 0,i);for(const o in e.attrs)t.setAttribute(Ev.has(o)?o:Ih(o),e.attrs[o])}class Sk extends Sv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=At}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ki.has(n)){const i=Yy(n);return i&&i.default||0}return n=Ev.has(n)?n:Ih(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return pv(e,n,i)}build(e,n,i){uv(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,o){_k(e,n,i,o)}mount(e){this.isSVGTag=hv(e.tagName),super.mount(e)}}const kk=(t,e)=>Ah(t)?new Sk(e):new bk(e,{allowProjection:t!==T.Fragment});function yi(t,e,n){const i=t.getProps();return Rh(i,e,n!==void 0?n:i.custom,t)}const Td=t=>Array.isArray(t);function Ek(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Es(n))}function Tk(t){return Td(t)?t[t.length-1]||0:t}function Ck(t,e){const n=yi(t,e);let{transitionEnd:i={},transition:o={},...l}=n||{};l={...l,...i};for(const c in l){const d=Tk(l[c]);Ek(t,c,d)}}function Nk(t){return!!(Mt(t)&&t.add)}function Cd(t,e){const n=t.getValue("willChange");if(Nk(n))return n.add(e);if(!n&&gr.WillChange){const i=new gr.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function Tv(t){return t.props[mv]}const jk=t=>t!==null;function Ak(t,{repeat:e,repeatType:n="loop"},i){const o=t.filter(jk),l=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[l]}const Rk={type:"spring",stiffness:500,damping:25,restSpeed:10},Pk=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Ik={type:"keyframes",duration:.8},Ok={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Dk=(t,{keyframes:e})=>e.length>2?Ik:ki.has(t)?t.startsWith("scale")?Pk(e[1]):Rk:Ok;function Mk({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:d,from:h,elapsed:p,...v}){return!!Object.keys(v).length}const Oh=(t,e,n,i={},o,l)=>c=>{const d=_h(i,t)||{},h=d.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Zn(h);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:w=>{e.set(w),d.onUpdate&&d.onUpdate(w)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:o};Mk(d)||Object.assign(v,Dk(t,v)),v.duration&&(v.duration=Zn(v.duration)),v.repeatDelay&&(v.repeatDelay=Zn(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let y=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(xd(v),v.delay===0&&(y=!0)),(gr.instantAnimations||gr.skipAnimations)&&(y=!0,xd(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,y&&!l&&e.get()!==void 0){const w=Ak(v.keyframes,d);if(w!==void 0){st.update(()=>{v.onUpdate(w),v.onComplete()});return}}return d.isSync?new Cl(v):new tS(v)};function Lk({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function Cv(t,e,{delay:n=0,transitionOverride:i,type:o}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;i&&(l=i);const h=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const v in d){const y=t.getValue(v,t.latestValues[v]??null),w=d[v];if(w===void 0||p&&Lk(p,v))continue;const b={delay:n,..._h(l||{},v)},S=y.get();if(S!==void 0&&!y.isAnimating&&!Array.isArray(w)&&w===S&&!b.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const j=Tv(t);if(j){const N=window.MotionHandoffAnimation(j,v,st);N!==null&&(b.startTime=N,E=!0)}}Cd(t,v),y.start(Oh(v,y,w,t.shouldReduceMotion&&Ky.has(v)?{type:!1}:b,t,E));const _=y.animation;_&&h.push(_)}return c&&Promise.all(h).then(()=>{st.update(()=>{c&&Ck(t,c)})}),h}function Nv(t,e,n,i=0,o=1){const l=Array.from(t).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),c=t.size,d=(c-1)*i;return typeof n=="function"?n(l,c):o===1?l*i:d-l*i}function Nd(t,e,n={}){var h;const i=yi(t,e,n.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const l=i?()=>Promise.all(Cv(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:v=0,staggerChildren:y,staggerDirection:w}=o;return $k(t,e,p,v,y,w,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[p,v]=d==="beforeChildren"?[l,c]:[c,l];return p().then(()=>v())}else return Promise.all([l(),c(n.delay)])}function $k(t,e,n=0,i=0,o=0,l=1,c){const d=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),d.push(Nd(h,e,{...c,delay:n+(typeof i=="function"?0:i)+Nv(t.variantChildren,h,i,o,l)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(d)}function Vk(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(l=>Nd(t,l,n));i=Promise.all(o)}else if(typeof e=="string")i=Nd(t,e,n);else{const o=typeof e=="function"?yi(t,e,n.custom):e;i=Promise.all(Cv(t,o,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function jv(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const Uk=Ch.length;function Av(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Av(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Uk;n++){const i=Ch[n],o=t.props[i];(Co(o)||o===!1)&&(e[i]=o)}return e}const Bk=[...Th].reverse(),Fk=Th.length;function zk(t){return e=>Promise.all(e.map(({animation:n,options:i})=>Vk(t,n,i)))}function Hk(t){let e=zk(t),n=Eg(),i=!0;const o=h=>(p,v)=>{var w;const y=yi(t,v,h==="exit"?(w=t.presenceContext)==null?void 0:w.custom:void 0);if(y){const{transition:b,transitionEnd:S,...E}=y;p={...p,...E,...S}}return p};function l(h){e=h(t)}function c(h){const{props:p}=t,v=Av(t.parent)||{},y=[],w=new Set;let b={},S=1/0;for(let _=0;_<Fk;_++){const j=Bk[_],N=n[j],P=p[j]!==void 0?p[j]:v[j],$=Co(P),F=j===h?N.isActive:null;F===!1&&(S=_);let z=P===v[j]&&P!==p[j]&&$;if(z&&i&&t.manuallyAnimateOnMount&&(z=!1),N.protectedKeys={...b},!N.isActive&&F===null||!P&&!N.prevProp||jl(P)||typeof P=="boolean")continue;const H=Wk(N.prevProp,P);let I=H||j===h&&N.isActive&&!z&&$||_>S&&$,J=!1;const ue=Array.isArray(P)?P:[P];let Te=ue.reduce(o(j),{});F===!1&&(Te={});const{prevResolvedValues:Me={}}=N,Le={...Me,...Te},He=te=>{I=!0,w.has(te)&&(J=!0,w.delete(te)),N.needsAnimating[te]=!0;const O=t.getValue(te);O&&(O.liveStyle=!1)};for(const te in Le){const O=Te[te],W=Me[te];if(b.hasOwnProperty(te))continue;let Q=!1;Td(O)&&Td(W)?Q=!jv(O,W):Q=O!==W,Q?O!=null?He(te):w.add(te):O!==void 0&&w.has(te)?He(te):N.protectedKeys[te]=!0}N.prevProp=P,N.prevResolvedValues=Te,N.isActive&&(b={...b,...Te}),i&&t.blockInitialAnimation&&(I=!1);const Pe=z&&H;I&&(!Pe||J)&&y.push(...ue.map(te=>{const O={type:j};if(typeof te=="string"&&i&&!Pe&&t.manuallyAnimateOnMount&&t.parent){const{parent:W}=t,Q=yi(W,te);if(W.enteringChildren&&Q){const{delayChildren:C}=Q.transition||{};O.delay=Nv(W.enteringChildren,t,C)}}return{animation:te,options:O}}))}if(w.size){const _={};if(typeof p.initial!="boolean"){const j=yi(t,Array.isArray(p.initial)?p.initial[0]:p.initial);j&&j.transition&&(_.transition=j.transition)}w.forEach(j=>{const N=t.getBaseTarget(j),P=t.getValue(j);P&&(P.liveStyle=!0),_[j]=N??null}),y.push({animation:_})}let E=!!y.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(E=!1),i=!1,E?e(y):Promise.resolve()}function d(h,p){var y;if(n[h].isActive===p)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(w=>{var b;return(b=w.animationState)==null?void 0:b.setActive(h,p)}),n[h].isActive=p;const v=c(h);for(const w in n)n[w].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Eg()}}}function Wk(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!jv(e,t):!1}function cs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Eg(){return{animate:cs(!0),whileInView:cs(),whileHover:cs(),whileTap:cs(),whileDrag:cs(),whileFocus:cs(),exit:cs()}}class Gr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class qk extends Gr{constructor(e){super(e),e.animationState||(e.animationState=Hk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Kk=0;class Gk extends Gr{constructor(){super(...arguments),this.id=Kk++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Jk={animation:{Feature:qk},exit:{Feature:Gk}};function No(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function zo(t){return{point:{x:t.pageX,y:t.pageY}}}const Yk=t=>e=>Eh(e)&&t(e,zo(e));function wo(t,e,n,i){return No(t,e,Yk(n),i)}const Rv=1e-4,Xk=1-Rv,Qk=1+Rv,Pv=.01,Zk=0-Pv,eE=0+Pv;function tn(t){return t.max-t.min}function tE(t,e,n){return Math.abs(t-e)<=n}function Tg(t,e,n,i=.5){t.origin=i,t.originPoint=pt(e.min,e.max,t.origin),t.scale=tn(n)/tn(e),t.translate=pt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Xk&&t.scale<=Qk||isNaN(t.scale))&&(t.scale=1),(t.translate>=Zk&&t.translate<=eE||isNaN(t.translate))&&(t.translate=0)}function xo(t,e,n,i){Tg(t.x,e.x,n.x,i?i.originX:void 0),Tg(t.y,e.y,n.y,i?i.originY:void 0)}function Cg(t,e,n){t.min=n.min+e.min,t.max=t.min+tn(e)}function nE(t,e,n){Cg(t.x,e.x,n.x),Cg(t.y,e.y,n.y)}function Ng(t,e,n){t.min=e.min-n.min,t.max=t.min+tn(e)}function vl(t,e,n){Ng(t.x,e.x,n.x),Ng(t.y,e.y,n.y)}function jn(t){return[t("x"),t("y")]}const Iv=({current:t})=>t?t.ownerDocument.defaultView:null,jg=(t,e)=>Math.abs(t-e);function rE(t,e){const n=jg(t.x,e.x),i=jg(t.y,e.y);return Math.sqrt(n**2+i**2)}class Ov{constructor(e,n,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Mu(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,S=rE(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!S)return;const{point:E}=w,{timestamp:_}=Ft;this.history.push({...E,timestamp:_});const{onStart:j,onMove:N}=this.handlers;b||(j&&j(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,w)},this.handlePointerMove=(w,b)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Du(b,this.transformPagePoint),st.update(this.updatePoint,!0)},this.handlePointerUp=(w,b)=>{this.end();const{onEnd:S,onSessionEnd:E,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Mu(w.type==="pointercancel"?this.lastMoveEventInfo:Du(b,this.transformPagePoint),this.history);this.startEvent&&S&&S(w,j),E&&E(w,j)},!Eh(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=o||window;const d=zo(e),h=Du(d,this.transformPagePoint),{point:p}=h,{timestamp:v}=Ft;this.history=[{...p,timestamp:v}];const{onSessionStart:y}=n;y&&y(e,Mu(h,this.history)),this.removeListeners=Vo(wo(this.contextWindow,"pointermove",this.handlePointerMove),wo(this.contextWindow,"pointerup",this.handlePointerUp),wo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),yr(this.updatePoint)}}function Du(t,e){return e?{point:e(t.point)}:t}function Ag(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Mu({point:t},e){return{point:t,delta:Ag(t,Dv(e)),offset:Ag(t,sE(e)),velocity:iE(e,.1)}}function sE(t){return t[0]}function Dv(t){return t[t.length-1]}function iE(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const o=Dv(t);for(;n>=0&&(i=t[n],!(o.timestamp-i.timestamp>Zn(e)));)n--;if(!i)return{x:0,y:0};const l=An(o.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-i.x)/l,y:(o.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function oE(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?pt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?pt(n,t,i.max):Math.min(t,n)),t}function Rg(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function aE(t,{top:e,left:n,bottom:i,right:o}){return{x:Rg(t.x,n,o),y:Rg(t.y,e,i)}}function Pg(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function lE(t,e){return{x:Pg(t.x,e.x),y:Pg(t.y,e.y)}}function cE(t,e){let n=.5;const i=tn(t),o=tn(e);return o>i?n=ko(e.min,e.max-i,t.min):i>o&&(n=ko(t.min,t.max-o,e.min)),mr(0,1,n)}function uE(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const jd=.35;function dE(t=jd){return t===!1?t=0:t===!0&&(t=jd),{x:Ig(t,"left","right"),y:Ig(t,"top","bottom")}}function Ig(t,e,n){return{min:Og(t,e),max:Og(t,n)}}function Og(t,e){return typeof t=="number"?t:t[e]||0}const hE=new WeakMap;class fE{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=At(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=y=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(zo(y).point)},c=(y,w)=>{const{drag:b,dragPropagation:S,onDragStart:E}=this.getProps();if(b&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=yS(b),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jn(j=>{let N=this.getAxisMotionValue(j).get()||0;if(er.test(N)){const{projection:P}=this.visualElement;if(P&&P.layout){const $=P.layout.layoutBox[j];$&&(N=tn($)*(parseFloat(N)/100))}}this.originPoint[j]=N}),E&&st.postRender(()=>E(y,w)),Cd(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},d=(y,w)=>{this.latestPointerEvent=y,this.latestPanInfo=w;const{dragPropagation:b,dragDirectionLock:S,onDirectionLock:E,onDrag:_}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:j}=w;if(S&&this.currentDirection===null){this.currentDirection=pE(j),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",w.point,j),this.updateAxis("y",w.point,j),this.visualElement.render(),_&&_(y,w)},h=(y,w)=>{this.latestPointerEvent=y,this.latestPanInfo=w,this.stop(y,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>jn(y=>{var w;return this.getAnimationState(y)==="paused"&&((w=this.getAxisMotionValue(y).animation)==null?void 0:w.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new Ov(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:i,contextWindow:Iv(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,o=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!i)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&st.postRender(()=>d(i,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:o}=this.getProps();if(!i||!el(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=oE(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,o=this.constraints;e&&hi(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=aE(i.layoutBox,e):this.constraints=!1,this.elastic=dE(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&jn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=uE(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!hi(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=mk(i,o.root,this.visualElement.getTransformPagePoint());let c=lE(o.layout.layoutBox,l);if(n){const d=n(hk(c));this.hasMutatedConstraints=!!d,d&&(c=vv(d))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},p=jn(v=>{if(!el(v,n,this.currentDirection))return;let y=h&&h[v]||{};c&&(y={min:0,max:0});const w=o?200:1e6,b=o?40:1e7,S={type:"inertia",velocity:i?e[v]:0,bounceStiffness:w,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(v,S)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Cd(this.visualElement,e),i.start(Oh(e,i,0,n,this.visualElement,!1))}stopAnimation(){jn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){jn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[n];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){jn(n=>{const{drag:i}=this.getProps();if(!el(n,i,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[n];l.set(e[n]-pt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!hi(n)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};jn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const h=d.get();o[c]=cE({min:h,max:h},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),jn(c=>{if(!el(c,e,null))return;const d=this.getAxisMotionValue(c),{min:h,max:p}=this.constraints[c];d.set(pt(h,p,o[c]))})}addListeners(){if(!this.visualElement.current)return;hE.set(this.visualElement,this);const e=this.visualElement.current,n=wo(e,"pointerdown",h=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();hi(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),st.read(i);const c=No(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(jn(v=>{const y=this.getAxisMotionValue(v);y&&(this.originPoint[v]+=h[v].translate,y.set(y.get()+h[v].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=jd,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function el(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function pE(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class mE extends Gr{constructor(e){super(e),this.removeGroupControls=Rn,this.removeListeners=Rn,this.controls=new fE(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Dg=t=>(e,n)=>{t&&st.postRender(()=>t(e,n))};class gE extends Gr{constructor(){super(...arguments),this.removePointerDownListener=Rn}onPointerDown(e){this.session=new Ov(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Iv(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:Dg(e),onStart:Dg(n),onMove:i,onEnd:(l,c)=>{delete this.session,o&&st.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=wo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const hl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Lu=!1;class yE extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:o}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),i&&i.register&&o&&i.register(l),Lu&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),hl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:o,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,Lu=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||st.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),kh.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:o}=e;Lu=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Mv(t){const[e,n]=sv(),i=T.useContext(sh);return m.jsx(yE,{...t,layoutGroup:i,switchLayoutGroup:T.useContext(gv),isPresent:e,safeToRemove:n})}function vE(t,e,n){const i=Mt(t)?t:Es(t);return i.start(Oh("",i,e,n)),i.animation}const wE=(t,e)=>t.depth-e.depth;class xE{constructor(){this.children=[],this.isDirty=!1}add(e){ah(this.children,e),this.isDirty=!0}remove(e){lh(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(wE),this.isDirty=!1,this.children.forEach(e)}}function bE(t,e){const n=fn.now(),i=({timestamp:o})=>{const l=o-n;l>=e&&(yr(i),t(l-e))};return st.setup(i,!0),()=>yr(i)}const Lv=["TopLeft","TopRight","BottomLeft","BottomRight"],_E=Lv.length,Mg=t=>typeof t=="string"?parseFloat(t):t,Lg=t=>typeof t=="number"||je.test(t);function SE(t,e,n,i,o,l){o?(t.opacity=pt(0,n.opacity??1,kE(i)),t.opacityExit=pt(e.opacity??1,0,EE(i))):l&&(t.opacity=pt(e.opacity??1,n.opacity??1,i));for(let c=0;c<_E;c++){const d=`border${Lv[c]}Radius`;let h=$g(e,d),p=$g(n,d);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||Lg(h)===Lg(p)?(t[d]=Math.max(pt(Mg(h),Mg(p),i),0),(er.test(p)||er.test(h))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=pt(e.rotate||0,n.rotate||0,i))}function $g(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const kE=$v(0,.5,_y),EE=$v(.5,.95,Rn);function $v(t,e,n){return i=>i<t?0:i>e?1:n(ko(t,e,i))}function Vg(t,e){t.min=e.min,t.max=e.max}function Bn(t,e){Vg(t.x,e.x),Vg(t.y,e.y)}function Ug(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Bg(t,e,n,i,o){return t-=e,t=yl(t,1/n,i),o!==void 0&&(t=yl(t,1/o,i)),t}function TE(t,e=0,n=1,i=.5,o,l=t,c=t){if(er.test(e)&&(e=parseFloat(e),e=pt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=pt(l.min,l.max,i);t===l&&(d-=e),t.min=Bg(t.min,e,n,d,o),t.max=Bg(t.max,e,n,d,o)}function Fg(t,e,[n,i,o],l,c){TE(t,e[n],e[i],e[o],e.scale,l,c)}const CE=["x","scaleX","originX"],NE=["y","scaleY","originY"];function zg(t,e,n,i){Fg(t.x,e,CE,n?n.x:void 0,i?i.x:void 0),Fg(t.y,e,NE,n?n.y:void 0,i?i.y:void 0)}function Hg(t){return t.translate===0&&t.scale===1}function Vv(t){return Hg(t.x)&&Hg(t.y)}function Wg(t,e){return t.min===e.min&&t.max===e.max}function jE(t,e){return Wg(t.x,e.x)&&Wg(t.y,e.y)}function qg(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Uv(t,e){return qg(t.x,e.x)&&qg(t.y,e.y)}function Kg(t){return tn(t.x)/tn(t.y)}function Gg(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class AE{constructor(){this.members=[]}add(e){ah(this.members,e),e.scheduleRender()}remove(e){if(lh(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let i;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function RE(t,e,n){let i="";const o=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((o||l||c)&&(i=`translate3d(${o}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:y,rotateY:w,skewX:b,skewY:S}=n;p&&(i=`perspective(${p}px) ${i}`),v&&(i+=`rotate(${v}deg) `),y&&(i+=`rotateX(${y}deg) `),w&&(i+=`rotateY(${w}deg) `),b&&(i+=`skewX(${b}deg) `),S&&(i+=`skewY(${S}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(i+=`scale(${d}, ${h})`),i||"none"}const $u=["","X","Y","Z"],PE=1e3;let IE=0;function Vu(t,e,n,i){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),i&&(i[t]=0))}function Bv(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Tv(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",st,!(o||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&Bv(i)}function Fv({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(c={},d=e==null?void 0:e()){this.id=IE++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ME),this.nodes.forEach(UE),this.nodes.forEach(BE),this.nodes.forEach(LE)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new xE)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new dh),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const h=this.eventHandlers.get(c);h&&h.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=rv(c)&&!SS(c),this.instance=c;const{layoutId:d,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||d)&&(this.isLayoutDirty=!0),t){let v,y=0;const w=()=>this.root.updateBlockedByResize=!1;st.read(()=>{y=window.innerWidth}),t(c,()=>{const b=window.innerWidth;b!==y&&(y=b,this.root.updateBlockedByResize=!0,v&&v(),v=bE(w,250),hl.hasAnimatedSinceResize&&(hl.hasAnimatedSinceResize=!1,this.nodes.forEach(Xg)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||h)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:y,hasRelativeLayoutChanged:w,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||p.getDefaultTransition()||qE,{onLayoutAnimationStart:E,onLayoutAnimationComplete:_}=p.getProps(),j=!this.targetLayout||!Uv(this.targetLayout,b),N=!y&&w;if(this.options.layoutRoot||this.resumeFrom||N||y&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={..._h(S,"layout"),onPlay:E,onComplete:_};(p.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(v,N)}else y||Xg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),yr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(FE),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Bv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const y=this.path[v];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Jg);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Yg);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(VE),this.nodes.forEach(OE),this.nodes.forEach(DE)):this.nodes.forEach(Yg),this.clearAllSnapshots();const d=fn.now();Ft.delta=mr(0,1e3/60,d-Ft.timestamp),Ft.timestamp=d,Ft.isProcessing=!0,Cu.update.process(Ft),Cu.preRender.process(Ft),Cu.render.process(Ft),Ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,kh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($E),this.sharedNodes.forEach(zE)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,st.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){st.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!tn(this.snapshot.measuredBox.x)&&!tn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=At(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Vv(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||fs(this.latestValues)||v)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return c&&(h=this.removeTransform(h)),KE(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return At();const d=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(GE))){const{scroll:v}=this.root;v&&(fi(d.x,v.offset.x),fi(d.y,v.offset.y))}return d}removeElementScroll(c){var h;const d=At();if(Bn(d,c),(h=this.scroll)!=null&&h.wasRoot)return d;for(let p=0;p<this.path.length;p++){const v=this.path[p],{scroll:y,options:w}=v;v!==this.root&&y&&w.layoutScroll&&(y.wasRoot&&Bn(d,c),fi(d.x,y.offset.x),fi(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const h=At();Bn(h,c);for(let p=0;p<this.path.length;p++){const v=this.path[p];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&pi(h,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),fs(v.latestValues)&&pi(h,v.latestValues)}return fs(this.latestValues)&&pi(h,this.latestValues),h}removeTransform(c){const d=At();Bn(d,c);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!fs(p.latestValues))continue;Sd(p.latestValues)&&p.updateSnapshot();const v=At(),y=p.measurePageBox();Bn(v,y),zg(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return fs(this.latestValues)&&zg(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var b;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:y}=this.options;if(!this.layout||!(v||y))return;this.resolvedRelativeTargetAt=Ft.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=At(),this.targetWithTransforms=At()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nE(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bn(this.target,this.layout.layoutBox),xv(this.target,this.targetDelta)):Bn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Sd(this.parent.latestValues)||wv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,h){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=At(),this.relativeTargetOrigin=At(),vl(this.relativeTargetOrigin,d,h),Bn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var S;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Ft.timestamp&&(h=!1),h)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;Bn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,w=this.treeScale.y;pk(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=At());const{target:b}=c;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ug(this.prevProjectionDelta.x,this.projectionDelta.x),Ug(this.prevProjectionDelta.y,this.projectionDelta.y)),xo(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==w||!Gg(this.projectionDelta.x,this.prevProjectionDelta.x)||!Gg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=mi(),this.projectionDelta=mi(),this.projectionDeltaWithTransform=mi()}setAnimationOrigin(c,d=!1){const h=this.snapshot,p=h?h.latestValues:{},v={...this.latestValues},y=mi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const w=At(),b=h?h.source:void 0,S=this.layout?this.layout.source:void 0,E=b!==S,_=this.getStack(),j=!_||_.members.length<=1,N=!!(E&&!j&&this.options.crossfade===!0&&!this.path.some(WE));this.animationProgress=0;let P;this.mixTargetDelta=$=>{const F=$/1e3;Qg(y.x,c.x,F),Qg(y.y,c.y,F),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vl(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),HE(this.relativeTarget,this.relativeTargetOrigin,w,F),P&&jE(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=At()),Bn(P,this.relativeTarget)),E&&(this.animationValues=v,SE(v,p,this.latestValues,F,N,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,h,p;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(p=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||p.stop(),this.pendingAnimation&&(yr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=st.update(()=>{hl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Es(0)),this.currentAnimation=vE(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),c.onUpdate&&c.onUpdate(v)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(PE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:h,layout:p,latestValues:v}=c;if(!(!d||!h||!p)){if(this!==c&&this.layout&&p&&zv(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||At();const y=tn(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+y;const w=tn(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+w}Bn(d,h),pi(d,v),xo(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new AE),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const p={};h.z&&Vu("z",c,p,this.animationValues);for(let v=0;v<$u.length;v++)Vu(`rotate${$u[v]}`,c,p,this.animationValues),Vu(`skew${$u[v]}`,c,p,this.animationValues);c.render();for(const v in p)c.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=dl(d==null?void 0:d.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=dl(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!fs(this.latestValues)&&(c.transform=h?h({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let y=RE(this.projectionDeltaWithTransform,this.treeScale,v);h&&(y=h(v,y)),c.transform=y;const{x:w,y:b}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${b.origin*100}% 0`,p.animationValues?c.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const S in _d){if(v[S]===void 0)continue;const{correct:E,applyTo:_,isCSSVariable:j}=_d[S],N=y==="none"?v[S]:E(v[S],p);if(_){const P=_.length;for(let $=0;$<P;$++)c[_[$]]=N}else j?this.options.visualElement.renderState.vars[S]=N:c[S]=N}this.options.layoutId&&(c.pointerEvents=p===this?dl(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(Jg),this.root.sharedNodes.clear()}}}function OE(t){t.updateLayout()}function DE(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?jn(y=>{const w=c?e.measuredBox[y]:e.layoutBox[y],b=tn(w);w.min=i[y].min,w.max=w.min+b}):zv(l,e.layoutBox,i)&&jn(y=>{const w=c?e.measuredBox[y]:e.layoutBox[y],b=tn(i[y]);w.max=w.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+b)});const d=mi();xo(d,i,e.layoutBox);const h=mi();c?xo(h,t.applyTransform(o,!0),e.measuredBox):xo(h,i,e.layoutBox);const p=!Vv(d);let v=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:w,layout:b}=y;if(w&&b){const S=At();vl(S,e.layoutBox,w.layoutBox);const E=At();vl(E,i,b.layoutBox),Uv(S,E)||(v=!0),y.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=S,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:h,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:v})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function ME(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function LE(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function $E(t){t.clearSnapshot()}function Jg(t){t.clearMeasurements()}function Yg(t){t.isLayoutDirty=!1}function VE(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Xg(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function UE(t){t.resolveTargetDelta()}function BE(t){t.calcProjection()}function FE(t){t.resetSkewAndRotation()}function zE(t){t.removeLeadSnapshot()}function Qg(t,e,n){t.translate=pt(e.translate,0,n),t.scale=pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Zg(t,e,n,i){t.min=pt(e.min,n.min,i),t.max=pt(e.max,n.max,i)}function HE(t,e,n,i){Zg(t.x,e.x,n.x,i),Zg(t.y,e.y,n.y,i)}function WE(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const qE={duration:.45,ease:[.4,0,.1,1]},e0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),t0=e0("applewebkit/")&&!e0("chrome/")?Math.round:Rn;function n0(t){t.min=t0(t.min),t.max=t0(t.max)}function KE(t){n0(t.x),n0(t.y)}function zv(t,e,n){return t==="position"||t==="preserve-aspect"&&!tE(Kg(e),Kg(n),.2)}function GE(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const JE=Fv({attachResizeListener:(t,e)=>No(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Uu={current:void 0},Hv=Fv({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Uu.current){const t=new JE({});t.mount(window),t.setOptions({layoutScroll:!0}),Uu.current=t}return Uu.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),YE={pan:{Feature:gE},drag:{Feature:mE,ProjectionNode:Hv,MeasureLayout:Mv}};function r0(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=i[o];l&&st.postRender(()=>l(e,zo(e)))}class XE extends Gr{mount(){const{current:e}=this.node;e&&(this.unmount=vS(e,(n,i)=>(r0(this.node,i,"Start"),o=>r0(this.node,o,"End"))))}unmount(){}}class QE extends Gr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vo(No(this.node.current,"focus",()=>this.onFocus()),No(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function s0(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=i[o];l&&st.postRender(()=>l(e,zo(e)))}class ZE extends Gr{mount(){const{current:e}=this.node;e&&(this.unmount=_S(e,(n,i)=>(s0(this.node,i,"Start"),(o,{success:l})=>s0(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ad=new WeakMap,Bu=new WeakMap,eT=t=>{const e=Ad.get(t.target);e&&e(t)},tT=t=>{t.forEach(eT)};function nT({root:t,...e}){const n=t||document;Bu.has(n)||Bu.set(n,{});const i=Bu.get(n),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(tT,{root:t,...e})),i[o]}function rT(t,e,n){const i=nT(e);return Ad.set(t,n),i.observe(t),()=>{Ad.delete(t),i.unobserve(t)}}const sT={some:0,all:1};class iT extends Gr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:o="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:sT[o]},d=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:y}=this.node.getProps(),w=p?v:y;w&&w(h)};return rT(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(oT(e,n))&&this.startObserver()}unmount(){}}function oT({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const aT={inView:{Feature:iT},tap:{Feature:ZE},focus:{Feature:QE},hover:{Feature:XE}},lT={layout:{ProjectionNode:Hv,MeasureLayout:Mv}},cT={...Jk,...aT,...YE,...lT},Ve=dk(cT,kk);function wl(t){const e=$o(()=>Es(t)),{isStatic:n}=T.useContext(Fo);if(n){const[,i]=T.useState(t);T.useEffect(()=>e.on("change",i),[])}return e}function Wv(t,e){const n=wl(e()),i=()=>n.set(e());return i(),oh(()=>{const o=()=>st.preRender(i,!1,!0),l=t.map(c=>c.on("change",o));return()=>{l.forEach(c=>c()),yr(i)}}),n}function uT(t){vo.current=[],t();const e=Wv(vo.current,t);return vo.current=void 0,e}function Rd(t,e,n,i){if(typeof t=="function")return uT(t);const o=typeof e=="function"?e:kS(e,n,i);return Array.isArray(t)?i0(t,o):i0([t],([l])=>o(l))}function i0(t,e){const n=$o(()=>[]);return Wv(t,()=>{n.length=0;const i=t.length;for(let o=0;o<i;o++)n[o]=t[o].get();return e(n)})}function o0(t,e={}){const{isStatic:n}=T.useContext(Fo),i=()=>Mt(t)?t.get():t;if(n)return Rd(i);const o=wl(i());return T.useInsertionEffect(()=>ES(o,t,e),[o,JSON.stringify(e)]),o}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hT=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),a0=t=>{const e=hT(t);return e.charAt(0).toUpperCase()+e.slice(1)},qv=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:c,...d},h)=>T.createElement("svg",{ref:h,...fT,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:qv("lucide",o),...d},[...c.map(([p,v])=>T.createElement(p,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(t,e)=>{const n=T.forwardRef(({className:i,...o},l)=>T.createElement(pT,{ref:l,iconNode:e,className:qv(`lucide-${dT(a0(t))}`,`lucide-${t}`,i),...o}));return n.displayName=a0(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ts=Be("arrow-left",mT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],yT=Be("arrow-right",gT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Dh=Be("bell",vT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Kv=Be("camera",wT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],bT=Be("check-check",xT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Rl=Be("check",_T);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],kT=Be("copy",ST);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],TT=Be("download",ET);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],l0=Be("ellipsis-vertical",CT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],jT=Be("external-link",NT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],c0=Be("file-text",AT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],bo=Be("loader-circle",RT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],IT=Be("lock",PT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Gv=Be("log-out",OT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Pl=Be("message-circle",DT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],LT=Be("message-square",MT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],VT=Be("mic-off",$T);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Il=Be("mic",UT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],FT=Be("paperclip",BT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],Jv=Be("pause",zT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]],WT=Be("phone-off",HT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],KT=Be("phone",qT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Yv=Be("play",GT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Xv=Be("refresh-cw",JT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]],Qv=Be("reply",YT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],QT=Be("save",XT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Zv=Be("search",ZT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ew=Be("send",eC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nC=Be("settings",tC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],sC=Be("smile",rC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],tw=Be("sparkles",iC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],aC=Be("square",oC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],nw=Be("trash-2",lC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],u0=Be("user-plus",cC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],rw=Be("user",uC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Pd=Be("users",dC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],fC=Be("video-off",hC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],sw=Be("video",pC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Id=Be("volume-2",mC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],yC=Be("volume-x",gC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ei=Be("x",vC);function d0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function wC(...t){return e=>{let n=!1;const i=t.map(o=>{const l=d0(o,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<i.length;o++){const l=i[o];typeof l=="function"?l():d0(t[o],null)}}}}var Mh=T.forwardRef((t,e)=>{const{children:n,...i}=t,o=T.Children.toArray(n),l=o.find(bC);if(l){const c=l.props.children,d=o.map(h=>h===l?T.Children.count(c)>1?T.Children.only(null):T.isValidElement(c)?c.props.children:null:h);return m.jsx(Od,{...i,ref:e,children:T.isValidElement(c)?T.cloneElement(c,void 0,d):null})}return m.jsx(Od,{...i,ref:e,children:n})});Mh.displayName="Slot";var Od=T.forwardRef((t,e)=>{const{children:n,...i}=t;if(T.isValidElement(n)){const o=SC(n),l=_C(i,n.props);return n.type!==T.Fragment&&(l.ref=e?wC(e,o):o),T.cloneElement(n,l)}return T.Children.count(n)>1?T.Children.only(null):null});Od.displayName="SlotClone";var xC=({children:t})=>m.jsx(m.Fragment,{children:t});function bC(t){return T.isValidElement(t)&&t.type===xC}function _C(t,e){const n={...e};for(const i in e){const o=t[i],l=e[i];/^on[A-Z]/.test(i)?o&&l?n[i]=(...d)=>{l(...d),o(...d)}:o&&(n[i]=o):i==="style"?n[i]={...o,...l}:i==="className"&&(n[i]=[o,l].filter(Boolean).join(" "))}return{...t,...n}}function SC(t){var i,o;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function iw(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=iw(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Lh(){for(var t,e,n=0,i="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=iw(t))&&(i&&(i+=" "),i+=e);return i}const h0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,f0=Lh,kC=(t,e)=>n=>{var i;if((e==null?void 0:e.variants)==null)return f0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:l}=e,c=Object.keys(o).map(p=>{const v=n==null?void 0:n[p],y=l==null?void 0:l[p];if(v===null)return null;const w=h0(v)||h0(y);return o[p][w]}),d=n&&Object.entries(n).reduce((p,v)=>{let[y,w]=v;return w===void 0||(p[y]=w),p},{}),h=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((p,v)=>{let{class:y,className:w,...b}=v;return Object.entries(b).every(S=>{let[E,_]=S;return Array.isArray(_)?_.includes({...l,...d}[E]):{...l,...d}[E]===_})?[...p,y,w]:p},[]);return f0(t,c,h,n==null?void 0:n.class,n==null?void 0:n.className)},$h="-",EC=t=>{const e=CC(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:c=>{const d=c.split($h);return d[0]===""&&d.length!==1&&d.shift(),ow(d,e)||TC(c)},getConflictingClassGroupIds:(c,d)=>{const h=n[c]||[];return d&&i[c]?[...h,...i[c]]:h}}},ow=(t,e)=>{var c;if(t.length===0)return e.classGroupId;const n=t[0],i=e.nextPart.get(n),o=i?ow(t.slice(1),i):void 0;if(o)return o;if(e.validators.length===0)return;const l=t.join($h);return(c=e.validators.find(({validator:d})=>d(l)))==null?void 0:c.classGroupId},p0=/^\[(.+)\]$/,TC=t=>{if(p0.test(t)){const e=p0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},CC=t=>{const{theme:e,classGroups:n}=t,i={nextPart:new Map,validators:[]};for(const o in n)Dd(n[o],i,o,e);return i},Dd=(t,e,n,i)=>{t.forEach(o=>{if(typeof o=="string"){const l=o===""?e:m0(e,o);l.classGroupId=n;return}if(typeof o=="function"){if(NC(o)){Dd(o(i),e,n,i);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([l,c])=>{Dd(c,m0(e,l),n,i)})})},m0=(t,e)=>{let n=t;return e.split($h).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},NC=t=>t.isThemeGetter,jC=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;const o=(l,c)=>{n.set(l,c),e++,e>t&&(e=0,i=n,n=new Map)};return{get(l){let c=n.get(l);if(c!==void 0)return c;if((c=i.get(l))!==void 0)return o(l,c),c},set(l,c){n.has(l)?n.set(l,c):o(l,c)}}},Md="!",Ld=":",AC=Ld.length,RC=t=>{const{prefix:e,experimentalParseClassName:n}=t;let i=o=>{const l=[];let c=0,d=0,h=0,p;for(let S=0;S<o.length;S++){let E=o[S];if(c===0&&d===0){if(E===Ld){l.push(o.slice(h,S)),h=S+AC;continue}if(E==="/"){p=S;continue}}E==="["?c++:E==="]"?c--:E==="("?d++:E===")"&&d--}const v=l.length===0?o:o.substring(h),y=PC(v),w=y!==v,b=p&&p>h?p-h:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:y,maybePostfixModifierPosition:b}};if(e){const o=e+Ld,l=i;i=c=>c.startsWith(o)?l(c.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const o=i;i=l=>n({className:l,parseClassName:o})}return i},PC=t=>t.endsWith(Md)?t.substring(0,t.length-1):t.startsWith(Md)?t.substring(1):t,IC=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const o=[];let l=[];return i.forEach(c=>{c[0]==="["||e[c]?(o.push(...l.sort(),c),l=[]):l.push(c)}),o.push(...l.sort()),o}},OC=t=>({cache:jC(t.cacheSize),parseClassName:RC(t),sortModifiers:IC(t),...EC(t)}),DC=/\s+/,MC=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:o,sortModifiers:l}=e,c=[],d=t.trim().split(DC);let h="";for(let p=d.length-1;p>=0;p-=1){const v=d[p],{isExternal:y,modifiers:w,hasImportantModifier:b,baseClassName:S,maybePostfixModifierPosition:E}=n(v);if(y){h=v+(h.length>0?" "+h:h);continue}let _=!!E,j=i(_?S.substring(0,E):S);if(!j){if(!_){h=v+(h.length>0?" "+h:h);continue}if(j=i(S),!j){h=v+(h.length>0?" "+h:h);continue}_=!1}const N=l(w).join(":"),P=b?N+Md:N,$=P+j;if(c.includes($))continue;c.push($);const F=o(j,_);for(let z=0;z<F.length;++z){const H=F[z];c.push(P+H)}h=v+(h.length>0?" "+h:h)}return h};function LC(){let t=0,e,n,i="";for(;t<arguments.length;)(e=arguments[t++])&&(n=aw(e))&&(i&&(i+=" "),i+=n);return i}const aw=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=aw(t[i]))&&(n&&(n+=" "),n+=e);return n};function $C(t,...e){let n,i,o,l=c;function c(h){const p=e.reduce((v,y)=>y(v),t());return n=OC(p),i=n.cache.get,o=n.cache.set,l=d,d(h)}function d(h){const p=i(h);if(p)return p;const v=MC(h,n);return o(h,v),v}return function(){return l(LC.apply(null,arguments))}}const Nt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},lw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,cw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,VC=/^\d+\/\d+$/,UC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,BC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,HC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ti=t=>VC.test(t),ze=t=>!!t&&!Number.isNaN(Number(t)),Ur=t=>!!t&&Number.isInteger(Number(t)),Fu=t=>t.endsWith("%")&&ze(t.slice(0,-1)),dr=t=>UC.test(t),WC=()=>!0,qC=t=>BC.test(t)&&!FC.test(t),uw=()=>!1,KC=t=>zC.test(t),GC=t=>HC.test(t),JC=t=>!pe(t)&&!me(t),YC=t=>Ti(t,fw,uw),pe=t=>lw.test(t),us=t=>Ti(t,pw,qC),zu=t=>Ti(t,t2,ze),g0=t=>Ti(t,dw,uw),XC=t=>Ti(t,hw,GC),tl=t=>Ti(t,mw,KC),me=t=>cw.test(t),fo=t=>Ci(t,pw),QC=t=>Ci(t,n2),y0=t=>Ci(t,dw),ZC=t=>Ci(t,fw),e2=t=>Ci(t,hw),nl=t=>Ci(t,mw,!0),Ti=(t,e,n)=>{const i=lw.exec(t);return i?i[1]?e(i[1]):n(i[2]):!1},Ci=(t,e,n=!1)=>{const i=cw.exec(t);return i?i[1]?e(i[1]):n:!1},dw=t=>t==="position"||t==="percentage",hw=t=>t==="image"||t==="url",fw=t=>t==="length"||t==="size"||t==="bg-size",pw=t=>t==="length",t2=t=>t==="number",n2=t=>t==="family-name",mw=t=>t==="shadow",r2=()=>{const t=Nt("color"),e=Nt("font"),n=Nt("text"),i=Nt("font-weight"),o=Nt("tracking"),l=Nt("leading"),c=Nt("breakpoint"),d=Nt("container"),h=Nt("spacing"),p=Nt("radius"),v=Nt("shadow"),y=Nt("inset-shadow"),w=Nt("text-shadow"),b=Nt("drop-shadow"),S=Nt("blur"),E=Nt("perspective"),_=Nt("aspect"),j=Nt("ease"),N=Nt("animate"),P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],F=()=>[...$(),me,pe],z=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto","contain","none"],I=()=>[me,pe,h],J=()=>[ti,"full","auto",...I()],ue=()=>[Ur,"none","subgrid",me,pe],Te=()=>["auto",{span:["full",Ur,me,pe]},Ur,me,pe],Me=()=>[Ur,"auto",me,pe],Le=()=>["auto","min","max","fr",me,pe],He=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Pe=()=>["start","end","center","stretch","center-safe","end-safe"],ce=()=>["auto",...I()],te=()=>[ti,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],O=()=>[t,me,pe],W=()=>[...$(),y0,g0,{position:[me,pe]}],Q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],C=()=>["auto","cover","contain",ZC,YC,{size:[me,pe]}],V=()=>[Fu,fo,us],ee=()=>["","none","full",p,me,pe],re=()=>["",ze,fo,us],ye=()=>["solid","dashed","dotted","double"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],xe=()=>[ze,Fu,y0,g0],Oe=()=>["","none",S,me,pe],Ie=()=>["none",ze,me,pe],Ye=()=>["none",ze,me,pe],Y=()=>[ze,me,pe],Ne=()=>[ti,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[dr],breakpoint:[dr],color:[WC],container:[dr],"drop-shadow":[dr],ease:["in","out","in-out"],font:[JC],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[dr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[dr],shadow:[dr],spacing:["px",ze],text:[dr],"text-shadow":[dr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ti,pe,me,_]}],container:["container"],columns:[{columns:[ze,pe,me,d]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:F()}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:J()}],"inset-x":[{"inset-x":J()}],"inset-y":[{"inset-y":J()}],start:[{start:J()}],end:[{end:J()}],top:[{top:J()}],right:[{right:J()}],bottom:[{bottom:J()}],left:[{left:J()}],visibility:["visible","invisible","collapse"],z:[{z:[Ur,"auto",me,pe]}],basis:[{basis:[ti,"full","auto",d,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ze,ti,"auto","initial","none",pe]}],grow:[{grow:["",ze,me,pe]}],shrink:[{shrink:["",ze,me,pe]}],order:[{order:[Ur,"first","last","none",me,pe]}],"grid-cols":[{"grid-cols":ue()}],"col-start-end":[{col:Te()}],"col-start":[{"col-start":Me()}],"col-end":[{"col-end":Me()}],"grid-rows":[{"grid-rows":ue()}],"row-start-end":[{row:Te()}],"row-start":[{"row-start":Me()}],"row-end":[{"row-end":Me()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Le()}],"auto-rows":[{"auto-rows":Le()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...He(),"normal"]}],"justify-items":[{"justify-items":[...Pe(),"normal"]}],"justify-self":[{"justify-self":["auto",...Pe()]}],"align-content":[{content:["normal",...He()]}],"align-items":[{items:[...Pe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Pe(),{baseline:["","last"]}]}],"place-content":[{"place-content":He()}],"place-items":[{"place-items":[...Pe(),"baseline"]}],"place-self":[{"place-self":["auto",...Pe()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:ce()}],mx:[{mx:ce()}],my:[{my:ce()}],ms:[{ms:ce()}],me:[{me:ce()}],mt:[{mt:ce()}],mr:[{mr:ce()}],mb:[{mb:ce()}],ml:[{ml:ce()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[d,"screen",...te()]}],"min-w":[{"min-w":[d,"screen","none",...te()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...te()]}],h:[{h:["screen",...te()]}],"min-h":[{"min-h":["screen","none",...te()]}],"max-h":[{"max-h":["screen",...te()]}],"font-size":[{text:["base",n,fo,us]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,me,zu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Fu,pe]}],"font-family":[{font:[QC,pe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,me,pe]}],"line-clamp":[{"line-clamp":[ze,"none",me,zu]}],leading:[{leading:[l,...I()]}],"list-image":[{"list-image":["none",me,pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",me,pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ye(),"wavy"]}],"text-decoration-thickness":[{decoration:[ze,"from-font","auto",me,us]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[ze,"auto",me,pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me,pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me,pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:W()}],"bg-repeat":[{bg:Q()}],"bg-size":[{bg:C()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ur,me,pe],radial:["",me,pe],conic:[Ur,me,pe]},e2,XC]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:ee()}],"rounded-s":[{"rounded-s":ee()}],"rounded-e":[{"rounded-e":ee()}],"rounded-t":[{"rounded-t":ee()}],"rounded-r":[{"rounded-r":ee()}],"rounded-b":[{"rounded-b":ee()}],"rounded-l":[{"rounded-l":ee()}],"rounded-ss":[{"rounded-ss":ee()}],"rounded-se":[{"rounded-se":ee()}],"rounded-ee":[{"rounded-ee":ee()}],"rounded-es":[{"rounded-es":ee()}],"rounded-tl":[{"rounded-tl":ee()}],"rounded-tr":[{"rounded-tr":ee()}],"rounded-br":[{"rounded-br":ee()}],"rounded-bl":[{"rounded-bl":ee()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ye(),"hidden","none"]}],"divide-style":[{divide:[...ye(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...ye(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ze,me,pe]}],"outline-w":[{outline:["",ze,fo,us]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",v,nl,tl]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",y,nl,tl]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[ze,us]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",w,nl,tl]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[ze,me,pe]}],"mix-blend":[{"mix-blend":[...oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":xe()}],"mask-image-linear-to-pos":[{"mask-linear-to":xe()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":xe()}],"mask-image-t-to-pos":[{"mask-t-to":xe()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":xe()}],"mask-image-r-to-pos":[{"mask-r-to":xe()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":xe()}],"mask-image-b-to-pos":[{"mask-b-to":xe()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":xe()}],"mask-image-l-to-pos":[{"mask-l-to":xe()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":xe()}],"mask-image-x-to-pos":[{"mask-x-to":xe()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":xe()}],"mask-image-y-to-pos":[{"mask-y-to":xe()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[me,pe]}],"mask-image-radial-from-pos":[{"mask-radial-from":xe()}],"mask-image-radial-to-pos":[{"mask-radial-to":xe()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":$()}],"mask-image-conic-pos":[{"mask-conic":[ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":xe()}],"mask-image-conic-to-pos":[{"mask-conic-to":xe()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:W()}],"mask-repeat":[{mask:Q()}],"mask-size":[{mask:C()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",me,pe]}],filter:[{filter:["","none",me,pe]}],blur:[{blur:Oe()}],brightness:[{brightness:[ze,me,pe]}],contrast:[{contrast:[ze,me,pe]}],"drop-shadow":[{"drop-shadow":["","none",b,nl,tl]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",ze,me,pe]}],"hue-rotate":[{"hue-rotate":[ze,me,pe]}],invert:[{invert:["",ze,me,pe]}],saturate:[{saturate:[ze,me,pe]}],sepia:[{sepia:["",ze,me,pe]}],"backdrop-filter":[{"backdrop-filter":["","none",me,pe]}],"backdrop-blur":[{"backdrop-blur":Oe()}],"backdrop-brightness":[{"backdrop-brightness":[ze,me,pe]}],"backdrop-contrast":[{"backdrop-contrast":[ze,me,pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ze,me,pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ze,me,pe]}],"backdrop-invert":[{"backdrop-invert":["",ze,me,pe]}],"backdrop-opacity":[{"backdrop-opacity":[ze,me,pe]}],"backdrop-saturate":[{"backdrop-saturate":[ze,me,pe]}],"backdrop-sepia":[{"backdrop-sepia":["",ze,me,pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",me,pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ze,"initial",me,pe]}],ease:[{ease:["linear","initial",j,me,pe]}],delay:[{delay:[ze,me,pe]}],animate:[{animate:["none",N,me,pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,me,pe]}],"perspective-origin":[{"perspective-origin":F()}],rotate:[{rotate:Ie()}],"rotate-x":[{"rotate-x":Ie()}],"rotate-y":[{"rotate-y":Ie()}],"rotate-z":[{"rotate-z":Ie()}],scale:[{scale:Ye()}],"scale-x":[{"scale-x":Ye()}],"scale-y":[{"scale-y":Ye()}],"scale-z":[{"scale-z":Ye()}],"scale-3d":["scale-3d"],skew:[{skew:Y()}],"skew-x":[{"skew-x":Y()}],"skew-y":[{"skew-y":Y()}],transform:[{transform:[me,pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:F()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ne()}],"translate-x":[{"translate-x":Ne()}],"translate-y":[{"translate-y":Ne()}],"translate-z":[{"translate-z":Ne()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me,pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me,pe]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[ze,fo,us,zu]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},gw=$C(r2);function Ni(...t){return gw(Lh(t))}const s2=kC("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive cursor-pointer",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Rt({className:t,variant:e,size:n,asChild:i=!1,...o}){const l=i?Mh:"button";return m.jsx(l,{"data-slot":"button",className:Ni(s2({variant:e,size:n,className:t})),...o})}const pn=T.forwardRef(({className:t,type:e,...n},i)=>m.jsx("input",{ref:i,type:e,"data-slot":"input",className:Ni("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n}));pn.displayName="Input";function Ol(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function i2(t,e,n,i){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(v){try{p(i.next(v))}catch(y){c(y)}}function h(v){try{p(i.throw(v))}catch(y){c(y)}}function p(v){v.done?l(v.value):o(v.value).then(d,h)}p((i=i.apply(t,e||[])).next())})}const o2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Vh extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class a2 extends Vh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class v0 extends Vh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class w0 extends Vh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var $d;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})($d||($d={}));class l2{constructor(e,{headers:n={},customFetch:i,region:o=$d.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=o2(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return i2(this,arguments,void 0,function*(n,i={}){var o;let l,c;try{const{headers:d,method:h,body:p,signal:v,timeout:y}=i;let w={},{region:b}=i;b||(b=this.region);const S=new URL(`${this.url}/${n}`);b&&b!=="any"&&(w["x-region"]=b,S.searchParams.set("forceFunctionRegion",b));let E;p&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",E=p):typeof p=="string"?(w["Content-Type"]="text/plain",E=p):typeof FormData<"u"&&p instanceof FormData?E=p:(w["Content-Type"]="application/json",E=JSON.stringify(p)):E=p;let _=v;y&&(c=new AbortController,l=setTimeout(()=>c.abort(),y),v?(_=c.signal,v.addEventListener("abort",()=>c.abort())):_=c.signal);const j=yield this.fetch(S.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),d),body:E,signal:_}).catch(F=>{throw new a2(F)}),N=j.headers.get("x-relay-error");if(N&&N==="true")throw new v0(j);if(!j.ok)throw new w0(j);let P=((o=j.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),$;return P==="application/json"?$=yield j.json():P==="application/octet-stream"||P==="application/pdf"?$=yield j.blob():P==="text/event-stream"?$=j:P==="multipart/form-data"?$=yield j.formData():$=yield j.text(),{data:$,error:null,response:j}}catch(d){return{data:null,error:d,response:d instanceof w0||d instanceof v0?d.context:void 0}}finally{l&&clearTimeout(l)}})}}var c2=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},u2=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let o=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let c=null,d=null,h=null,p=l.status,v=l.statusText;if(l.ok){var y,w;if(n.method!=="HEAD"){var b;const j=await l.text();j===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((b=n.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?d=j:d=JSON.parse(j))}const E=(y=n.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),_=(w=l.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");E&&_&&_.length>1&&(h=parseInt(_[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,p=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var S;const E=await l.text();try{c=JSON.parse(E),Array.isArray(c)&&l.status===404&&(d=[],c=null,p=200,v="OK")}catch{l.status===404&&E===""?(p=204,v="No Content"):c={message:E}}if(c&&n.isMaybeSingle&&(!(c==null||(S=c.details)===null||S===void 0)&&S.includes("0 rows"))&&(c=null,p=200,v="OK"),c&&n.shouldThrowOnError)throw new c2(c)}return{error:c,data:d,count:h,status:p,statusText:v}});return this.shouldThrowOnError||(o=o.catch(l=>{var c;let d="";const h=l==null?void 0:l.cause;if(h){var p,v,y,w;const S=(p=h==null?void 0:h.message)!==null&&p!==void 0?p:"",E=(v=h==null?void 0:h.code)!==null&&v!==void 0?v:"";d=`${(y=l==null?void 0:l.name)!==null&&y!==void 0?y:"FetchError"}: ${l==null?void 0:l.message}`,d+=`

Caused by: ${(w=h==null?void 0:h.name)!==null&&w!==void 0?w:"Error"}: ${S}`,E&&(d+=` (${E})`),h!=null&&h.stack&&(d+=`
${h.stack}`)}else{var b;d=(b=l==null?void 0:l.stack)!==null&&b!==void 0?b:""}return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:d,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(t,e)}returns(){return this}overrideTypes(){return this}},d2=class extends u2{select(t){let e=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:i=n}={}){const o=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:i=!1,wal:o=!1,format:l="text"}={}){var c;const d=[t?"analyze":null,e?"verbose":null,n?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${d};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const x0=new RegExp("[,()]");var li=class extends d2{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(i=>typeof i=="string"&&x0.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(i=>typeof i=="string"&&x0.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},h2=class{constructor(t,{headers:e={},schema:n,fetch:i}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=i}select(t,e){const{head:n=!1,count:i}=e??{},o=n?"HEAD":"GET";let l=!1;const c=(t??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",c),i&&this.headers.append("Prefer",`count=${i}`),new li({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var i;const o="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new li({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const d=t.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new li({method:c,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:e}={}){var n;const i="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new li({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new li({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},f2=class yw{constructor(e,{headers:n={},schema:i,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=i,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new h2(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new yw(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:i=!1,get:o=!1,count:l}={}){var c;let d;const h=new URL(`${this.url}/rpc/${e}`);let p;i||o?(d=i?"HEAD":"GET",Object.entries(n).filter(([y,w])=>w!==void 0).map(([y,w])=>[y,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([y,w])=>{h.searchParams.append(y,w)})):(d="POST",p=n);const v=new Headers(this.headers);return l&&v.set("Prefer",`count=${l}`),new li({method:d,url:h,headers:v,schema:this.schemaName,body:p,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class p2{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const i=this.getWebSocketConstructor();return new i(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const m2="2.89.0",g2=`realtime-js/${m2}`,vw="1.0.0",y2="2.0.0",b0=vw,Vd=1e4,v2=1e3,w2=100;var Fr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Fr||(Fr={}));var jt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(jt||(jt={}));var Wn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Wn||(Wn={}));var Ud;(function(t){t.websocket="websocket"})(Ud||(Ud={}));var gs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(gs||(gs={}));class x2{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,i;const o=(i=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var n,i;const o=(i=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:{},c=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,n,i){var o,l;const c=e.topic,d=(o=e.ref)!==null&&o!==void 0?o:"",h=(l=e.join_ref)!==null&&l!==void 0?l:"",p=e.payload.event,v=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},y=Object.keys(v).length===0?"":JSON.stringify(v);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+c.length+p.length+y.length,b=new ArrayBuffer(this.HEADER_LENGTH+w);let S=new DataView(b),E=0;S.setUint8(E++,this.KINDS.userBroadcastPush),S.setUint8(E++,h.length),S.setUint8(E++,d.length),S.setUint8(E++,c.length),S.setUint8(E++,p.length),S.setUint8(E++,y.length),S.setUint8(E++,n),Array.from(h,j=>S.setUint8(E++,j.charCodeAt(0))),Array.from(d,j=>S.setUint8(E++,j.charCodeAt(0))),Array.from(c,j=>S.setUint8(E++,j.charCodeAt(0))),Array.from(p,j=>S.setUint8(E++,j.charCodeAt(0))),Array.from(y,j=>S.setUint8(E++,j.charCodeAt(0)));var _=new Uint8Array(b.byteLength+i.byteLength);return _.set(new Uint8Array(b),0),_.set(new Uint8Array(i),b.byteLength),_.buffer}decode(e,n){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return n(i)}if(typeof e=="string"){const i=JSON.parse(e),[o,l,c,d,h]=i;return n({join_ref:o,ref:l,topic:c,event:d,payload:h})}return n({})}_binaryDecode(e){const n=new DataView(e),i=n.getUint8(0),o=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,o)}}_decodeUserBroadcast(e,n,i){const o=n.getUint8(1),l=n.getUint8(2),c=n.getUint8(3),d=n.getUint8(4);let h=this.HEADER_LENGTH+4;const p=i.decode(e.slice(h,h+o));h=h+o;const v=i.decode(e.slice(h,h+l));h=h+l;const y=i.decode(e.slice(h,h+c));h=h+c;const w=e.slice(h,e.byteLength),b=d===this.JSON_ENCODING?JSON.parse(i.decode(w)):w,S={type:this.BROADCAST_EVENT,event:v,payload:b};return c>0&&(S.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>n.includes(i)))}}class ww{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var rt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(rt||(rt={}));const _0=(t,e,n={})=>{var i;const o=(i=n.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=b2(c,t,e,o),l),{}):{}},b2=(t,e,n,i)=>{const o=e.find(d=>d.name===t),l=o==null?void 0:o.type,c=n[t];return l&&!i.includes(l)?xw(l,c):Bd(c)},xw=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return E2(e,n)}switch(t){case rt.bool:return _2(e);case rt.float4:case rt.float8:case rt.int2:case rt.int4:case rt.int8:case rt.numeric:case rt.oid:return S2(e);case rt.json:case rt.jsonb:return k2(e);case rt.timestamp:return T2(e);case rt.abstime:case rt.date:case rt.daterange:case rt.int4range:case rt.int8range:case rt.money:case rt.reltime:case rt.text:case rt.time:case rt.timestamptz:case rt.timetz:case rt.tsrange:case rt.tstzrange:return Bd(e);default:return Bd(e)}},Bd=t=>t,_2=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},S2=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},k2=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},E2=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let l;const c=t.slice(1,n);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(d=>xw(e,d))}return t},T2=t=>typeof t=="string"?t.replace(" ","T"):t,bw=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Hu{constructor(e,n,i={},o=Vd){this.channel=e,this.event=n,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var S0;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(S0||(S0={}));class _o{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_o.syncState(this.state,o,l,c),this.pendingDiffs.forEach(h=>{this.state=_o.syncDiff(this.state,h,l,c)}),this.pendingDiffs=[],d()}),this.channel._on(i.diff,{},o=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=_o.syncDiff(this.state,o,l,c),d())}),this.onJoin((o,l,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:c})}),this.onLeave((o,l,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,o){const l=this.cloneDeep(e),c=this.transformState(n),d={},h={};return this.map(l,(p,v)=>{c[p]||(h[p]=v)}),this.map(c,(p,v)=>{const y=l[p];if(y){const w=v.map(_=>_.presence_ref),b=y.map(_=>_.presence_ref),S=v.filter(_=>b.indexOf(_.presence_ref)<0),E=y.filter(_=>w.indexOf(_.presence_ref)<0);S.length>0&&(d[p]=S),E.length>0&&(h[p]=E)}else d[p]=v}),this.syncDiff(l,{joins:d,leaves:h},i,o)}static syncDiff(e,n,i,o){const{joins:l,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(l,(d,h)=>{var p;const v=(p=e[d])!==null&&p!==void 0?p:[];if(e[d]=this.cloneDeep(h),v.length>0){const y=e[d].map(b=>b.presence_ref),w=v.filter(b=>y.indexOf(b.presence_ref)<0);e[d].unshift(...w)}i(d,v,h)}),this.map(c,(d,h)=>{let p=e[d];if(!p)return;const v=h.map(y=>y.presence_ref);p=p.filter(y=>v.indexOf(y.presence_ref)<0),e[d]=p,o(d,p,h),p.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const o=e[i];return"metas"in o?n[i]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[i]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var k0;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(k0||(k0={}));var So;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(So||(So={}));var hr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(hr||(hr={}));class gi{constructor(e,n={config:{}},i){var o,l;if(this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Hu(this,Wn.join,this.params,this.timeout),this.rejoinTimer=new ww(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wn.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new _o(this),this.broadcastEndpointURL=bw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var i,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==jt.closed){const{config:{broadcast:c,presence:d,private:h}}=this.params,p=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(b=>b.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[So.PRESENCE]&&this.bindings[So.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,y={},w={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:v}),postgres_changes:p,private:h};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(b=>e==null?void 0:e(hr.CHANNEL_ERROR,b)),this._onClose(()=>e==null?void 0:e(hr.CLOSED)),this.updateJoinPayload(Object.assign({config:w},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){e==null||e(hr.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,_=(S=E==null?void 0:E.length)!==null&&S!==void 0?S:0,j=[];for(let N=0;N<_;N++){const P=E[N],{filter:{event:$,schema:F,table:z,filter:H}}=P,I=b&&b[N];if(I&&I.event===$&&gi.isFilterValueEqual(I.schema,F)&&gi.isFilterValueEqual(I.table,z)&&gi.isFilterValueEqual(I.filter,H))j.push(Object.assign(Object.assign({},P),{id:I.id}));else{this.unsubscribe(),this.state=jt.errored,e==null||e(hr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,e&&e(hr.SUBSCRIBED);return}}).receive("error",b=>{this.state=jt.errored,e==null||e(hr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(hr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this.state===jt.joined&&e===So.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,i)}async httpSend(e,n,i={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const p=await d.json();h=p.error||p.message||h}catch{}return Promise.reject(new Error(h))}async send(e,n={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,d,h;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=jt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new Hu(this,Wn.leave,{},e),i.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=jt.closed,this.bindings={}}async _fetchWithTimeout(e,n,i){const o=new AbortController,l=setTimeout(()=>o.abort(),i),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(l),c}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Hu(this,e,n,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>w2){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var o,l;const c=e.toLocaleLowerCase(),{close:d,error:h,leave:p,join:v}=Wn;if(i&&[d,h,p,v].indexOf(c)>=0&&i!==this._joinRef())return;let w=this._onMessage(c,n,i);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(b=>{var S,E,_;return((S=b.filter)===null||S===void 0?void 0:S.event)==="*"||((_=(E=b.filter)===null||E===void 0?void 0:E.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===c}).map(b=>b.callback(w,i)):(l=this.bindings[c])===null||l===void 0||l.filter(b=>{var S,E,_,j,N,P;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in b){const $=b.id,F=(S=b.filter)===null||S===void 0?void 0:S.event;return $&&((E=n.ids)===null||E===void 0?void 0:E.includes($))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const $=(N=(j=b==null?void 0:b.filter)===null||j===void 0?void 0:j.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return $==="*"||$===((P=n==null?void 0:n.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===c}).map(b=>{if(typeof w=="object"&&"ids"in w){const S=w.data,{schema:E,table:_,commit_timestamp:j,type:N,errors:P}=S;w=Object.assign(Object.assign({},{schema:E,table:_,commit_timestamp:j,eventType:N,new:{},old:{},errors:P}),this._getPayloadRecords(S))}b.callback(w,i)})}_isClosed(){return this.state===jt.closed}_isJoined(){return this.state===jt.joined}_isJoining(){return this.state===jt.joining}_isLeaving(){return this.state===jt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const o=e.toLocaleLowerCase(),l={type:o,filter:n,callback:i};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&gi.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Wn.close,{},e)}_onError(e){this._on(Wn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=_0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=_0(e.columns,e.old_record)),n}}const Wu=()=>{},rl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},C2=[1e3,2e3,5e3,1e4],N2=1e4,j2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class A2{constructor(e,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Vd,this.transport=null,this.heartbeatIntervalMs=rl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wu,this.ref=0,this.reconnectTimer=null,this.vsn=b0,this.logger=Wu,this.conn=null,this.sendBuffer=[],this.serializer=new x2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((i=n==null?void 0:n.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Ud.websocket}`,this.httpEndpoint=bw(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=p2.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Fr.connecting:return gs.Connecting;case Fr.open:return gs.Open;case Fr.closing:return gs.Closing;default:return gs.Closed}}isConnected(){return this.connectionState()===gs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===i);if(o)return o;{const l=new gi(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:i,payload:o,ref:l}=e,c=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${n} ${i} (${l})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(v2,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},rl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:o,payload:l,ref:c}=n,d=c?`(${c})`:"",h=l.status||"";this.log("receive",`${h} ${i} ${o} ${d}`.trim(),l),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(o,l,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Fr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Fr.open||this.conn.readyState===Fr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Wn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${i}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([j2],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,i=!1;if(e)n=e,i=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const l={access_token:n,version:g2};n&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(Wn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new ww(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},rl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,i,o,l,c,d,h,p,v,y,w,b;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:Vd,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:rl.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=e==null?void 0:e.heartbeatCallback)!==null&&d!==void 0?d:Wu,this.vsn=(h=e==null?void 0:e.vsn)!==null&&h!==void 0?h:b0,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e==null?void 0:e.reconnectAfterMs)!==null&&p!==void 0?p:(S=>C2[S-1]||N2),this.vsn){case vw:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:((S,E)=>E(JSON.stringify(S))),this.decode=(y=e==null?void 0:e.decode)!==null&&y!==void 0?y:((S,E)=>E(JSON.parse(S)));break;case y2:this.encode=(w=e==null?void 0:e.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var jo=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function R2(t,e,n){const i=new URL(e,t);if(n)for(const[o,l]of Object.entries(n))l!==void 0&&i.searchParams.set(o,l);return i.toString()}async function P2(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function I2(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:i,query:o,body:l,headers:c}){const d=R2(t.baseUrl,i,o),h=await P2(t.auth),p=await e(d,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...h,...c},body:l?JSON.stringify(l):void 0}),v=await p.text(),y=(p.headers.get("content-type")||"").includes("application/json"),w=y&&v?JSON.parse(v):v;if(!p.ok){const b=y?w:void 0,S=b==null?void 0:b.error;throw new jo((S==null?void 0:S.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:S==null?void 0:S.type,icebergCode:S==null?void 0:S.code,details:b})}return{status:p.status,headers:p.headers,data:w}}}}function sl(t){return t.join("")}var O2=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:sl(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${sl(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${sl(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${sl(t.namespace)}`}),!0}catch(e){if(e instanceof jo&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof jo&&n.status===409)return;throw n}}};function ni(t){return t.join("")}var D2=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ni(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ni(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ni(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ni(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ni(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ni(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof jo&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof jo&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},M2=class{constructor(t){var i;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=I2({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(i=t.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new O2(this.client,e),this.tableOps=new D2(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Dl=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function ft(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var L2=class extends Dl{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Fd=class extends Dl{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Uh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),$2=()=>Response,zd=t=>{if(Array.isArray(t))return t.map(n=>zd(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const o=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=zd(i)}),e},V2=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},U2=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Ao(t){"@babel/helpers - typeof";return Ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ao(t)}function B2(t,e){if(Ao(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(Ao(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F2(t){var e=B2(t,"string");return Ao(e)=="symbol"?e:e+""}function z2(t,e,n){return(e=F2(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function Ee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E0(Object(n),!0).forEach(function(i){z2(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E0(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}const qu=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},H2=async(t,e,n)=>{t instanceof await $2()&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const o=t.status||500,l=(i==null?void 0:i.statusCode)||o+"";e(new L2(qu(i),o,l))}).catch(i=>{e(new Fd(qu(i),i))}):e(new Fd(qu(t),t))},W2=(t,e,n,i)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!i?o:(V2(i)?(o.headers=Ee({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(i)):o.body=i,e!=null&&e.duplex&&(o.duplex=e.duplex),Ee(Ee({},o),n))};async function Ho(t,e,n,i,o,l){return new Promise((c,d)=>{t(n,W2(e,i,o,l)).then(h=>{if(!h.ok)throw h;return i!=null&&i.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>H2(h,d,i))})}async function Ro(t,e,n,i){return Ho(t,"GET",e,n,i)}async function Hn(t,e,n,i,o){return Ho(t,"POST",e,i,o,n)}async function Hd(t,e,n,i,o){return Ho(t,"PUT",e,i,o,n)}async function q2(t,e,n,i){return Ho(t,"HEAD",e,Ee(Ee({},n),{},{noResolveJson:!0}),i)}async function Bh(t,e,n,i,o){return Ho(t,"DELETE",e,i,o,n)}var K2=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ft(e))return{data:null,error:e};throw e}}};let _w;_w=Symbol.toStringTag;var G2=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[_w]="BlobDownloadBuilder",this.promise=null}asStream(){return new K2(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ft(e))return{data:null,error:e};throw e}}};const J2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},T0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Y2=class{constructor(t,e={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=Uh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,i){var o=this;try{let l;const c=Ee(Ee({},T0),i);let d=Ee(Ee({},o.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),h&&l.append("metadata",o.encodeMetadata(h)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),h&&!l.has("metadata")&&l.append("metadata",o.encodeMetadata(h))):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,h&&(d["x-metadata"]=o.toBase64(o.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),i!=null&&i.headers&&(d=Ee(Ee({},d),i.headers));const p=o._removeEmptyFolders(e),v=o._getFinalPath(p),y=await(t=="PUT"?Hd:Hn)(o.fetch,`${o.url}/object/${v}`,l,Ee({headers:d},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:p,id:y.Id,fullPath:y.Key},error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(ft(l))return{data:null,error:l};throw l}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,i){var o=this;const l=o._removeEmptyFolders(t),c=o._getFinalPath(l),d=new URL(o.url+`/object/upload/sign/${c}`);d.searchParams.set("token",e);try{let h;const p=Ee({upsert:T0.upsert},i),v=Ee(Ee({},o.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",p.cacheControl)):(h=n,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType),{data:{path:l,fullPath:(await Hd(o.fetch,d.toString(),h,{headers:v})).Key},error:null}}catch(h){if(o.shouldThrowOnError)throw h;if(ft(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(t,e){var n=this;try{let i=n._getFinalPath(t);const o=Ee({},n.headers);e!=null&&e.upsert&&(o["x-upsert"]="true");const l=await Hn(n.fetch,`${n.url}/object/upload/sign/${i}`,{},{headers:o}),c=new URL(n.url+l.url),d=c.searchParams.get("token");if(!d)throw new Dl("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:d},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var i=this;try{return{data:await Hn(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:i.headers}),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(ft(o))return{data:null,error:o};throw o}}async copy(t,e,n){var i=this;try{return{data:{path:(await Hn(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:i.headers})).Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(ft(o))return{data:null,error:o};throw o}}async createSignedUrl(t,e,n){var i=this;try{let o=i._getFinalPath(t),l=await Hn(i.fetch,`${i.url}/object/sign/${o}`,Ee({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:i.headers});const c=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${i.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(ft(o))return{data:null,error:o};throw o}}async createSignedUrls(t,e,n){var i=this;try{const o=await Hn(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:e,paths:t},{headers:i.headers}),l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(c=>Ee(Ee({},c),{},{signedUrl:c.signedURL?encodeURI(`${i.url}${c.signedURL}${l}`):null})),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(ft(o))return{data:null,error:o};throw o}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>Ro(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new G2(c,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:zd(await Ro(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await q2(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(ft(i)&&i instanceof Fd){const o=i.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:i}}throw i}}getPublicUrl(t,e){const n=this._getFinalPath(t),i=[],o=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);const l=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});c!==""&&i.push(c);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}async remove(t){var e=this;try{return{data:await Bh(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async list(t,e,n){var i=this;try{const o=Ee(Ee(Ee({},J2),e),{},{prefix:t||""});return{data:await Hn(i.fetch,`${i.url}/object/list/${i.bucketId}`,o,{headers:i.headers},n),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(ft(o))return{data:null,error:o};throw o}}async listV2(t,e){var n=this;try{const i=Ee({},t);return{data:await Hn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,i,{headers:n.headers},e),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Sw="2.89.0",kw={"X-Client-Info":`storage-js/${Sw}`};var X2=class{constructor(t,e={},n,i){this.shouldThrowOnError=!1;const o=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Ee(Ee({},kw),e),this.fetch=Uh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await Ro(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Ro(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await Hn(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}}async updateBucket(t,e){var n=this;try{return{data:await Hd(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}}async emptyBucket(t){var e=this;try{return{data:await Hn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Bh(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Q2=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ee(Ee({},kw),e),this.fetch=Uh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Hn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const i=n.toString(),o=i?`${e.url}/bucket?${i}`:`${e.url}/bucket`;return{data:await Ro(e.fetch,o,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Bh(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!U2(t))throw new Dl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new M2({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(n,{get(o,l){const c=o[l];return typeof c!="function"?c:async(...d)=>{try{return{data:await c.apply(o,d),error:null}}catch(h){if(i)throw h;return{data:null,error:h}}}}})}};const Fh={"X-Client-Info":`storage-js/${Sw}`,"Content-Type":"application/json"};var Ew=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function bn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Ku=class extends Ew{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Z2=class extends Ew{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const zh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),eN=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},C0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tN=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,o=t;if(typeof o.json=="function")o.json().then(l=>{const c=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||i+"";e(new Ku(C0(l),i,c))}).catch(()=>{const l=i+"";e(new Ku(o.statusText||`HTTP ${i} error`,i,l))});else{const l=i+"";e(new Ku(o.statusText||`HTTP ${i} error`,i,l))}}else e(new Z2(C0(t),t))},nN=(t,e,n,i)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return i?(eN(i)?(o.headers=Ee({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(i)):o.body=i,Ee(Ee({},o),n)):o};async function rN(t,e,n,i,o,l){return new Promise((c,d)=>{t(n,nN(e,i,o,l)).then(h=>{if(!h.ok)throw h;if(i!=null&&i.noResolveJson)return h;const p=h.headers.get("content-type");return!p||!p.includes("application/json")?{}:h.json()}).then(h=>c(h)).catch(h=>tN(h,d,i))})}async function _n(t,e,n,i,o){return rN(t,"POST",e,i,o,n)}var sN=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ee(Ee({},Fh),e),this.fetch=zh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await _n(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await _n(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(bn(i))return{data:null,error:i};throw i}}async listIndexes(t){var e=this;try{return{data:await _n(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await _n(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(bn(i))return{data:null,error:i};throw i}}},iN=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ee(Ee({},Fh),e),this.fetch=zh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await _n(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await _n(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await _n(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await _n(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await _n(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}},oN=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ee(Ee({},Fh),e),this.fetch=zh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await _n(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await _n(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await _n(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await _n(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}},aN=class extends oN{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new lN(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},lN=class extends sN{constructor(t,e,n,i){super(t,e,i),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,Ee(Ee({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,Ee(Ee({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new cN(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},cN=class extends iN{constructor(t,e,n,i,o){super(t,e,o),this.vectorBucketName=n,this.indexName=i}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,Ee(Ee({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,Ee(Ee({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,Ee(Ee({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,Ee(Ee({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,Ee(Ee({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},uN=class extends X2{constructor(t,e={},n,i){super(t,e,n,i)}from(t){return new Y2(this.url,this.headers,t,this.fetch)}get vectors(){return new aN(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Q2(this.url+"/iceberg",this.headers,this.fetch)}};const Tw="2.89.0",ci=30*1e3,Wd=3,Gu=Wd*ci,dN="http://localhost:9999",hN="supabase.auth.token",fN={"X-Client-Info":`gotrue-js/${Tw}`},qd="X-Supabase-Api-Version",Cw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mN=600*1e3;class Po extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function we(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class gN extends Po{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function yN(t){return we(t)&&t.name==="AuthApiError"}class ys extends Po{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class wr extends Po{constructor(e,n,i,o){super(e,i,o),this.name=n,this.status=i}}class xn extends wr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function vN(t){return we(t)&&t.name==="AuthSessionMissingError"}class ri extends wr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class il extends wr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ol extends wr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function wN(t){return we(t)&&t.name==="AuthImplicitGrantRedirectError"}class N0 extends wr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xN extends wr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Kd extends wr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Ju(t){return we(t)&&t.name==="AuthRetryableFetchError"}class j0 extends wr{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Gd extends wr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const xl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),A0=` 	
\r=`.split(""),bN=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<A0.length;e+=1)t[A0[e].charCodeAt(0)]=-2;for(let e=0;e<xl.length;e+=1)t[xl[e].charCodeAt(0)]=e;return t})();function R0(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(xl[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(xl[i]),e.queuedBits-=6}}function Nw(t,e,n){const i=bN[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function P0(t){const e=[],n=c=>{e.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=c=>{kN(c,i,n)};for(let c=0;c<t.length;c+=1)Nw(t.charCodeAt(c),o,l);return e.join("")}function _N(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function SN(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}_N(i,e)}}function kN(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function vi(t){const e=[],n={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Nw(t.charCodeAt(o),n,i);return new Uint8Array(e)}function EN(t){const e=[];return SN(t,n=>e.push(n)),new Uint8Array(e)}function xs(t){const e=[],n={queue:0,queuedBits:0},i=o=>{e.push(o)};return t.forEach(o=>R0(o,n,i)),R0(null,n,i),e.join("")}function TN(t){return Math.round(Date.now()/1e3)+t}function CN(){return Symbol("auth-callback")}const Bt=()=>typeof window<"u"&&typeof document<"u",ds={tested:!1,writable:!1},jw=()=>{if(!Bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ds.tested)return ds.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ds.tested=!0,ds.writable=!0}catch{ds.tested=!0,ds.writable=!1}return ds.writable};function NN(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return n.searchParams.forEach((i,o)=>{e[o]=i}),e}const Aw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),jN=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ui=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},hs=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ut=async(t,e)=>{await t.removeItem(e)};let Rw=class Pw{constructor(){this.promise=new Pw.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};Rw.promiseConstructor=Promise;function Yu(t){const e=t.split(".");if(e.length!==3)throw new Gd("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!pN.test(e[i]))throw new Gd("JWT not in base64url format");return{header:JSON.parse(P0(e[0])),payload:JSON.parse(P0(e[1])),signature:vi(e[2]),raw:{header:e[0],payload:e[1]}}}async function AN(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function RN(t,e){return new Promise((i,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){i(c);return}}catch(c){if(!e(l,c)){o(c);return}}})()})}function PN(t){return("0"+t.toString(16)).substr(-2)}function IN(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let o="";for(let l=0;l<56;l++)o+=n.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,PN).join("")}async function ON(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(i);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function DN(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await ON(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function si(t,e,n=!1){const i=IN();let o=i;n&&(o+="/PASSWORD_RECOVERY"),await ui(t,`${e}-code-verifier`,o);const l=await DN(i);return[l,i===l?"plain":"s256"]}const MN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function LN(t){const e=t.headers.get(qd);if(!e||!e.match(MN))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function $N(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function VN(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const UN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ii(t){if(!UN.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xu(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function BN(t,e){return new Proxy(t,{get:(n,i,o)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,o)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,i,o)}})}function I0(t){return JSON.parse(JSON.stringify(t))}const ps=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),FN=[502,503,504];async function O0(t){var e;if(!jN(t))throw new Kd(ps(t),0);if(FN.includes(t.status))throw new Kd(ps(t),t.status);let n;try{n=await t.json()}catch(l){throw new ys(ps(l),l)}let i;const o=LN(t);if(o&&o.getTime()>=Cw["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new j0(ps(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new xn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new j0(ps(n),t.status,n.weak_password.reasons);throw new gN(ps(n),t.status||500,i)}const zN=(t,e,n,i)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),n))};async function ke(t,e,n,i){var o;const l=Object.assign({},i==null?void 0:i.headers);l[qd]||(l[qd]=Cw["2024-01-01"].name),i!=null&&i.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const c=(o=i==null?void 0:i.query)!==null&&o!==void 0?o:{};i!=null&&i.redirectTo&&(c.redirect_to=i.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await HN(t,e,n+d,{headers:l,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(h):{data:Object.assign({},h),error:null}}async function HN(t,e,n,i,o,l){const c=zN(e,i,o,l);let d;try{d=await t(n,Object.assign({},c))}catch(h){throw console.error(h),new Kd(ps(h),0)}if(d.ok||await O0(d),i!=null&&i.noResolveJson)return d;try{return await d.json()}catch(h){await O0(h)}}function Fn(t){var e;let n=null;KN(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=TN(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function D0(t){const e=Fn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function zr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function WN(t){return{data:t,error:null}}function qN(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:o,verification_type:l}=t,c=Ol(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:i,redirect_to:o,verification_type:l},h=Object.assign({},c);return{data:{properties:d,user:h},error:null}}function M0(t){return t}function KN(t){return t.access_token&&t.refresh_token&&t.expires_in}const Qu=["global","local","others"];class GN{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=Aw(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Qu[0]){if(Qu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qu.join(", ")}`);try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(we(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:zr})}catch(i){if(we(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=Ol(e,["options"]),o=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(o.new_email=i==null?void 0:i.newEmail,delete o.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:qN,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(we(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:zr})}catch(n){if(we(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,o,l,c,d,h;try{const p={nextPage:null,lastPage:0,total:0},v=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:M0});if(v.error)throw v.error;const y=await v.json(),w=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(h=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(S.split(";")[1].split("=")[1]);p[`${_}Page`]=E}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(we(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){ii(e);try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:zr})}catch(n){if(we(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ii(e);try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:zr})}catch(i){if(we(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){ii(e);try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:zr})}catch(i){if(we(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){ii(e.userId);try{const{data:n,error:i}=await ke(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:i}}catch(n){if(we(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ii(e.userId),ii(e.id);try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,i,o,l,c,d,h;try{const p={nextPage:null,lastPage:0,total:0},v=await ke(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:M0});if(v.error)throw v.error;const y=await v.json(),w=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(h=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(S.split(";")[1].split("=")[1]);p[`${_}Page`]=E}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(we(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await ke(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(we(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await ke(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(we(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await ke(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(we(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await ke(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await ke(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(we(n))return{data:null,error:n};throw n}}}function L0(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const oi={debug:!!(globalThis&&jw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Iw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class JN extends Iw{}async function YN(t,e,n){oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),oi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new JN(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(oi.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function XN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ow(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function QN(t){return parseInt(t,16)}function ZN(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function ej(t){var e;const{chainId:n,domain:i,expirationTime:o,issuedAt:l=new Date,nonce:c,notBefore:d,requestId:h,resources:p,scheme:v,uri:y,version:w}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=Ow(t.address),S=v?`${v}://${i}`:i,E=t.statement?`${t.statement}
`:"",_=`${S} wants you to sign in with your Ethereum account:
${b}

${E}`;let j=`URI: ${y}
Version: ${w}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(o&&(j+=`
Expiration Time: ${o.toISOString()}`),d&&(j+=`
Not Before: ${d.toISOString()}`),h&&(j+=`
Request ID: ${h}`),p){let N=`
Resources:`;for(const P of p){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);N+=`
- ${P}`}j+=N}return`${_}
${j}`}class kt extends Error{constructor({message:e,code:n,cause:i,name:o}){var l;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=o??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class bl extends kt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function tj({error:t,options:e}){var n,i,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new kt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new kt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new kt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new kt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new kt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new kt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new kt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new kt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(Dw(c)){if(l.rp.id!==c)return new kt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new kt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new kt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function nj({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new kt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new kt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(Dw(i)){if(n.rpId!==i)return new kt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new kt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class rj{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const sj=new rj;function ij(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:i}=t,o=Ol(t,["challenge","user","excludeCredentials"]),l=vi(e).buffer,c=Object.assign(Object.assign({},n),{id:vi(n.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:l,user:c});if(i&&i.length>0){d.excludeCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const p=i[h];d.excludeCredentials[h]=Object.assign(Object.assign({},p),{id:vi(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function oj(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,i=Ol(t,["challenge","allowCredentials"]),o=vi(e).buffer,l=Object.assign(Object.assign({},i),{challenge:o});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];l.allowCredentials[c]=Object.assign(Object.assign({},d),{id:vi(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function aj(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:xs(new Uint8Array(t.response.attestationObject)),clientDataJSON:xs(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function lj(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,i=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:xs(new Uint8Array(o.authenticatorData)),clientDataJSON:xs(new Uint8Array(o.clientDataJSON)),signature:xs(new Uint8Array(o.signature)),userHandle:o.userHandle?xs(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Dw(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function $0(){var t,e;return!!(Bt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function cj(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new bl("Browser returned unexpected credential type",e)}:{data:null,error:new bl("Empty credential response",e)}}catch(e){return{data:null,error:tj({error:e,options:t})}}}async function uj(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new bl("Browser returned unexpected credential type",e)}:{data:null,error:new bl("Empty credential response",e)}}catch(e){return{data:null,error:nj({error:e,options:t})}}}const dj={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},hj={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function _l(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of t)if(o)for(const l in o){const c=o[l];if(c!==void 0)if(Array.isArray(c))i[l]=c;else if(n(c))i[l]=c;else if(e(c)){const d=i[l];e(d)?i[l]=_l(d,c):i[l]=_l(c)}else i[l]=c}return i}function fj(t,e){return _l(dj,t,e||{})}function pj(t,e){return _l(hj,t,e||{})}class mj{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:i,signal:o},l){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!c)return{data:null,error:d};const h=o??sj.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:p}=c.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${i}`),p.displayName||(p.displayName=p.name)}switch(c.webauthn.type){case"create":{const p=fj(c.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:v,error:y}=await cj({publicKey:p,signal:h});return v?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}case"request":{const p=pj(c.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:v,error:y}=await uj(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:p,signal:h}));return v?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}}}catch(c){return we(c)?{data:null,error:c}:{data:null,error:new ys("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new Po("rpId is required for WebAuthn authentication")};try{if(!$0())return{data:null,error:new ys("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:i},signal:o},{request:l});if(!c)return{data:null,error:d};const{webauthn:h}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:i,credential_response:h.credential_response}})}catch(c){return we(c)?{data:null,error:c}:{data:null,error:new ys("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new Po("rpId is required for WebAuthn registration")};try{if(!$0())return{data:null,error:new ys("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(v=>{var y;return(y=v.data)===null||y===void 0?void 0:y.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:d};const{data:h,error:p}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:o},{create:l});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:i,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:p}}catch(c){return we(c)?{data:null,error:c}:{data:null,error:new ys("Unexpected error in register",c)}}}}XN();const gj={url:dN,storageKey:hN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function V0(t,e,n){return await n()}const ai={};class Io{get jwks(){var e,n;return(n=(e=ai[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ai[this.storageKey]=Object.assign(Object.assign({},ai[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ai[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ai[this.storageKey]=Object.assign(Object.assign({},ai[this.storageKey]),{cachedAt:e})}constructor(e){var n,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},gj),e);if(this.storageKey=l.storageKey,this.instanceID=(n=Io.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Io.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&Bt()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new GN({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Aw(l.fetch),this.lock=l.lock||V0,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&Bt()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=YN:this.lock=V0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new mj(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:jw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=L0(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=L0(this.memoryStorage)),Bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Tw}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},i="none";if(Bt()&&(n=NN(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),Bt()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:l}=await this._getSessionFromURL(n,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),wN(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return we(n)?this._returnResult({error:n}):this._returnResult({error:new ys("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,o;try{const l=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:Fn}),{data:c,error:d}=l;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const h=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(l){if(we(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,i,o;try{let l;if("email"in e){const{email:v,password:y,options:w}=e;let b=null,S=null;this.flowType==="pkce"&&([b,S]=await si(this.storage,this.storageKey)),l=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:v,password:y,data:(n=w==null?void 0:w.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:b,code_challenge_method:S},xform:Fn})}else if("phone"in e){const{phone:v,password:y,options:w}=e;l=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:y,data:(i=w==null?void 0:w.data)!==null&&i!==void 0?i:{},channel:(o=w==null?void 0:w.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:Fn})}else throw new il("You must provide either an email or phone number and a password");const{data:c,error:d}=l;if(d||!c)return await Ut(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const h=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(l){if(await Ut(this.storage,`${this.storageKey}-code-verifier`),we(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:c,options:d}=e;n=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:D0})}else if("phone"in e){const{phone:l,password:c,options:d}=e;n=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:D0})}else throw new il("You must provide either an email or phone number and a password");const{data:i,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){const l=new ri;return this._returnResult({data:{user:null,session:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(n){if(we(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,i,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,i,o,l,c,d,h,p,v,y,w;let b,S;if("message"in e)b=e.message,S=e.signature;else{const{chain:E,wallet:_,statement:j,options:N}=e;let P;if(Bt())if(typeof _=="object")P=_;else{const J=window;if("ethereum"in J&&typeof J.ethereum=="object"&&"request"in J.ethereum&&typeof J.ethereum.request=="function")P=J.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=_}const $=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href),F=await P.request({method:"eth_requestAccounts"}).then(J=>J).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const z=Ow(F[0]);let H=(i=N==null?void 0:N.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!H){const J=await P.request({method:"eth_chainId"});H=QN(J)}const I={domain:$.host,address:z,statement:j,uri:$.href,version:"1",chainId:H,nonce:(o=N==null?void 0:N.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(l=N==null?void 0:N.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=N==null?void 0:N.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=N==null?void 0:N.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(p=N==null?void 0:N.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(v=N==null?void 0:N.signInWithEthereum)===null||v===void 0?void 0:v.resources};b=ej(I),S=await P.request({method:"personal_sign",params:[ZN(b),z]})}try{const{data:E,error:_}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:S},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Fn});if(_)throw _;if(!E||!E.session||!E.user){const j=new ri;return this._returnResult({data:{user:null,session:null},error:j})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:_})}catch(E){if(we(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var n,i,o,l,c,d,h,p,v,y,w,b;let S,E;if("message"in e)S=e.message,E=e.signature;else{const{chain:_,wallet:j,statement:N,options:P}=e;let $;if(Bt())if(typeof j=="object")$=j;else{const z=window;if("solana"in z&&typeof z.solana=="object"&&("signIn"in z.solana&&typeof z.solana.signIn=="function"||"signMessage"in z.solana&&typeof z.solana.signMessage=="function"))$=z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=j}const F=new URL((n=P==null?void 0:P.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in $&&$.signIn){const z=await $.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P==null?void 0:P.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),N?{statement:N}:null));let H;if(Array.isArray(z)&&z[0]&&typeof z[0]=="object")H=z[0];else if(z&&typeof z=="object"&&"signedMessage"in z&&"signature"in z)H=z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)S=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),E=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in $)||typeof $.signMessage!="function"||!("publicKey"in $)||typeof $!="object"||!$.publicKey||!("toBase58"in $.publicKey)||typeof $.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${F.host} wants you to sign in with your Solana account:`,$.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(o=(i=P==null?void 0:P.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=P==null?void 0:P.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((c=P==null?void 0:P.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((d=P==null?void 0:P.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((h=P==null?void 0:P.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((p=P==null?void 0:P.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((y=(v=P==null?void 0:P.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||y===void 0)&&y.length?["Resources",...P.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const z=await $.signMessage(new TextEncoder().encode(S),"utf8");if(!z||!(z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=z}}try{const{data:_,error:j}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:xs(E)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Fn});if(j)throw j;if(!_||!_.session||!_.user){const N=new ri;return this._returnResult({data:{user:null,session:null},error:N})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:j})}catch(_){if(we(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(e){const n=await hs(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(n??"").split("/");try{if(!i&&this.flowType==="pkce")throw new xN;const{data:l,error:c}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Fn});if(await Ut(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const d=new ri;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:c})}catch(l){if(await Ut(this.storage,`${this.storageKey}-code-verifier`),we(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:i,token:o,access_token:l,nonce:c}=e,d=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Fn}),{data:h,error:p}=d;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h||!h.session||!h.user){const v=new ri;return this._returnResult({data:{user:null,session:null},error:v})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:p})}catch(n){if(we(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,i,o,l,c;try{if("email"in e){const{email:d,options:h}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await si(this.storage,this.storageKey));const{error:y}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},create_user:(i=h==null?void 0:h.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in e){const{phone:d,options:h}=e,{data:p,error:v}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=h==null?void 0:h.data)!==null&&o!==void 0?o:{},create_user:(l=h==null?void 0:h.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(c=h==null?void 0:h.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:v})}throw new il("You must provide either an email or phone number.")}catch(d){if(await Ut(this.storage,`${this.storageKey}-code-verifier`),we(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var n,i;try{let o,l;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:d}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:Fn});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,p=c.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(o){if(we(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var n,i,o,l,c;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await si(this.storage,this.storageKey));const p=await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:WN});return!((l=p.data)===null||l===void 0)&&l.url&&Bt()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(d){if(await Ut(this.storage,`${this.storageKey}-code-verifier`),we(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new xn;const{error:o}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(we(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:l}=e,{error:c}=await ke(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:i,type:o,options:l}=e,{data:c,error:d}=await ke(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new il("You must provide either an email or phone number and a type")}catch(n){if(we(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await hs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Gu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const c=await hs(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=Xu()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=BN(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:zr}):await this._useSession(async n=>{var i,o,l;const{data:c,error:d}=n;if(d)throw d;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xn}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:zr})})}catch(n){if(we(n))return vN(n)&&(await this._removeSession(),await Ut(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:o,error:l}=i;if(l)throw l;if(!o.session)throw new xn;const c=o.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await si(this.storage,this.storageKey));const{data:p,error:v}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:c.access_token,xform:zr});if(v)throw v;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(i){if(await Ut(this.storage,`${this.storageKey}-code-verifier`),we(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new xn;const n=Date.now()/1e3;let i=n,o=!0,l=null;const{payload:c}=Yu(e.access_token);if(c.exp&&(i=c.exp,o=i<=n),o){const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(we(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:c,error:d}=n;if(d)throw d;e=(i=c.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new xn;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(we(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Bt())throw new ol("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ol(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new N0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ol("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new N0("No code detected.");const{data:N,error:P}=await this._exchangeCodeForSession(e.code);if(P)throw P;const $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:l,refresh_token:c,expires_in:d,expires_at:h,token_type:p}=e;if(!l||!d||!c||!p)throw new ol("No session defined in URL");const v=Math.round(Date.now()/1e3),y=parseInt(d);let w=v+y;h&&(w=parseInt(h));const b=w-v;b*1e3<=ci&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${y}s`);const S=w-y;v-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,w,v):v-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,w,v);const{data:E,error:_}=await this._getUser(l);if(_)throw _;const j={provider_token:i,provider_refresh_token:o,access_token:l,expires_in:y,expires_at:w,refresh_token:c,token_type:p,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:e.type},error:null})}catch(i){if(we(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await hs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:o,error:l}=n;if(l)return this._returnResult({error:l});const c=(i=o.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!(yN(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await Ut(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=CN(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,o;try{const{data:{session:l},error:c}=n;if(c)throw c;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await si(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await Ut(this.storage,`${this.storageKey}-code-verifier`),we(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:i,error:o}=await this._useSession(async l=>{var c,d,h,p,v;const{data:y,error:w}=l;if(w)throw w;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",b,{headers:this.headers,jwt:(v=(p=y.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return Bt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:e.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(we(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var i;try{const{error:o,data:{session:l}}=n;if(o)throw o;const{options:c,provider:d,token:h,access_token:p,nonce:v}=e,y=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l==null?void 0:l.access_token)!==null&&i!==void 0?i:void 0,body:{provider:d,id_token:h,access_token:p,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Fn}),{data:w,error:b}=y;return b?this._returnResult({data:{user:null,session:null},error:b}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new ri}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:b}))}catch(o){if(await Ut(this.storage,`${this.storageKey}-code-verifier`),we(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,o;const{data:l,error:c}=n;if(c)throw c;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await RN(async o=>(o>0&&await AN(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Fn})),(o,l)=>{const c=200*Math.pow(2,o);return l&&Ju(l)&&Date.now()+c-i<ci})}catch(i){if(this._debug(n,"error",i),we(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),Bt()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await hs(this.storage,this.storageKey);if(o&&this.userStorage){let c=await hs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await ui(this.userStorage,this.storageKey+"-user",c)),o.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:Xu()}else if(o&&!o.user&&!o.user){const c=await hs(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(o.user=c.user,await Ut(this.storage,this.storageKey+"-user"),await ui(this.storage,this.storageKey,o)):o.user=Xu()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const l=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Gu;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${Gu}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),Ju(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(o.access_token);!d&&(c!=null&&c.user)?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new xn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Rw;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new xn;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(o,"error",l),we(l)){const c={data:null,error:l};return Ju(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(h){l.push(h)}});if(await Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ut(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await ui(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const l=I0(o);await ui(this.storage,this.storageKey,l)}else{const o=I0(n);await ui(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ut(this.storage,this.storageKey),await Ut(this.storage,this.storageKey+"-code-verifier"),await Ut(this.storage,this.storageKey+"-user"),this.userStorage&&await Ut(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Bt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ci);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/ci);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ci}ms, refresh threshold is ${Wd} ticks`),o<=Wd&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Iw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const o=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,c]=await si(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(d.toString())}if(i!=null&&i.queryParams){const l=new URLSearchParams(i.queryParams);o.push(l.toString())}return i!=null&&i.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:o,error:l}=n;return l?this._returnResult({data:null,error:l}):await ke(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,o;const{data:l,error:c}=n;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:p}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&h.type==="totp"&&(!((o=h==null?void 0:h.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?aj(e.webauthn.credential_response):lj(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:h}=await ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=await ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:ij(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:oj(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:i},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Yu(i.access_token);let c=null;l.aal&&(c=l.aal);let d=c;((n=(e=i.user.factors)===null||e===void 0?void 0:e.filter(v=>v.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const p=l.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;return o?this._returnResult({data:null,error:o}):i?await ke(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new xn})})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async i=>{const{data:{session:o},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new xn});const c=await ke(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&Bt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(i){if(we(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,n){try{return await this._useSession(async i=>{const{data:{session:o},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new xn});const c=await ke(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&Bt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(i){if(we(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;return i?this._returnResult({data:null,error:i}):n?await ke(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new xn})})}catch(e){if(we(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;return o?this._returnResult({data:null,error:o}):i?(await ke(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new xn})})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(d=>d.kid===e);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(d=>d.kid===e),i&&this.jwks_cached_at+mN>o)return i;const{data:l,error:c}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,i=l.keys.find(d=>d.kid===e),!i)?null:i}async getClaims(e,n={}){try{let i=e;if(!i){const{data:b,error:S}=await this.getSession();if(S||!b.session)return this._returnResult({data:null,error:S});i=b.session.access_token}const{header:o,payload:l,signature:c,raw:{header:d,payload:h}}=Yu(i);n!=null&&n.allowExpired||$N(l.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!p){const{error:b}=await this.getUser(i);if(b)throw b;return{data:{claims:l,header:o,signature:c},error:null}}const v=VN(o.alg),y=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,y,c,EN(`${d}.${h}`)))throw new Gd("Invalid JWT signature");return{data:{claims:l,header:o,signature:c},error:null}}catch(i){if(we(i))return this._returnResult({data:null,error:i});throw i}}}Io.nextInstanceID={};const yj=Io,vj="2.89.0";let mo="";typeof Deno<"u"?mo="deno":typeof document<"u"?mo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mo="react-native":mo="node";const wj={"X-Client-Info":`supabase-js-${mo}/${vj}`},xj={headers:wj},bj={schema:"public"},_j={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Sj={};function Oo(t){"@babel/helpers - typeof";return Oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oo(t)}function kj(t,e){if(Oo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(Oo(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ej(t){var e=kj(t,"string");return Oo(e)=="symbol"?e:e+""}function Tj(t,e,n){return(e=Ej(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U0(Object(n),!0).forEach(function(i){Tj(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U0(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}const Cj=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Nj=()=>Headers,jj=(t,e,n)=>{const i=Cj(n),o=Nj();return async(l,c)=>{var d;const h=(d=await e())!==null&&d!==void 0?d:t;let p=new o(c==null?void 0:c.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),i(l,vt(vt({},c),{},{headers:p}))}};function Aj(t){return t.endsWith("/")?t:t+"/"}function Rj(t,e){var n,i;const{db:o,auth:l,realtime:c,global:d}=t,{db:h,auth:p,realtime:v,global:y}=e,w={db:vt(vt({},h),o),auth:vt(vt({},p),l),realtime:vt(vt({},v),c),storage:{},global:vt(vt(vt({},y),d),{},{headers:vt(vt({},(n=y==null?void 0:y.headers)!==null&&n!==void 0?n:{}),(i=d==null?void 0:d.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function Pj(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Aj(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Ij=class extends yj{constructor(t){super(t)}},Oj=class{constructor(t,e,n){var i,o;this.supabaseUrl=t,this.supabaseKey=e;const l=Pj(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:bj,realtime:Sj,auth:vt(vt({},_j),{},{storageKey:c}),global:xj},h=Rj(n??{},d);if(this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(v,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=h.auth)!==null&&p!==void 0?p:{},this.headers,h.global.fetch)}this.fetch=jj(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(vt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new f2(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new uN(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new l2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:i}=await t.auth.getSession();return(e=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:i,userStorage:o,storageKey:l,flowType:c,lock:d,debug:h,throwOnError:p},v,y){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ij({url:this.authUrl.href,headers:vt(vt({},w),v),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:i,userStorage:o,flowType:c,lock:d,debug:h,throwOnError:p,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new A2(this.realtimeUrl.href,vt(vt({},t),{},{params:vt(vt({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Dj=(t,e,n)=>new Oj(t,e,n);function Mj(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Mj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Hh="umgfxbipblzpgpejlnzg",Wh="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVtZ2Z4YmlwYmx6cGdwZWpsbnpnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY1ODY5MDIsImV4cCI6MjA4MjE2MjkwMn0.fkNxfMwxqGR5EUALb5C3QxQvSMXsDyRyHf8tltWpm2Y",Lj=`https://${Hh}.supabase.co`,$j=Wh,Ce=Dj(Lj,$j,{auth:{persistSession:!0,autoRefreshToken:!0},realtime:{params:{eventsPerSecond:10}}});function Vj({onLoginSuccess:t,initialStep:e="login",onNavigateToRegister:n}){const[i,o]=T.useState(""),[l,c]=T.useState(""),[d,h]=T.useState(""),[p,v]=T.useState(e==="signup"),[y,w]=T.useState(!1),[b,S]=T.useState(null),E=wl(0),_=wl(0),j=o0(E,{stiffness:500,damping:50}),N=o0(_,{stiffness:500,damping:50});function P({currentTarget:I,clientX:J,clientY:ue}){const{left:Te,top:Me,width:Le,height:He}=I.getBoundingClientRect();E.set((J-Te)/Le-.5),_.set((ue-Me)/He-.5)}const $=Rd(N,[-.5,.5],[10,-10]),F=Rd(j,[-.5,.5],[-10,10]);T.useEffect(()=>{const I=localStorage.getItem("chat_app_username"),J=localStorage.getItem("chat_app_pin");I&&J&&(o(I),c(J))},[]);const z=I=>`${I.trim().toLowerCase()}@app.local`,H=async I=>{if(I.preventDefault(),!(!i.trim()||!l.trim())&&!(p&&!d.trim())){w(!0),S(null);try{const J=z(i);if(await new Promise(ue=>setTimeout(ue,800)),p){const{error:ue}=await Ce.auth.signUp({email:J,password:l,options:{data:{username:i.trim().toLowerCase(),display_name:d.trim(),pin:l}}});if(ue)throw ue}else{const{error:ue}=await Ce.auth.signInWithPassword({email:J,password:l});if(ue)throw new Error("Invalid username or PIN");localStorage.setItem("chat_app_username",i.trim()),localStorage.setItem("chat_app_pin",l)}t()}catch(J){S(J.message)}finally{w(!1)}}};return m.jsxs("div",{className:"min-h-screen w-full bg-slate-950 flex items-center justify-center overflow-hidden relative selection:bg-indigo-500/30",children:[m.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[m.jsx("div",{className:"absolute -top-[20%] -left-[10%] w-[70vw] h-[70vw] bg-indigo-600/20 rounded-full blur-[120px] mix-blend-screen animate-blob"}),m.jsx("div",{className:"absolute top-[40%] -right-[10%] w-[60vw] h-[60vw] bg-violet-600/20 rounded-full blur-[100px] mix-blend-screen animate-blob animation-delay-2000"}),m.jsx("div",{className:"absolute -bottom-[20%] left-[20%] w-[50vw] h-[50vw] bg-blue-600/10 rounded-full blur-[100px] mix-blend-screen animate-blob animation-delay-4000"})]}),m.jsxs(Ve.div,{onMouseMove:P,style:{rotateX:$,rotateY:F,transformStyle:"preserve-3d"},initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,ease:"easeOut"},className:"w-full max-w-md relative perspective-1000 z-10 mx-4",children:[m.jsxs("div",{className:"relative backdrop-blur-xl bg-slate-900/60 border border-white/10 shadow-2xl rounded-3xl p-8 overflow-hidden transform-gpu",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/5 to-transparent pointer-events-none"}),m.jsxs("div",{className:"flex flex-col items-center mb-10 relative z-10",children:[m.jsxs(Ve.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"relative",children:[m.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-indigo-500 to-violet-600 rounded-2xl flex items-center justify-center shadow-lg shadow-indigo-500/30 mb-4 transform rotate-3 hover:rotate-6 transition-transform duration-300",children:m.jsx(Pl,{className:"w-10 h-10 text-white"})}),m.jsx(Ve.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:2},className:"absolute -top-1 -right-1 w-4 h-4 bg-emerald-400 rounded-full border-2 border-slate-900 shadow-[0_0_10px_rgba(52,211,153,0.6)]"})]}),m.jsx(Ve.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white via-slate-200 to-slate-400",children:p?"Join the Future":"Welcome"}),m.jsx(Ve.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-slate-400 text-sm mt-2",children:p?"Create your secure identity":"Enter your credentials to continue"})]}),m.jsx(ks,{children:b&&m.jsx(Ve.div,{initial:{opacity:0,height:0,marginBottom:0},animate:{opacity:1,height:"auto",marginBottom:24},exit:{opacity:0,height:0,marginBottom:0},className:"bg-red-500/10 border border-red-500/20 rounded-xl p-3 overflow-hidden",children:m.jsxs("div",{className:"flex items-center gap-2 text-red-400 text-sm",children:[m.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-400 animate-pulse"}),b]})})}),m.jsxs("form",{onSubmit:H,className:"space-y-6 relative z-10",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"group relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-500 group-focus-within:text-indigo-400 transition-colors",children:m.jsx(rw,{className:"w-5 h-5"})}),m.jsx(pn,{type:"text",value:i,onChange:I=>o(I.target.value),placeholder:"Username",className:"pl-10 h-12 bg-slate-950/50 border-white/5 focus:border-indigo-500/50 focus:ring-1 focus:ring-indigo-500/50 rounded-xl text-white placeholder:text-slate-600 transition-all duration-300",disabled:y})]}),m.jsx(ks,{mode:"popLayout",children:p&&m.jsxs(Ve.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"group relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-500 group-focus-within:text-indigo-400 transition-colors",children:m.jsx(tw,{className:"w-5 h-5"})}),m.jsx(pn,{type:"text",value:d,onChange:I=>h(I.target.value),placeholder:"Display Name",className:"pl-10 h-12 bg-slate-950/50 border-white/5 focus:border-indigo-500/50 focus:ring-1 focus:ring-indigo-500/50 rounded-xl text-white placeholder:text-slate-600 transition-all duration-300",disabled:y})]})}),m.jsxs("div",{className:"group relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-500 group-focus-within:text-indigo-400 transition-colors",children:m.jsx(IT,{className:"w-5 h-5"})}),m.jsx(pn,{type:"password",inputMode:"numeric",className:"pl-10 h-12 bg-slate-950/50 border-white/5 focus:border-indigo-500/50 focus:ring-1 focus:ring-indigo-500/50 rounded-xl text-white placeholder:text-slate-600 transition-all duration-300 tracking-widest font-mono",maxLength:6,placeholder:"PIN Code",value:l,onChange:I=>c(I.target.value),disabled:y})]})]}),m.jsx(Ve.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:m.jsxs(Rt,{type:"submit",disabled:y,className:"w-full h-12 bg-gradient-to-r from-indigo-600 to-violet-600 hover:from-indigo-500 hover:to-violet-500 text-white font-medium rounded-xl shadow-lg shadow-indigo-500/25 border-0 relative overflow-hidden group",children:[m.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),m.jsx("span",{className:"relative flex items-center justify-center gap-2",children:y?m.jsx(bo,{className:"w-5 h-5 animate-spin"}):m.jsxs(m.Fragment,{children:[p?"create_account":"authenticate",m.jsx(yT,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})})]})}),m.jsx("div",{className:"text-center",children:m.jsx("button",{type:"button",onClick:()=>{v(!p),S(null)},className:"text-slate-400 hover:text-white text-sm transition-colors duration-300",children:p?m.jsxs("span",{children:["Already have an account? ",m.jsx("span",{className:"text-indigo-400 font-medium hover:underline",children:"Log in"})]}):m.jsxs("span",{children:["Don't have an account? ",m.jsx("span",{className:"text-indigo-400 font-medium hover:underline",children:"Sign up"})]})})})]})]}),m.jsx("div",{className:"mt-8 text-center",children:m.jsx("p",{className:"text-slate-600 text-xs uppercase tracking-widest font-medium",children:"Secured by End-to-End Encryption"})})]})]})}var Uj=dy();const Bj=uy(Uj);var Fj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ml=Fj.reduce((t,e)=>{const n=T.forwardRef((i,o)=>{const{asChild:l,...c}=i,d=l?Mh:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(d,{...c,ref:o})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),zj="Label",Mw=T.forwardRef((t,e)=>m.jsx(Ml.label,{...t,ref:e,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=t.onMouseDown)==null||o.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Mw.displayName=zj;var Hj=Mw;function al({className:t,...e}){return m.jsx(Hj,{"data-slot":"label",className:Ni("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function Wj({onRegister:t,onBackToLogin:e}){const[n,i]=T.useState(""),[o,l]=T.useState(""),[c,d]=T.useState(""),[h,p]=T.useState(""),[v,y]=T.useState(!1),[w,b]=T.useState(""),S=E=>{if(E.preventDefault(),b(""),!n.trim()||!o.trim()||!c.trim()){b("All fields are required");return}if(c.length!==6){b("PIN must be exactly 6 digits");return}if(c!==h){b("Passwords do not match");return}y(!0),t(n.trim(),o.trim(),c.trim()),y(!1)};return m.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-[#00a884] via-[#008069] to-[#005c4b] px-4",children:m.jsxs("div",{className:"w-full max-w-md",children:[m.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-white mb-4 hover:text-white/80 transition-colors",children:[m.jsx(Ts,{className:"w-5 h-5"}),m.jsx("span",{children:"Back to Login"})]}),m.jsxs("div",{className:"flex flex-col items-center mb-8",children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mb-4 shadow-2xl",children:m.jsx(Pl,{className:"w-14 h-14 text-[#00a884]"})}),m.jsx("div",{className:"absolute -bottom-2 -right-2 w-8 h-8 bg-[#25d366] rounded-full flex items-center justify-center",children:m.jsx(u0,{className:"w-4 h-4 text-white"})})]}),m.jsx("h1",{className:"text-white text-4xl mb-2 font-bold",children:"Create Account"}),m.jsx("p",{className:"text-white/90 text-center text-lg",children:"Join the conversation today"})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[m.jsx(u0,{className:"w-6 h-6 text-[#00a884]"}),m.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Sign Up"})]}),w&&m.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:m.jsx("p",{className:"text-red-600 text-sm",children:w})}),m.jsxs("form",{onSubmit:S,className:"space-y-5",children:[m.jsxs("div",{children:[m.jsx(al,{htmlFor:"name",className:"text-gray-700 font-medium",children:"Display Name"}),m.jsx(pn,{id:"name",type:"text",placeholder:"Enter your name",value:o,onChange:E=>l(E.target.value),className:"mt-1 bg-gray-50 border-gray-200 focus:border-[#00a884] focus:ring-[#00a884]",required:!0}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This name will be visible to other users"})]}),m.jsxs("div",{children:[m.jsx(al,{htmlFor:"userId",className:"text-gray-700 font-medium",children:"User ID"}),m.jsx(pn,{id:"userId",type:"text",placeholder:"Choose a unique ID",value:n,onChange:E=>i(E.target.value),className:"mt-1 bg-gray-50 border-gray-200 focus:border-[#00a884] focus:ring-[#00a884]",required:!0}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will be your unique identifier (e.g., john123)"})]}),m.jsxs("div",{children:[m.jsx(al,{htmlFor:"password",className:"text-gray-700 font-medium",children:"Password"}),m.jsx(pn,{id:"password",type:"password",inputMode:"numeric",pattern:"[0-9]*",placeholder:"Create a password",value:c,onChange:E=>d(E.target.value),className:"mt-1 bg-gray-50 border-gray-200 focus:border-[#00a884] focus:ring-[#00a884]",required:!0}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum 6 characters"})]}),m.jsxs("div",{children:[m.jsx(al,{htmlFor:"confirmPassword",className:"text-gray-700 font-medium",children:"Confirm Password"}),m.jsx(pn,{id:"confirmPassword",type:"password",inputMode:"numeric",pattern:"[0-9]*",placeholder:"Re-enter your password",value:h,onChange:E=>p(E.target.value),className:"mt-1 bg-gray-50 border-gray-200 focus:border-[#00a884] focus:ring-[#00a884]",required:!0})]}),m.jsx(Rt,{type:"submit",className:"w-full bg-[#00a884] hover:bg-[#00956f] text-white py-6 text-lg font-medium shadow-lg",disabled:v,children:v?"Creating Account...":"Create Account"})]}),m.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"By signing up, you agree to our Terms of Service and Privacy Policy"})]}),m.jsx("p",{className:"text-center text-white/80 text-sm mt-6",children:" Your data is encrypted and secure"})]})})}function qj(t,e=[]){let n=[];function i(l,c){const d=T.createContext(c),h=n.length;n=[...n,c];const p=y=>{var j;const{scope:w,children:b,...S}=y,E=((j=w==null?void 0:w[t])==null?void 0:j[h])||d,_=T.useMemo(()=>S,Object.values(S));return m.jsx(E.Provider,{value:_,children:b})};p.displayName=l+"Provider";function v(y,w){var E;const b=((E=w==null?void 0:w[t])==null?void 0:E[h])||d,S=T.useContext(b);if(S)return S;if(c!==void 0)return c;throw new Error(`\`${y}\` must be used within \`${l}\``)}return[p,v]}const o=()=>{const l=n.map(c=>T.createContext(c));return function(d){const h=(d==null?void 0:d[t])||l;return T.useMemo(()=>({[`__scope${t}`]:{...d,[t]:h}}),[d,h])}};return o.scopeName=t,[i,Kj(o,...e)]}function Kj(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const c=i.reduce((d,{useScope:h,scopeName:p})=>{const y=h(l)[`__scope${p}`];return{...d,...y}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}function Gj(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>{var i;return(i=e.current)==null?void 0:i.call(e,...n)},[])}var Lw=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},qh="Avatar",[Jj]=qj(qh),[Yj,$w]=Jj(qh),Vw=T.forwardRef((t,e)=>{const{__scopeAvatar:n,...i}=t,[o,l]=T.useState("idle");return m.jsx(Yj,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:l,children:m.jsx(Ml.span,{...i,ref:e})})});Vw.displayName=qh;var Uw="AvatarImage",Bw=T.forwardRef((t,e)=>{const{__scopeAvatar:n,src:i,onLoadingStatusChange:o=()=>{},...l}=t,c=$w(Uw,n),d=Xj(i,l.referrerPolicy),h=Gj(p=>{o(p),c.onImageLoadingStatusChange(p)});return Lw(()=>{d!=="idle"&&h(d)},[d,h]),d==="loaded"?m.jsx(Ml.img,{...l,ref:e,src:i}):null});Bw.displayName=Uw;var Fw="AvatarFallback",zw=T.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:i,...o}=t,l=$w(Fw,n),[c,d]=T.useState(i===void 0);return T.useEffect(()=>{if(i!==void 0){const h=window.setTimeout(()=>d(!0),i);return()=>window.clearTimeout(h)}},[i]),c&&l.imageLoadingStatus!=="loaded"?m.jsx(Ml.span,{...o,ref:e}):null});zw.displayName=Fw;function Xj(t,e){const[n,i]=T.useState("idle");return Lw(()=>{if(!t){i("error");return}let o=!0;const l=new window.Image,c=d=>()=>{o&&i(d)};return i("loading"),l.onload=c("loaded"),l.onerror=c("error"),l.src=t,e&&(l.referrerPolicy=e),()=>{o=!1}},[t,e]),n}var Qj=Vw,Zj=Bw,eA=zw;function xi({className:t,...e}){return m.jsx(Qj,{"data-slot":"avatar",className:Ni("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...e})}function Sl({className:t,...e}){return m.jsx(Zj,{"data-slot":"avatar-image",className:Ni("aspect-square size-full",t),...e})}function bi({className:t,...e}){return m.jsx(eA,{"data-slot":"avatar-fallback",className:Ni("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}function tA(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const nA=t=>{switch(t){case"success":return iA;case"info":return aA;case"warning":return oA;case"error":return lA;default:return null}},rA=Array(12).fill(0),sA=({visible:t,className:e})=>ie.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ie.createElement("div",{className:"sonner-spinner"},rA.map((n,i)=>ie.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),iA=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),oA=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),aA=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),lA=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),cA=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ie.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ie.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),uA=()=>{const[t,e]=ie.useState(document.hidden);return ie.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Jd=1;class dA{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:i,...o}=e,l=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Jd++,c=this.toasts.find(h=>h.id===l),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),c?this.toasts=this.toasts.map(h=>h.id===l?(this.publish({...h,...e,id:l,title:i}),{...h,...e,id:l,dismissible:d,title:i}):h):this.addToast({title:i,...o,dismissible:d,id:l}),l},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(i=>i({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let i;n.loading!==void 0&&(i=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let l=i!==void 0,c;const d=o.then(async p=>{if(c=["resolve",p],ie.isValidElement(p))l=!1,this.create({id:i,type:"default",message:p});else if(fA(p)&&!p.ok){l=!1;const y=typeof n.error=="function"?await n.error(`HTTP error! status: ${p.status}`):n.error,w=typeof n.description=="function"?await n.description(`HTTP error! status: ${p.status}`):n.description,S=typeof y=="object"&&!ie.isValidElement(y)?y:{message:y};this.create({id:i,type:"error",description:w,...S})}else if(p instanceof Error){l=!1;const y=typeof n.error=="function"?await n.error(p):n.error,w=typeof n.description=="function"?await n.description(p):n.description,S=typeof y=="object"&&!ie.isValidElement(y)?y:{message:y};this.create({id:i,type:"error",description:w,...S})}else if(n.success!==void 0){l=!1;const y=typeof n.success=="function"?await n.success(p):n.success,w=typeof n.description=="function"?await n.description(p):n.description,S=typeof y=="object"&&!ie.isValidElement(y)?y:{message:y};this.create({id:i,type:"success",description:w,...S})}}).catch(async p=>{if(c=["reject",p],n.error!==void 0){l=!1;const v=typeof n.error=="function"?await n.error(p):n.error,y=typeof n.description=="function"?await n.description(p):n.description,b=typeof v=="object"&&!ie.isValidElement(v)?v:{message:v};this.create({id:i,type:"error",description:y,...b})}}).finally(()=>{l&&(this.dismiss(i),i=void 0),n.finally==null||n.finally.call(n)}),h=()=>new Promise((p,v)=>d.then(()=>c[0]==="reject"?v(c[1]):p(c[1])).catch(v));return typeof i!="string"&&typeof i!="number"?{unwrap:h}:Object.assign(i,{unwrap:h})},this.custom=(e,n)=>{const i=(n==null?void 0:n.id)||Jd++;return this.create({jsx:e(i),id:i,...n}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const dn=new dA,hA=(t,e)=>{const n=(e==null?void 0:e.id)||Jd++;return dn.addToast({title:t,...e,id:n}),n},fA=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",pA=hA,mA=()=>dn.toasts,gA=()=>dn.getActiveToasts(),Ue=Object.assign(pA,{success:dn.success,info:dn.info,warning:dn.warning,error:dn.error,custom:dn.custom,message:dn.message,promise:dn.promise,dismiss:dn.dismiss,loading:dn.loading},{getHistory:mA,getToasts:gA});tA("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function ll(t){return t.label!==void 0}const yA=3,vA="24px",wA="16px",B0=4e3,xA=356,bA=14,_A=45,SA=200;function Qn(...t){return t.filter(Boolean).join(" ")}function kA(t){const[e,n]=t.split("-"),i=[];return e&&i.push(e),n&&i.push(n),i}const EA=t=>{var e,n,i,o,l,c,d,h,p;const{invert:v,toast:y,unstyled:w,interacting:b,setHeights:S,visibleToasts:E,heights:_,index:j,toasts:N,expanded:P,removeToast:$,defaultRichColors:F,closeButton:z,style:H,cancelButtonStyle:I,actionButtonStyle:J,className:ue="",descriptionClassName:Te="",duration:Me,position:Le,gap:He,expandByDefault:Pe,classNames:ce,icons:te,closeButtonAriaLabel:O="Close toast"}=t,[W,Q]=ie.useState(null),[C,V]=ie.useState(null),[ee,re]=ie.useState(!1),[ye,oe]=ie.useState(!1),[xe,Oe]=ie.useState(!1),[Ie,Ye]=ie.useState(!1),[Y,Ne]=ie.useState(!1),[Xe,mt]=ie.useState(0),[Pt,nn]=ie.useState(0),Pn=ie.useRef(y.duration||Me||B0),Jr=ie.useRef(null),Gt=ie.useRef(null),Lt=j===0,xt=j+1<=E,Fe=y.type,Jt=y.dismissible!==!1,In=y.className||"",As=y.descriptionClassName||"",lt=ie.useMemo(()=>_.findIndex(he=>he.toastId===y.id)||0,[_,y.id]),xr=ie.useMemo(()=>{var he;return(he=y.closeButton)!=null?he:z},[y.closeButton,z]),tr=ie.useMemo(()=>y.duration||Me||B0,[y.duration,Me]),nr=ie.useRef(0),Yt=ie.useRef(0),mn=ie.useRef(0),qn=ie.useRef(null),[Rs,Ps]=Le.split("-"),U=ie.useMemo(()=>_.reduce((he,qe,et)=>et>=lt?he:he+qe.height,0),[_,lt]),ne=uA(),K=y.invert||v,B=Fe==="loading";Yt.current=ie.useMemo(()=>lt*He+U,[lt,U]),ie.useEffect(()=>{Pn.current=tr},[tr]),ie.useEffect(()=>{re(!0)},[]),ie.useEffect(()=>{const he=Gt.current;if(he){const qe=he.getBoundingClientRect().height;return nn(qe),S(et=>[{toastId:y.id,height:qe,position:y.position},...et]),()=>S(et=>et.filter(Qe=>Qe.toastId!==y.id))}},[S,y.id]),ie.useLayoutEffect(()=>{if(!ee)return;const he=Gt.current,qe=he.style.height;he.style.height="auto";const et=he.getBoundingClientRect().height;he.style.height=qe,nn(et),S(Qe=>Qe.find(Ae=>Ae.toastId===y.id)?Qe.map(Ae=>Ae.toastId===y.id?{...Ae,height:et}:Ae):[{toastId:y.id,height:et,position:y.position},...Qe])},[ee,y.title,y.description,S,y.id]);const se=ie.useCallback(()=>{oe(!0),mt(Yt.current),S(he=>he.filter(qe=>qe.toastId!==y.id)),setTimeout(()=>{$(y)},SA)},[y,$,S,Yt]);ie.useEffect(()=>{if(y.promise&&Fe==="loading"||y.duration===1/0||y.type==="loading")return;let he;return P||b||ne?(()=>{if(mn.current<nr.current){const Qe=new Date().getTime()-nr.current;Pn.current=Pn.current-Qe}mn.current=new Date().getTime()})():(()=>{Pn.current!==1/0&&(nr.current=new Date().getTime(),he=setTimeout(()=>{y.onAutoClose==null||y.onAutoClose.call(y,y),se()},Pn.current))})(),()=>clearTimeout(he)},[P,b,y,Fe,ne,se]),ie.useEffect(()=>{y.delete&&se()},[se,y.delete]);function ae(){var he;if(te!=null&&te.loading){var qe;return ie.createElement("div",{className:Qn(ce==null?void 0:ce.loader,y==null||(qe=y.classNames)==null?void 0:qe.loader,"sonner-loader"),"data-visible":Fe==="loading"},te.loading)}return ie.createElement(sA,{className:Qn(ce==null?void 0:ce.loader,y==null||(he=y.classNames)==null?void 0:he.loader),visible:Fe==="loading"})}const be=y.icon||(te==null?void 0:te[Fe])||nA(Fe);var De,$e;return ie.createElement("li",{tabIndex:0,ref:Gt,className:Qn(ue,In,ce==null?void 0:ce.toast,y==null||(e=y.classNames)==null?void 0:e.toast,ce==null?void 0:ce.default,ce==null?void 0:ce[Fe],y==null||(n=y.classNames)==null?void 0:n[Fe]),"data-sonner-toast":"","data-rich-colors":(De=y.richColors)!=null?De:F,"data-styled":!(y.jsx||y.unstyled||w),"data-mounted":ee,"data-promise":!!y.promise,"data-swiped":Y,"data-removed":ye,"data-visible":xt,"data-y-position":Rs,"data-x-position":Ps,"data-index":j,"data-front":Lt,"data-swiping":xe,"data-dismissible":Jt,"data-type":Fe,"data-invert":K,"data-swipe-out":Ie,"data-swipe-direction":C,"data-expanded":!!(P||Pe&&ee),style:{"--index":j,"--toasts-before":j,"--z-index":N.length-j,"--offset":`${ye?Xe:Yt.current}px`,"--initial-height":Pe?"auto":`${Pt}px`,...H,...y.style},onDragEnd:()=>{Oe(!1),Q(null),qn.current=null},onPointerDown:he=>{B||!Jt||(Jr.current=new Date,mt(Yt.current),he.target.setPointerCapture(he.pointerId),he.target.tagName!=="BUTTON"&&(Oe(!0),qn.current={x:he.clientX,y:he.clientY}))},onPointerUp:()=>{var he,qe,et;if(Ie||!Jt)return;qn.current=null;const Qe=Number(((he=Gt.current)==null?void 0:he.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ge=Number(((qe=Gt.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ae=new Date().getTime()-((et=Jr.current)==null?void 0:et.getTime()),ct=W==="x"?Qe:Ge,Xt=Math.abs(ct)/Ae;if(Math.abs(ct)>=_A||Xt>.11){mt(Yt.current),y.onDismiss==null||y.onDismiss.call(y,y),V(W==="x"?Qe>0?"right":"left":Ge>0?"down":"up"),se(),Ye(!0);return}else{var tt,gt;(tt=Gt.current)==null||tt.style.setProperty("--swipe-amount-x","0px"),(gt=Gt.current)==null||gt.style.setProperty("--swipe-amount-y","0px")}Ne(!1),Oe(!1),Q(null)},onPointerMove:he=>{var qe,et,Qe;if(!qn.current||!Jt||((qe=window.getSelection())==null?void 0:qe.toString().length)>0)return;const Ae=he.clientY-qn.current.y,ct=he.clientX-qn.current.x;var Xt;const tt=(Xt=t.swipeDirections)!=null?Xt:kA(Le);!W&&(Math.abs(ct)>1||Math.abs(Ae)>1)&&Q(Math.abs(ct)>Math.abs(Ae)?"x":"y");let gt={x:0,y:0};const Qt=rn=>1/(1.5+Math.abs(rn)/20);if(W==="y"){if(tt.includes("top")||tt.includes("bottom"))if(tt.includes("top")&&Ae<0||tt.includes("bottom")&&Ae>0)gt.y=Ae;else{const rn=Ae*Qt(Ae);gt.y=Math.abs(rn)<Math.abs(Ae)?rn:Ae}}else if(W==="x"&&(tt.includes("left")||tt.includes("right")))if(tt.includes("left")&&ct<0||tt.includes("right")&&ct>0)gt.x=ct;else{const rn=ct*Qt(ct);gt.x=Math.abs(rn)<Math.abs(ct)?rn:ct}(Math.abs(gt.x)>0||Math.abs(gt.y)>0)&&Ne(!0),(et=Gt.current)==null||et.style.setProperty("--swipe-amount-x",`${gt.x}px`),(Qe=Gt.current)==null||Qe.style.setProperty("--swipe-amount-y",`${gt.y}px`)}},xr&&!y.jsx&&Fe!=="loading"?ie.createElement("button",{"aria-label":O,"data-disabled":B,"data-close-button":!0,onClick:B||!Jt?()=>{}:()=>{se(),y.onDismiss==null||y.onDismiss.call(y,y)},className:Qn(ce==null?void 0:ce.closeButton,y==null||(i=y.classNames)==null?void 0:i.closeButton)},($e=te==null?void 0:te.close)!=null?$e:cA):null,(Fe||y.icon||y.promise)&&y.icon!==null&&((te==null?void 0:te[Fe])!==null||y.icon)?ie.createElement("div",{"data-icon":"",className:Qn(ce==null?void 0:ce.icon,y==null||(o=y.classNames)==null?void 0:o.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||ae():null,y.type!=="loading"?be:null):null,ie.createElement("div",{"data-content":"",className:Qn(ce==null?void 0:ce.content,y==null||(l=y.classNames)==null?void 0:l.content)},ie.createElement("div",{"data-title":"",className:Qn(ce==null?void 0:ce.title,y==null||(c=y.classNames)==null?void 0:c.title)},y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title),y.description?ie.createElement("div",{"data-description":"",className:Qn(Te,As,ce==null?void 0:ce.description,y==null||(d=y.classNames)==null?void 0:d.description)},typeof y.description=="function"?y.description():y.description):null),ie.isValidElement(y.cancel)?y.cancel:y.cancel&&ll(y.cancel)?ie.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||I,onClick:he=>{ll(y.cancel)&&Jt&&(y.cancel.onClick==null||y.cancel.onClick.call(y.cancel,he),se())},className:Qn(ce==null?void 0:ce.cancelButton,y==null||(h=y.classNames)==null?void 0:h.cancelButton)},y.cancel.label):null,ie.isValidElement(y.action)?y.action:y.action&&ll(y.action)?ie.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||J,onClick:he=>{ll(y.action)&&(y.action.onClick==null||y.action.onClick.call(y.action,he),!he.defaultPrevented&&se())},className:Qn(ce==null?void 0:ce.actionButton,y==null||(p=y.classNames)==null?void 0:p.actionButton)},y.action.label):null)};function F0(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function TA(t,e){const n={};return[t,e].forEach((i,o)=>{const l=o===1,c=l?"--mobile-offset":"--offset",d=l?wA:vA;function h(p){["top","right","bottom","left"].forEach(v=>{n[`${c}-${v}`]=typeof p=="number"?`${p}px`:p})}typeof i=="number"||typeof i=="string"?h(i):typeof i=="object"?["top","right","bottom","left"].forEach(p=>{i[p]===void 0?n[`${c}-${p}`]=d:n[`${c}-${p}`]=typeof i[p]=="number"?`${i[p]}px`:i[p]}):h(d)}),n}const CA=ie.forwardRef(function(e,n){const{invert:i,position:o="bottom-right",hotkey:l=["altKey","KeyT"],expand:c,closeButton:d,className:h,offset:p,mobileOffset:v,theme:y="light",richColors:w,duration:b,style:S,visibleToasts:E=yA,toastOptions:_,dir:j=F0(),gap:N=bA,icons:P,containerAriaLabel:$="Notifications"}=e,[F,z]=ie.useState([]),H=ie.useMemo(()=>Array.from(new Set([o].concat(F.filter(C=>C.position).map(C=>C.position)))),[F,o]),[I,J]=ie.useState([]),[ue,Te]=ie.useState(!1),[Me,Le]=ie.useState(!1),[He,Pe]=ie.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ce=ie.useRef(null),te=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=ie.useRef(null),W=ie.useRef(!1),Q=ie.useCallback(C=>{z(V=>{var ee;return(ee=V.find(re=>re.id===C.id))!=null&&ee.delete||dn.dismiss(C.id),V.filter(({id:re})=>re!==C.id)})},[]);return ie.useEffect(()=>dn.subscribe(C=>{if(C.dismiss){requestAnimationFrame(()=>{z(V=>V.map(ee=>ee.id===C.id?{...ee,delete:!0}:ee))});return}setTimeout(()=>{Bj.flushSync(()=>{z(V=>{const ee=V.findIndex(re=>re.id===C.id);return ee!==-1?[...V.slice(0,ee),{...V[ee],...C},...V.slice(ee+1)]:[C,...V]})})})}),[F]),ie.useEffect(()=>{if(y!=="system"){Pe(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Pe("dark"):Pe("light")),typeof window>"u")return;const C=window.matchMedia("(prefers-color-scheme: dark)");try{C.addEventListener("change",({matches:V})=>{Pe(V?"dark":"light")})}catch{C.addListener(({matches:ee})=>{try{Pe(ee?"dark":"light")}catch(re){console.error(re)}})}},[y]),ie.useEffect(()=>{F.length<=1&&Te(!1)},[F]),ie.useEffect(()=>{const C=V=>{var ee;if(l.every(oe=>V[oe]||V.code===oe)){var ye;Te(!0),(ye=ce.current)==null||ye.focus()}V.code==="Escape"&&(document.activeElement===ce.current||(ee=ce.current)!=null&&ee.contains(document.activeElement))&&Te(!1)};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[l]),ie.useEffect(()=>{if(ce.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,W.current=!1)}},[ce.current]),ie.createElement("section",{ref:n,"aria-label":`${$} ${te}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},H.map((C,V)=>{var ee;const[re,ye]=C.split("-");return F.length?ie.createElement("ol",{key:C,dir:j==="auto"?F0():j,tabIndex:-1,ref:ce,className:h,"data-sonner-toaster":!0,"data-sonner-theme":He,"data-y-position":re,"data-lifted":ue&&F.length>1&&!c,"data-x-position":ye,style:{"--front-toast-height":`${((ee=I[0])==null?void 0:ee.height)||0}px`,"--width":`${xA}px`,"--gap":`${N}px`,...S,...TA(p,v)},onBlur:oe=>{W.current&&!oe.currentTarget.contains(oe.relatedTarget)&&(W.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||W.current||(W.current=!0,O.current=oe.relatedTarget)},onMouseEnter:()=>Te(!0),onMouseMove:()=>Te(!0),onMouseLeave:()=>{Me||Te(!1)},onDragEnd:()=>Te(!1),onPointerDown:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||Le(!0)},onPointerUp:()=>Le(!1)},F.filter(oe=>!oe.position&&V===0||oe.position===C).map((oe,xe)=>{var Oe,Ie;return ie.createElement(EA,{key:oe.id,icons:P,index:xe,toast:oe,defaultRichColors:w,duration:(Oe=_==null?void 0:_.duration)!=null?Oe:b,className:_==null?void 0:_.className,descriptionClassName:_==null?void 0:_.descriptionClassName,invert:i,visibleToasts:E,closeButton:(Ie=_==null?void 0:_.closeButton)!=null?Ie:d,interacting:Me,position:C,style:_==null?void 0:_.style,unstyled:_==null?void 0:_.unstyled,classNames:_==null?void 0:_.classNames,cancelButtonStyle:_==null?void 0:_.cancelButtonStyle,actionButtonStyle:_==null?void 0:_.actionButtonStyle,closeButtonAriaLabel:_==null?void 0:_.closeButtonAriaLabel,removeToast:Q,toasts:F.filter(Ye=>Ye.position==oe.position),heights:I.filter(Ye=>Ye.position==oe.position),setHeights:J,expandByDefault:c,gap:N,expanded:ue,swipeDirections:e.swipeDirections})})):null}))});function hn(...t){return gw(Lh(t))}function NA({chats:t,currentUser:e,onlineUsers:n,onSelectChat:i,onNewChat:o,onCreateGroup:l,onLogout:c,onAcceptRequest:d,onRejectRequest:h,pendingRequests:p,typingUsers:v,onSettings:y}){const[w,b]=T.useState(""),S=t.filter(_=>_.partnerName.toLowerCase().includes(w.toLowerCase())||_.lastMessage.toLowerCase().includes(w.toLowerCase())),E=_=>{if(!_)return"";const j=new Date(_),P=new Date().getTime()-j.getTime(),$=Math.floor(P/(1e3*60*60*24));return $===0?j.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):$===1?"Yesterday":$<7?j.toLocaleDateString([],{weekday:"short"}):j.toLocaleDateString([],{month:"short",day:"numeric"})};return m.jsxs("div",{className:"flex flex-col h-full bg-slate-950/95 backdrop-blur-md border-r border-white/5 w-full relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 left-0 w-full h-40 bg-gradient-to-b from-indigo-500/10 to-transparent pointer-events-none"}),m.jsxs("div",{className:"p-4 relative z-10",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs(Ve.h1,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white to-slate-400 flex items-center gap-2",children:["Chats ",m.jsx("span",{className:"text-xs bg-indigo-500/20 text-indigo-300 px-2 py-0.5 rounded-full border border-indigo-500/30",children:t.length})]}),m.jsx("div",{className:"flex items-center gap-2",children:[{icon:Pd,onClick:l,title:"Create Group"},{icon:LT,onClick:o,title:"New Chat"},{icon:nC,onClick:y,title:"Settings"},{icon:Gv,onClick:c,title:"Logout",variant:"danger"}].map((_,j)=>m.jsx(Ve.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:j*.1},whileHover:{scale:1.1,backgroundColor:_.variant==="danger"?"rgba(239, 68, 68, 0.2)":"rgba(255, 255, 255, 0.1)"},whileTap:{scale:.9},onClick:_.onClick,title:_.title,className:hn("p-2 rounded-full transition-colors",_.variant==="danger"?"text-red-400":"text-slate-400 hover:text-white"),children:m.jsx(_.icon,{className:"w-5 h-5"})},j))})]}),m.jsxs(Ve.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"flex items-center gap-4 mb-6 p-3 bg-white/5 rounded-2xl border border-white/5 hover:border-indigo-500/30 transition-colors group",children:[m.jsxs("div",{className:"relative",children:[m.jsxs(xi,{className:"w-12 h-12 border-2 border-indigo-500/20 group-hover:border-indigo-500 transition-colors",children:[m.jsx(Sl,{src:e.avatar_url||`https://ui-avatars.com/api/?name=${encodeURIComponent(e.name)}&background=6366f1&color=fff`}),m.jsx(bi,{className:"bg-indigo-600 text-white",children:e.name.charAt(0).toUpperCase()})]}),m.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-emerald-500 border-2 border-slate-900 rounded-full animate-pulse"})]}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-white font-bold truncate text-base",children:e.name}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("p",{className:"text-indigo-400 text-xs font-medium truncate bg-indigo-500/10 px-2 py-0.5 rounded-md",children:["@",e.username]}),m.jsx("button",{onClick:()=>{navigator.clipboard.writeText(`@${e.username}`),Ue.success("Username copied!")},className:"text-slate-500 hover:text-white transition-colors opacity-0 group-hover:opacity-100",children:m.jsx(kT,{className:"w-3 h-3"})})]})]})]}),m.jsxs("div",{className:"relative group",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(Zv,{className:"w-4 h-4 text-slate-500 group-focus-within:text-indigo-400 transition-colors"})}),m.jsx(pn,{type:"text",placeholder:"Search messages...",value:w,onChange:_=>b(_.target.value),className:"pl-10 bg-slate-900/50 border-white/5 focus:border-indigo-500/50 focus:ring-1 focus:ring-indigo-500/50 rounded-xl text-white placeholder:text-slate-500 h-10 transition-all font-light"})]})]}),m.jsx(ks,{children:p.length>0&&m.jsx(Ve.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"px-4 pb-4",children:m.jsxs("div",{className:"bg-gradient-to-r from-indigo-900/20 to-violet-900/20 border border-indigo-500/20 rounded-xl p-3 backdrop-blur-sm",children:[m.jsxs("div",{className:"flex items-center gap-2 text-indigo-400 text-xs font-bold uppercase tracking-wider mb-2",children:[m.jsx(Dh,{className:"w-3 h-3 animate-bounce"}),m.jsx("span",{children:"New Requests"})]}),m.jsx("div",{className:"space-y-2",children:p.map(_=>{var j;return m.jsxs("div",{className:"flex items-center justify-between gap-2 bg-slate-900/50 p-2 rounded-lg",children:[m.jsx("span",{className:"text-white text-sm font-medium truncate",children:m.jsxs("span",{className:"text-indigo-400",children:["@",(j=_.profiles)==null?void 0:j.username]})}),m.jsxs("div",{className:"flex gap-1",children:[m.jsx("button",{onClick:()=>d(_.id,_.sender_id),className:"p-1.5 bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500 hover:text-white rounded-md transition-colors",children:m.jsx(Rl,{className:"w-3 h-3"})}),m.jsx("button",{onClick:()=>h(_.id),className:"p-1.5 bg-red-500/20 text-red-400 hover:bg-red-500 hover:text-white rounded-md transition-colors",children:m.jsx(Ei,{className:"w-3 h-3"})})]})]},_.id)})})]})})}),m.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar px-2 space-y-1",children:S.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-slate-500 text-center p-4",children:[m.jsx("div",{className:"w-16 h-16 bg-slate-900 rounded-full flex items-center justify-center mb-4",children:m.jsx(Pl,{className:"w-8 h-8 opacity-20"})}),m.jsx("p",{className:"font-medium text-slate-400",children:"No messages yet"}),m.jsx("p",{className:"text-xs mt-1 text-slate-600",children:"Start exploring to find new friends."})]}):S.map((_,j)=>m.jsxs(Ve.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:j*.05},onClick:()=>i(_.partnerId,_.partnerName),className:"group relative flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 cursor-pointer transition-all border border-transparent hover:border-white/5 active:scale-[0.98]",children:[m.jsxs("div",{className:"relative flex-shrink-0",children:[m.jsxs(xi,{className:"w-12 h-12 border border-white/10 group-hover:border-indigo-500/50 transition-colors",children:[m.jsx(Sl,{src:_.partnerAvatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(_.partnerName)}&background=random&color=fff`}),m.jsx(bi,{className:"bg-slate-800 text-slate-300",children:_.partnerName.charAt(0).toUpperCase()})]}),!_.isGroup&&n.has(_.partnerId)&&m.jsx("span",{className:"absolute bottom-0 right-0 w-3.5 h-3.5 bg-emerald-500 border-2 border-slate-950 rounded-full ring-2 ring-slate-950 animate-pulse"}),_.isGroup&&m.jsx("span",{className:"absolute -bottom-1 -right-1 bg-slate-800 p-1 rounded-full border border-slate-700",children:m.jsx(Pd,{className:"w-3 h-3 text-indigo-400"})})]}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[m.jsx("h3",{className:hn("font-semibold truncate transition-colors text-base",_.unreadCount>0?"text-white":"text-slate-300 group-hover:text-white"),children:_.partnerName}),m.jsx("span",{className:hn("text-[10px] flex-shrink-0 font-medium",_.unreadCount>0?"text-indigo-400":"text-slate-500"),children:E(_.lastMessageTime)})]}),m.jsxs("div",{className:"flex justify-between items-center h-5",children:[m.jsx("div",{className:"flex-1 min-w-0 pr-2",children:v[_.partnerId]?m.jsxs("p",{className:"text-indigo-400 text-xs font-bold flex items-center gap-1",children:["typing",m.jsxs("span",{className:"flex gap-0.5 pt-1",children:[m.jsx(Ve.span,{animate:{y:[0,-3,0]},transition:{repeat:1/0,duration:.6,delay:0},className:"w-1 h-1 bg-indigo-400 rounded-full"}),m.jsx(Ve.span,{animate:{y:[0,-3,0]},transition:{repeat:1/0,duration:.6,delay:.2},className:"w-1 h-1 bg-indigo-400 rounded-full"}),m.jsx(Ve.span,{animate:{y:[0,-3,0]},transition:{repeat:1/0,duration:.6,delay:.4},className:"w-1 h-1 bg-indigo-400 rounded-full"})]})]}):m.jsx("p",{className:hn("text-sm truncate",_.unreadCount>0?"text-slate-100 font-medium":"text-slate-500 group-hover:text-slate-400"),children:_.lastMessage||m.jsx("span",{className:"italic text-slate-600",children:"No messages yet"})})}),_.unreadCount>0&&m.jsx(Ve.div,{initial:{scale:0},animate:{scale:1},className:"bg-indigo-500 text-white text-[10px] font-bold rounded-full min-w-[20px] h-[20px] flex items-center justify-center px-1.5 shadow-lg shadow-indigo-500/40",children:_.unreadCount})]})]})]},_.id))})]})}function jA({onSend:t,onCancel:e}){const[n,i]=T.useState(!1),[o,l]=T.useState(0),[c,d]=T.useState(null),[h,p]=T.useState(!1),v=T.useRef(null),y=T.useRef(null),w=T.useRef([]),b=T.useRef(null),[S,E]=T.useState(new Array(25).fill(0)),_=T.useRef(null),j=T.useRef(null),N=T.useRef(null),P=async()=>{try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){alert("Microphone access is blocked! ");return}const J=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:48e3}}),ue=new(window.AudioContext||window.webkitAudioContext),Te=ue.createMediaStreamSource(J),Me=ue.createAnalyser();Me.fftSize=64,Te.connect(Me),_.current=ue,j.current=Me;const Le=Me.frequencyBinCount,He=new Uint8Array(Le),Pe=()=>{if(!j.current)return;j.current.getByteFrequencyData(He);const W=[],Q=Math.floor(Le/25);for(let C=0;C<25;C++){const V=He[C*Q]||0;W.push(Math.max(4,V))}E(W),N.current=requestAnimationFrame(Pe)};Pe();let ce={audioBitsPerSecond:256e3};const te=["audio/webm;codecs=opus","audio/webm","audio/mp4","audio/aac"];for(const W of te)if(MediaRecorder.isTypeSupported(W)){ce.mimeType=W;break}const O=new MediaRecorder(J,ce);y.current=O,w.current=[],O.ondataavailable=W=>{W.data.size>0&&w.current.push(W.data)},O.onstop=()=>{const W=O.mimeType||ce.mimeType||"audio/webm",Q=new Blob(w.current,{type:W});d(Q),J.getTracks().forEach(C=>C.stop()),N.current&&cancelAnimationFrame(N.current),_.current&&_.current.close(),_.current=null,j.current=null},O.start(),i(!0),l(0),b.current=setInterval(()=>{l(W=>W+1)},1e3)}catch(J){console.error("Microphone error:",J),alert("Unable to access microphone: "+J.message)}},$=()=>{y.current&&n&&(y.current.stop(),i(!1),b.current&&clearInterval(b.current))},F=()=>{c&&t(c)},z=()=>{n&&$(),N.current&&cancelAnimationFrame(N.current),_.current&&_.current.close(),d(null),l(0),e()},H=J=>{const ue=Math.floor(J/60),Te=J%60;return`${ue}:${Te.toString().padStart(2,"0")}`};T.useEffect(()=>()=>{b.current&&clearInterval(b.current),N.current&&cancelAnimationFrame(N.current),_.current&&_.current.close(),v.current&&v.current.pause()},[]);const I=()=>{if(c){if(!v.current){const J=URL.createObjectURL(c);v.current=new Audio(J),v.current.onended=()=>p(!1)}h?(v.current.pause(),p(!1)):(v.current.play(),p(!0))}};return m.jsx(Ve.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"flex items-center gap-3 w-full pr-2 h-full",children:c?m.jsxs(m.Fragment,{children:[m.jsx(Ve.div,{initial:{scale:0},animate:{scale:1},onClick:I,className:"w-10 h-10 bg-indigo-500 rounded-full flex items-center justify-center cursor-pointer hover:bg-indigo-400 transition-colors shadow-lg shadow-indigo-500/30",children:h?m.jsx(Jv,{className:"w-4 h-4 text-white fill-current"}):m.jsx(Yv,{className:"w-4 h-4 text-white fill-current ml-0.5"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"text-slate-200 text-sm font-medium",children:"Recording Preview"}),m.jsx("p",{className:"text-indigo-400 text-xs font-mono",children:H(o)})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(Rt,{onClick:z,variant:"ghost",size:"icon",className:"text-slate-400 hover:text-red-400 rounded-full hover:bg-red-400/10",children:m.jsx(nw,{className:"w-5 h-5"})}),m.jsx(Rt,{onClick:F,className:"bg-emerald-500 hover:bg-emerald-400 text-white rounded-full w-10 h-10 shadow-lg shadow-emerald-500/20",size:"icon",children:m.jsx(ew,{className:"w-4 h-4"})})]})]}):m.jsxs(m.Fragment,{children:[m.jsx(Ve.div,{animate:{scale:n?[1,1.1,1]:1},transition:{repeat:n?1/0:0,duration:1.5},children:m.jsx(Rt,{onClick:n?$:P,className:`rounded-full shadow-lg ${n?"bg-red-500 hover:bg-red-600":"bg-transparent hover:bg-white/5 text-slate-400"}`,size:"icon",children:n?m.jsx(aC,{className:"w-5 h-5 fill-current"}):m.jsx(Il,{className:"w-6 h-6"})})}),m.jsx("div",{className:"flex-1 flex items-center gap-4",children:n?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"text-red-400 font-mono text-sm tracking-wider min-w-[50px]",children:H(o)}),m.jsx("div",{className:"flex-1 h-8 flex items-end gap-[2px] overflow-hidden",children:S.map((J,ue)=>m.jsx(Ve.div,{animate:{height:`${Math.min(100,Math.max(10,J/255*100))}%`},transition:{type:"spring",stiffness:300,damping:20},className:"flex-1 bg-gradient-to-t from-red-500 to-red-400 rounded-t-sm",style:{opacity:.6+J/255*.4}},ue))})]}):m.jsx("p",{className:"text-slate-500 text-sm animate-pulse",children:"Tap microphone to record..."})}),m.jsx(Rt,{onClick:z,variant:"ghost",size:"icon",className:"text-slate-400 hover:text-red-400 rounded-full hover:bg-red-400/10",children:m.jsx(Ei,{className:"w-5 h-5"})})]})})}function AA({audioUrl:t,duration:e}){const[n,i]=T.useState(!1),[o,l]=T.useState(0),[c,d]=T.useState(e||0),[h,p]=T.useState(1),[v,y]=T.useState(!1),w=T.useRef(null);T.useEffect(()=>{const N=new Audio(t);return w.current=N,N.addEventListener("loadedmetadata",()=>{N.duration&&!isNaN(N.duration)&&N.duration!==1/0&&d(N.duration)}),N.addEventListener("timeupdate",()=>{l(N.currentTime)}),N.addEventListener("ended",()=>{i(!1),l(0)}),()=>{N.pause(),N.src=""}},[t]);const b=N=>{N==null||N.stopPropagation(),w.current&&(n?w.current.pause():w.current.play(),i(!n))},S=N=>{if(!w.current)return;const P=parseFloat(N.target.value);w.current.currentTime=P,l(P)},E=N=>{if(N.stopPropagation(),!w.current)return;const P=[1,1.5,2],$=P.indexOf(h),F=P[($+1)%P.length];p(F),w.current.playbackRate=F},_=N=>{const P=Math.floor(N/60),$=Math.floor(N%60);return`${P}:${$.toString().padStart(2,"0")}`},j=c>0?o/c*100:0;return m.jsxs("div",{className:"flex items-center gap-3 bg-slate-800/40 backdrop-blur-sm px-3 py-2 rounded-xl max-w-xs border border-white/10 group hover:bg-slate-800/60 transition-colors",onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),children:[m.jsx(Ve.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b,className:hn("w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 transition-colors shadow-lg",n?"bg-indigo-500 text-white shadow-indigo-500/20":"bg-slate-700 text-slate-300 hover:text-white"),children:n?m.jsx(Jv,{className:"w-3.5 h-3.5 fill-current"}):m.jsx(Yv,{className:"w-3.5 h-3.5 fill-current ml-0.5"})}),m.jsxs("div",{className:"flex-1 min-w-[120px]",children:[m.jsxs("div",{className:"relative h-1.5 bg-slate-700/50 rounded-full overflow-hidden cursor-pointer group/slider",children:[m.jsx(Ve.div,{className:"absolute h-full bg-gradient-to-r from-indigo-500 to-violet-500 rounded-full",style:{width:`${j}%`},layoutId:"progress"}),m.jsx("input",{type:"range",min:"0",max:c||100,value:o,onClick:N=>N.stopPropagation(),onChange:S,className:"absolute inset-0 w-full opacity-0 cursor-pointer z-10"})]}),m.jsxs("div",{className:"flex justify-between items-center mt-1.5",children:[m.jsxs("span",{className:"text-slate-400 text-[10px] font-mono tracking-wide",children:[_(o)," ",m.jsxs("span",{className:"opacity-50",children:["/ ",_(c)]})]}),m.jsxs("button",{onClick:E,className:"text-[10px] font-bold px-1.5 py-0.5 rounded bg-slate-700/50 text-indigo-400 hover:bg-indigo-500/10 transition-colors",children:[h,"x"]})]})]})]})}function RA({repliedMessage:t,onCancel:e}){const n=()=>{var i,o,l;return(i=t.fileType)!=null&&i.startsWith("audio/")?" Voice Message":(o=t.fileType)!=null&&o.startsWith("image/")?" Photo":(l=t.fileType)!=null&&l.startsWith("video/")?" Video":t.fileType?" File":t.text};return m.jsx("div",{className:"bg-[#1a252d] border-l-4 border-[#00a884] px-3 py-2 mb-2 rounded-r",children:m.jsxs("div",{className:"flex items-start justify-between gap-2",children:[m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx(Qv,{className:"w-3 h-3 text-[#00a884]"}),m.jsx("span",{className:"text-[#00a884] text-xs font-medium",children:t.senderName})]}),m.jsx("p",{className:"text-gray-400 text-sm truncate",children:n()})]}),m.jsx("button",{onClick:e,className:"text-gray-500 hover:text-white transition-colors flex-shrink-0",children:m.jsx(Ei,{className:"w-4 h-4"})})]})})}function PA({url:t,type:e,name:n,onClose:i}){const o=e.startsWith("image/"),l=e.startsWith("video/"),c=e.includes("pdf");return m.jsxs("div",{className:"fixed inset-0 z-[9999] bg-black/95 flex flex-col items-center justify-center animate-in fade-in duration-200",children:[m.jsxs("div",{className:"absolute top-0 left-0 right-0 p-4 flex items-center justify-between bg-gradient-to-b from-black/50 to-transparent",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("p",{className:"text-white font-medium truncate max-w-[200px] sm:max-w-md",children:n}),m.jsx("p",{className:"text-gray-400 text-xs",children:e})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("a",{href:t,download:n,className:"p-2 text-gray-400 hover:text-white transition-colors",children:m.jsx(TT,{className:"w-6 h-6"})}),m.jsx("button",{onClick:i,className:"p-2 text-white hover:bg-white/10 rounded-full transition-colors",children:m.jsx(Ei,{className:"w-7 h-7"})})]})]}),m.jsx("div",{className:"w-full h-full flex items-center justify-center p-4 sm:p-10",children:o?m.jsx("img",{src:t,alt:n,className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl animate-in zoom-in-95 duration-300"}):l?m.jsx("video",{src:t,controls:!0,autoPlay:!0,className:"max-w-full max-h-full rounded-lg shadow-2xl"}):c?m.jsx("iframe",{src:t,className:"w-full h-full max-w-5xl bg-white rounded-lg shadow-2xl",title:n}):m.jsxs("div",{className:"bg-[#202c33] p-8 rounded-2xl flex flex-col items-center gap-6 max-w-sm text-center shadow-2xl border border-gray-800",children:[m.jsx("div",{className:"w-20 h-20 bg-[#00a884]/20 rounded-full flex items-center justify-center",children:m.jsx(jT,{className:"w-10 h-10 text-[#00a884]"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-white text-xl font-bold mb-2",children:"No Preview Available"}),m.jsxs("p",{className:"text-gray-400 text-sm",children:["This file type (",e,") cannot be previewed directly. You can download it to view."]})]}),m.jsx("a",{href:t,download:n,className:"w-full",children:m.jsx(Rt,{className:"w-full bg-[#00a884] hover:bg-[#00956f] text-white py-6 text-lg",children:"Download File"})})]})})]})}function IA({currentUserId:t,partnerId:e,partnerName:n,partnerAvatar:i,messages:o,isPartnerOnline:l,isPartnerTyping:c,onBack:d,onSendMessage:h,onSendVoiceMessage:p,onDeleteMessage:v,onTyping:y,onRefresh:w,onReact:b,onStartCall:S,isGroup:E}){const[_,j]=T.useState(""),[N,P]=T.useState(null),[$,F]=T.useState(!1),[z,H]=T.useState(!1),[I,J]=T.useState(null),[ue,Te]=T.useState(null),[Me,Le]=T.useState(!1),He=T.useRef(null),[Pe,ce]=T.useState(null),[te,O]=T.useState(!1),W=T.useRef(null),Q=T.useRef(!1),C=T.useRef(null),V=T.useRef(null),ee=T.useRef(null),re=T.useRef(o.length),ye=T.useRef(null);T.useEffect(()=>{_.length>0?(y(!0),ee.current&&clearTimeout(ee.current),ee.current=setTimeout(()=>{y(!1)},2e3)):y(!1)},[_]);const oe=(Y="auto")=>{var Ne;W.current&&(Q.current=!0,(Ne=He.current)==null||Ne.scrollIntoView({behavior:Y}),setTimeout(()=>{Q.current=!1},500))},xe=()=>{if(!W.current)return;const{scrollTop:Y,scrollHeight:Ne,clientHeight:Xe}=W.current,mt=Ne-Y-Xe<200;Le(!mt)};T.useEffect(()=>{ye.current=null;const Y=setTimeout(()=>oe("auto"),200);return()=>clearTimeout(Y)},[e]),T.useEffect(()=>{if(o.length>0){if(ye.current!==e){oe("auto");const Y=setTimeout(()=>oe("auto"),100),Ne=setTimeout(()=>oe("auto"),350);return ye.current=e,()=>{clearTimeout(Y),clearTimeout(Ne)}}else if(o.length>re.current){const Y=W.current;if(Y){const{scrollTop:Ne,scrollHeight:Xe,clientHeight:mt}=Y;Xe-Ne-mt<450&&oe("smooth")}}}re.current=o.length},[o,e]);const Oe=Y=>{var Xe;const Ne=(Xe=Y.target.files)==null?void 0:Xe[0];if(Ne){if(Ne.size>52428800){Ue.error("File size must be less than 50MB");return}P(Ne)}},Ie=async Y=>{if(Y==null||Y.preventDefault(),N){F(!0);try{const Ne=new FormData;Ne.append("file",N),Ne.append("userId",t);const mt=await(await fetch(`https://${Hh}.supabase.co/functions/v1/make-server-f2fe46ac/upload`,{method:"POST",headers:{Authorization:`Bearer ${Wh}`},body:Ne})).json();if(mt.error)throw new Error(mt.error);h(_.trim(),mt.fileUrl,mt.fileType,mt.fileName,I==null?void 0:I.id),j(""),P(null),J(null),setTimeout(()=>oe("smooth"),100)}catch(Ne){console.error("Upload error:",Ne),Ue.error("Upload failed: "+Ne.message)}finally{F(!1)}}else if(_.trim())try{h(_.trim(),void 0,void 0,void 0,I==null?void 0:I.id),j(""),J(null),setTimeout(()=>oe("smooth"),100)}catch(Ne){Ue.error("Send error: "+Ne.message)}setTimeout(()=>{var Ne;return(Ne=V.current)==null?void 0:Ne.focus()},10)},Ye=(Y,Ne)=>!Y.fileUrl||!Y.fileType?null:Y.fileType.startsWith("image/")?m.jsx(Ve.div,{whileHover:{scale:1.02},className:"mb-2 overflow-hidden rounded-lg",children:m.jsx("img",{src:Y.fileUrl,alt:Y.fileName||"Image",className:"max-w-full max-h-64 object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>Te({url:Y.fileUrl,type:Y.fileType,name:Y.fileName||"Image"})})}):Y.fileType.startsWith("video/")?m.jsx("div",{className:"mb-2 rounded-lg overflow-hidden bg-black/20",children:m.jsx("video",{src:Y.fileUrl,controls:!0,className:"max-w-full max-h-64"})}):Y.fileType.startsWith("audio/")||/\.(mp3|wav|ogg|webm|m4a|aac)$/i.test(Y.fileName||"")?m.jsx("div",{className:"mb-2",children:m.jsx(AA,{audioUrl:Y.fileUrl})}):m.jsxs("div",{className:hn("flex items-center gap-3 mb-2 p-3 rounded-xl cursor-pointer hover:opacity-80 transition-all border",Ne?"bg-indigo-900/40 border-indigo-500/30":"bg-slate-800/60 border-white/10"),onClick:()=>Te({url:Y.fileUrl,type:Y.fileType,name:Y.fileName||"File"}),children:[m.jsx("div",{className:hn("p-2 rounded-lg",Ne?"bg-indigo-500/20":"bg-slate-700/50"),children:m.jsx(c0,{className:hn("w-5 h-5",Ne?"text-indigo-300":"text-slate-400")})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-sm font-medium truncate",children:Y.fileName}),m.jsx("p",{className:"text-xs opacity-70 uppercase",children:Y.fileType.split("/")[1]||"FILE"})]})]});return m.jsxs("div",{className:"flex flex-col h-full bg-slate-950 overflow-hidden relative",children:[m.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none overflow-hidden",children:[m.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[500px] h-[500px] bg-indigo-900/10 rounded-full blur-[100px]"}),m.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[400px] h-[400px] bg-violet-900/10 rounded-full blur-[100px]"})]}),m.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-md px-4 py-3 flex items-center gap-3 sticky top-0 z-50 border-b border-white/5",children:[m.jsx("button",{onClick:d,className:"text-slate-400 hover:text-white transition-colors p-1 hover:bg-white/5 rounded-full",children:m.jsx(Ts,{className:"w-6 h-6"})}),m.jsxs("div",{className:"relative group cursor-pointer",children:[m.jsxs(xi,{className:"w-10 h-10 border-2 border-slate-800 group-hover:border-indigo-500 transition-colors",children:[m.jsx(Sl,{src:i||`https://ui-avatars.com/api/?name=${encodeURIComponent(n)}&background=random&color=fff`}),m.jsx(bi,{className:"bg-slate-800 text-indigo-400 font-bold",children:n.charAt(0).toUpperCase()})]}),l&&!E&&m.jsx("span",{className:"absolute bottom-0 right-0 w-3 h-3 bg-emerald-500 border-2 border-slate-900 rounded-full animate-pulse"})]}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("h2",{className:"text-white font-bold truncate text-lg flex items-center gap-2",children:[n,E&&m.jsx("span",{className:"bg-slate-800 text-slate-400 text-[10px] px-1.5 py-0.5 rounded border border-white/5",children:"GROUP"})]}),!E&&m.jsx("div",{className:"text-xs flex items-center gap-1 h-4",children:m.jsx(ks,{mode:"wait",children:c?m.jsxs(Ve.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:"flex items-center gap-1.5 text-indigo-400 font-medium",children:[m.jsx("span",{className:"text-[10px]",children:"typing"}),m.jsx("span",{className:"flex gap-0.5",children:[0,1,2].map(Y=>m.jsx(Ve.span,{animate:{y:[0,-2,0]},transition:{repeat:1/0,duration:.5,delay:Y*.1},className:"w-1 h-1 bg-indigo-400 rounded-full"},Y))})]}):l?m.jsx(Ve.div,{initial:{opacity:0},animate:{opacity:1},className:"text-emerald-500 font-medium",children:"Online"}):m.jsx(Ve.span,{initial:{opacity:0},animate:{opacity:1},className:"text-slate-500",children:"Offline"})})})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("button",{onClick:w,className:"p-2 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",children:m.jsx(Xv,{className:"w-5 h-5"})}),!E&&m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>S("audio"),className:"p-2 text-slate-400 hover:text-indigo-400 hover:bg-indigo-500/10 rounded-full transition-colors",children:m.jsx(KT,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>S("video"),className:"p-2 text-slate-400 hover:text-indigo-400 hover:bg-indigo-500/10 rounded-full transition-colors",children:m.jsx(sw,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"relative",children:[m.jsx("button",{onClick:()=>O(!te),className:"p-2 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",children:m.jsx(l0,{className:"w-5 h-5"})}),m.jsx(ks,{children:te&&m.jsxs(Ve.div,{initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:10},className:"absolute top-full right-0 mt-2 w-48 bg-slate-900 border border-white/10 rounded-xl shadow-2xl py-1 z-[100] overflow-hidden",children:[m.jsx("button",{className:"w-full text-left px-4 py-2.5 text-sm text-slate-300 hover:bg-white/5 transition-colors",children:"Contact Info"}),m.jsx("button",{className:"w-full text-left px-4 py-2.5 text-sm text-slate-300 hover:bg-white/5 transition-colors",children:"Clear Chat"}),m.jsx("div",{className:"h-px bg-white/5 my-1"}),m.jsx("button",{onClick:d,className:"w-full text-left px-4 py-2.5 text-sm text-red-400 hover:bg-red-500/10 transition-colors",children:"Close Chat"})]})})]})]})]}),m.jsxs("div",{ref:W,onScroll:xe,className:"flex-1 overflow-y-auto px-4 py-6 space-y-4 scroll-smooth relative z-10 custom-scrollbar",children:[o.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-500 space-y-4",children:[m.jsx("div",{className:"w-20 h-20 bg-gradient-to-tr from-indigo-500/20 to-violet-500/20 rounded-full flex items-center justify-center animate-pulse",children:m.jsx(tw,{className:"w-10 h-10 text-indigo-400"})}),m.jsxs("p",{className:"text-center font-medium",children:["No messages yet.",m.jsx("br",{}),m.jsx("span",{className:"text-sm opacity-60",children:"Start the conversation!"})]})]}):o.map((Y,Ne)=>{const Xe=Y.senderId===t,mt=Ne>0&&o[Ne-1].senderId===Y.senderId;return m.jsx(Ve.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{type:"spring",stiffness:400,damping:25},className:hn("flex w-full",Xe?"justify-end":"justify-start"),children:m.jsxs("div",{className:hn("relative max-w-[80%] group",Xe?"items-end":"items-start"),children:[E&&!Xe&&!mt&&m.jsx("p",{className:"text-[10px] font-bold mb-1 text-indigo-400 ml-1",children:"~User"}),m.jsxs("div",{className:hn("rounded-2xl px-4 py-2 shadow-sm relative transition-all duration-200",Xe?"bg-gradient-to-br from-indigo-600 to-violet-600 text-white rounded-br-none":"bg-slate-800/80 backdrop-blur-sm text-slate-100 border border-white/5 rounded-bl-none"),children:[Y.replyToId&&m.jsxs("div",{className:"mb-2 p-2 rounded-lg bg-black/20 border-l-2 border-white/30 text-xs cursor-pointer hover:bg-black/30 transition-colors",onClick:()=>{var Pt;return(Pt=document.getElementById(`msg-${Y.replyToId}`))==null?void 0:Pt.scrollIntoView({behavior:"smooth",block:"center"})},children:[m.jsx("p",{className:"font-bold opacity-90 mb-0.5",children:"Replying..."}),m.jsx("p",{className:"truncate opacity-70 italic",children:"Click to view original"})]}),Ye(Y,Xe),m.jsx("p",{className:"break-words leading-relaxed text-[15px]",children:Y.text}),m.jsxs("div",{className:hn("flex items-center gap-1 mt-1 text-[10px]",Xe?"justify-end text-indigo-100/70":"justify-start text-slate-400"),children:[m.jsx("span",{children:new Date(Y.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),Xe&&(Y.isRead?m.jsx(bT,{className:"w-3 h-3 text-emerald-300"}):m.jsx(Rl,{className:"w-3 h-3"}))]})]}),m.jsx(ks,{children:Y.reactions&&Object.keys(Y.reactions).length>0&&m.jsx(Ve.div,{initial:{scale:0},animate:{scale:1},className:hn("absolute -bottom-3 flex gap-1",Xe?"right-0":"left-0"),children:Object.entries(Y.reactions).map(([Pt,nn])=>(nn==null?void 0:nn.length)>0&&m.jsxs("span",{className:"bg-slate-900 border border-white/10 rounded-full px-1.5 py-0.5 text-xs shadow-lg flex items-center gap-1",children:[Pt," ",m.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:nn.length})]},Pt))})}),m.jsxs("div",{className:hn("absolute top-0 opacity-0 group-hover:opacity-100 transition-opacity flex items-center bg-slate-900/90 rounded-full shadow-lg border border-white/10 p-1 backdrop-blur z-10",Xe?"-left-20":"-right-24"),children:[m.jsx("button",{onClick:()=>J({id:Y.id,senderName:Xe?"You":n,text:Y.text,fileType:Y.fileType}),className:"p-1.5 hover:text-indigo-400 transition-colors",children:m.jsx(Qv,{className:"w-3.5 h-3.5"})}),m.jsx("button",{onClick:()=>b(Y.id,""),className:"p-1.5 hover:text-red-400 transition-colors hover:scale-125",children:m.jsx(sC,{className:"w-3.5 h-3.5"})}),Xe&&m.jsx("button",{onClick:()=>v(Y.id),className:"p-1.5 hover:text-red-400 transition-colors",children:m.jsx(nw,{className:"w-3.5 h-3.5"})}),m.jsxs("button",{onClick:()=>ce(Pe===Y.id?null:Y.id),className:"p-1.5 hover:text-white transition-colors relative",children:[m.jsx(l0,{className:"w-3.5 h-3.5"}),Pe===Y.id&&m.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 flex gap-1 bg-slate-800 p-1.5 rounded-full border border-white/10 shadow-xl",children:["","","","",""].map(Pt=>m.jsx("button",{onClick:nn=>{nn.stopPropagation(),b(Y.id,Pt),ce(null)},className:"hover:scale-125 transition-transform text-lg",children:Pt},Pt))})]})]})]})},Y.id)}),m.jsx("div",{ref:He})]}),ue&&m.jsx(PA,{url:ue.url,type:ue.type,name:ue.name,onClose:()=>Te(null)}),Me&&m.jsx(Ve.button,{initial:{scale:0},animate:{scale:1},onClick:()=>oe("smooth"),className:"absolute bottom-24 right-6 bg-indigo-600 text-white p-3 rounded-full shadow-lg shadow-indigo-500/30 z-40 hover:bg-indigo-500 transition-colors",children:m.jsx(Ts,{className:"w-6 h-6 rotate-[-90deg]"})}),m.jsxs("div",{className:"p-4 bg-slate-900/90 backdrop-blur-md border-t border-white/5 relative z-20",children:[I&&m.jsx(RA,{repliedMessage:I,onCancel:()=>J(null)}),N&&m.jsxs(Ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-2 flex items-center gap-3 bg-slate-800/80 rounded-xl p-3 border border-indigo-500/30",children:[m.jsx("div",{className:"p-2 bg-indigo-500/20 rounded-lg",children:m.jsx(c0,{className:"w-5 h-5 text-indigo-400"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-sm font-medium text-white truncate",children:N.name}),m.jsxs("p",{className:"text-xs text-slate-400",children:[(N.size/1024/1024).toFixed(2)," MB"]})]}),m.jsx("button",{onClick:()=>P(null),className:"p-1 hover:bg-white/10 rounded-full",children:m.jsx(Ei,{className:"w-4 h-4 text-slate-400"})})]}),m.jsxs("div",{className:"flex items-end gap-2",children:[m.jsx("input",{type:"file",ref:C,onChange:Oe,className:"hidden"}),m.jsx(Ve.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{var Y;return(Y=C.current)==null?void 0:Y.click()},className:"p-3 text-slate-400 hover:text-indigo-400 hover:bg-indigo-500/10 rounded-xl transition-all h-[50px] w-[50px] flex items-center justify-center",children:m.jsx(FT,{className:"w-5 h-5"})}),m.jsx("div",{className:"flex-1 bg-slate-800/50 rounded-2xl border border-white/5 focus-within:border-indigo-500/50 focus-within:ring-1 focus-within:ring-indigo-500/50 transition-all flex items-center min-h-[50px] relative overflow-hidden",children:z?m.jsx(jA,{onSend:Y=>{p(Y),H(!1)},onCancel:()=>H(!1)}):m.jsx(m.Fragment,{children:m.jsx("textarea",{ref:V,rows:1,placeholder:"Type a message...",value:_,onChange:Y=>{j(Y.target.value),Y.target.style.height="auto",Y.target.style.height=Math.min(Y.target.scrollHeight,120)+"px"},onKeyDown:Y=>{Y.key==="Enter"&&!Y.shiftKey&&(Y.preventDefault(),Ie(Y))},className:"flex-1 bg-transparent border-none text-white placeholder:text-slate-500 px-4 py-3 resize-none focus:outline-none max-h-[120px] scrollbar-hide text-[15px] leading-relaxed"})})}),_.trim()||N?m.jsx(Ve.button,{layout:!0,whileHover:{scale:1.1,rotate:-10},whileTap:{scale:.9},onClick:Ie,className:"h-[50px] w-[50px] bg-gradient-to-tr from-indigo-600 to-violet-600 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-indigo-500/25",children:$?m.jsx(bo,{className:"w-5 h-5 animate-spin"}):m.jsx(ew,{className:"w-5 h-5 fill-current"})}):m.jsx(Ve.button,{onClick:()=>H(!0),whileHover:{scale:1.1},whileTap:{scale:.9},className:"h-[50px] w-[50px] bg-slate-800 hover:bg-slate-700 text-white rounded-2xl flex items-center justify-center transition-colors",children:m.jsx(Il,{className:"w-5 h-5"})})]})]})]})}function OA({callId:t,callerId:e,callerName:n,recipientId:i,isIncoming:o,type:l,onEndCall:c,currentUserId:d,sendSignaling:h,incomingOffer:p,remoteAnswer:v,remoteIceCandidates:y}){const[w,b]=T.useState("ringing"),[S,E]=T.useState(!1),[_,j]=T.useState(l==="audio"),[N,P]=T.useState(!0),[$,F]=T.useState(null),[z,H]=T.useState(null),I=T.useRef(null),J=T.useRef(null),ue=T.useRef(null),Te={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]},Me=T.useCallback(()=>{$==null||$.getTracks().forEach(te=>te.stop()),I.current&&(I.current.onicecandidate=null,I.current.ontrack=null,I.current.close(),I.current=null),F(null),H(null)},[$]),Le=T.useCallback(()=>{Me(),c()},[Me,c]);T.useEffect(()=>{(async()=>{try{const O=await navigator.mediaDevices.getUserMedia({audio:!0,video:l==="video"?{facingMode:"user",width:{ideal:1280},height:{ideal:720}}:!1});F(O),J.current&&(J.current.srcObject=O)}catch(O){console.error("getUserMedia failed:",O),Ue.error("    .    HTTPS  ."),Le()}})()},[l]),T.useEffect(()=>$?((async()=>{try{if(!I.current){const O=new RTCPeerConnection(Te);I.current=O,O.ontrack=W=>{console.log("Remote track received"),H(W.streams[0]),b("connected")},O.onicecandidate=W=>{W.candidate&&h(o?e:i,"ice-candidate",{id:t,candidate:W.candidate})},O.oniceconnectionstatechange=()=>{(O.iceConnectionState==="disconnected"||O.iceConnectionState==="failed")&&console.log("ICE failed/disconnected")},$.getTracks().forEach(W=>O.addTrack(W,$))}if(o&&p&&I.current.signalingState==="stable"){await I.current.setRemoteDescription(new RTCSessionDescription(p));const O=await I.current.createAnswer();await I.current.setLocalDescription(O),h(e,"call-answer",{id:t,answer:O})}else if(!o&&I.current.signalingState==="stable"){const O=await I.current.createOffer();await I.current.setLocalDescription(O),h(i,"call-offer",{id:t,callerId:d,callerName:n,type:l,offer:O})}}catch(O){console.error("PC init failed:",O),Le()}})(),()=>{}):void 0,[$,t,o,p,l,d,n,h,Le,e,i]),T.useEffect(()=>{v&&I.current&&I.current.signalingState==="have-local-offer"&&I.current.setRemoteDescription(new RTCSessionDescription(v)).catch(te=>console.error("Error setting answer:",te))},[v]),T.useEffect(()=>{y&&I.current&&I.current.remoteDescription&&y.forEach(te=>{var O;(O=I.current)==null||O.addIceCandidate(new RTCIceCandidate(te)).catch(W=>console.error("Error adding candidate:",W))})},[y]),T.useEffect(()=>{ue.current&&z&&(ue.current.srcObject=z,ue.current.play().catch(te=>console.warn("Auto-play blocked:",te)))},[z]);const He=()=>{if($){const te=$.getAudioTracks()[0];te&&(te.enabled=S,E(!S))}},Pe=()=>{if($&&l==="video"){const te=$.getVideoTracks()[0];te&&(te.enabled=_,j(!_))}},ce=()=>{P(!N),ue.current&&(ue.current.muted=!N)};return m.jsxs("div",{className:"fixed inset-0 z-[1000] bg-[#111b21] flex flex-col items-center justify-center p-4",children:[l==="video"?m.jsx("video",{ref:ue,autoPlay:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover"}):m.jsxs("div",{className:"flex flex-col items-center gap-6 mb-20",children:[m.jsx(xi,{className:"w-32 h-32 border-4 border-[#00a884]/30 shadow-2xl",children:m.jsx(bi,{className:"bg-[#202c33] text-[#00a884] text-4xl font-bold",children:n.charAt(0).toUpperCase()})}),m.jsxs("div",{className:"text-center",children:[m.jsx("h2",{className:"text-white text-3xl font-bold mb-2",children:n}),m.jsx("p",{className:"text-[#00a884] font-medium animate-pulse uppercase tracking-widest text-xs",children:w==="ringing"?o?" ...":" ...":""})]})]}),l==="video"&&$&&m.jsx("div",{className:"absolute top-6 right-6 w-32 md:w-48 aspect-[3/4] rounded-xl overflow-hidden shadow-2xl border-2 border-white/20 z-10",children:m.jsx("video",{ref:J,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover -scale-x-100"})}),m.jsxs("div",{className:"absolute bottom-12 flex items-center gap-6 bg-[#202c33]/90 backdrop-blur-xl p-6 rounded-full border border-white/10 shadow-2xl z-20",children:[m.jsx(Rt,{onClick:He,className:`w-14 h-14 rounded-full ${S?"bg-red-500":"bg-gray-700"}`,children:S?m.jsx(VT,{}):m.jsx(Il,{})}),l==="video"&&m.jsx(Rt,{onClick:Pe,className:`w-14 h-14 rounded-full ${_?"bg-red-500":"bg-gray-700"}`,children:_?m.jsx(fC,{}):m.jsx(sw,{})}),m.jsx(Rt,{onClick:ce,className:`w-14 h-14 rounded-full ${N?"bg-gray-700":"bg-red-500"}`,children:N?m.jsx(Id,{}):m.jsx(yC,{})}),m.jsx(Rt,{onClick:Le,className:"w-16 h-16 rounded-full bg-red-600 hover:bg-red-700 flex items-center justify-center",children:m.jsx(WT,{className:"w-8 h-8"})})]})]})}function DA({onBack:t,currentUserId:e}){const[n,i]=T.useState(""),[o,l]=T.useState("user"),[c,d]=T.useState(null),[h,p]=T.useState(!1),[v,y]=T.useState(!1),[w,b]=T.useState(!1),S=async()=>{if(!n.trim())return;const j=n.trim().toLowerCase().replace(o==="user"?"@":"#","");p(!0),y(!1),d(null),await new Promise(N=>setTimeout(N,600));try{if(o==="user"){const{data:N}=await Ce.from("profiles").select("id, display_name, username").eq("username",j).maybeSingle();if(N){if(N.id===e){y(!0);return}const{data:P}=await Ce.from("conversation_participants").select("conversation_id").eq("user_id",N.id),$=(P==null?void 0:P.map(H=>H.conversation_id))||[];let F=!1;if($.length>0){const{data:H}=await Ce.from("conversation_participants").select("conversation_id").eq("user_id",e).in("conversation_id",$).maybeSingle();F=!!H}const{data:z}=await Ce.from("chat_requests").select("status, sender_id").or(`and(sender_id.eq.${e},receiver_id.eq.${N.id}),and(sender_id.eq.${N.id},receiver_id.eq.${e})`).maybeSingle();d({id:N.id,identifier:N.username,name:N.display_name||N.username,hasChat:F,requestStatus:z==null?void 0:z.status,requestSenderId:z==null?void 0:z.sender_id})}else y(!0)}else{const{data:N}=await Ce.from("groups").select("id, name, group_id, description").eq("group_id",j).maybeSingle();if(N){const{data:P}=await Ce.from("group_members").select("id").eq("group_id",N.id).eq("user_id",e).maybeSingle();d({id:N.id,identifier:N.group_id,name:N.name,description:N.description,isMember:!!P})}else y(!0)}}catch(N){console.error("Search error:",N),y(!0)}finally{p(!1)}},E=async()=>{if(!(!c||w)){b(!0);try{const{error:j}=await Ce.from("chat_requests").upsert({sender_id:e,receiver_id:c.id,status:"pending"},{onConflict:"sender_id,receiver_id"});if(j)throw j;Ue.success("Request sent successfully!"),d(N=>N?{...N,requestStatus:"pending",requestSenderId:e}:null)}catch(j){Ue.error(j.message||"Failed to send request")}finally{b(!1)}}},_=async()=>{if(!(!c||w)){b(!0);try{const{error:j}=await Ce.from("group_members").insert({group_id:c.id,user_id:e,role:"member"});if(j)throw j;Ue.success("Joined group successfully!"),d(N=>N?{...N,isMember:!0}:null)}catch(j){console.error("Join group error:",j),Ue.error("Failed to join group")}finally{b(!1)}}};return m.jsxs("div",{className:"flex flex-col h-[100dvh] bg-slate-950 text-white overflow-hidden relative",children:[m.jsx("div",{className:"absolute top-0 right-0 w-full h-full bg-gradient-to-bl from-indigo-900/10 to-transparent pointer-events-none"}),m.jsxs("div",{className:"px-4 py-4 flex items-center gap-3 relative z-10 border-b border-white/5 bg-slate-900/50 backdrop-blur-sm",children:[m.jsx(Ve.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-slate-400 hover:text-white transition-colors p-1 rounded-full hover:bg-white/5",children:m.jsx(Ts,{className:"w-6 h-6"})}),m.jsx("h2",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white to-slate-400",children:"New Connection"})]}),m.jsxs("div",{className:"flex border-b border-white/5 relative z-10",children:[m.jsxs("button",{type:"button",onClick:()=>{l("user"),d(null),y(!1),i("")},className:`flex-1 py-4 text-sm font-bold transition-all relative ${o==="user"?"text-indigo-400":"text-slate-500 hover:text-slate-300"}`,children:["Find User",o==="user"&&m.jsx(Ve.div,{layoutId:"tab-indicator",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-500 shadow-[0_0_10px_rgba(99,102,241,0.5)]"})]}),m.jsxs("button",{type:"button",onClick:()=>{l("group"),d(null),y(!1),i("")},className:`flex-1 py-4 text-sm font-bold transition-all relative ${o==="group"?"text-indigo-400":"text-slate-500 hover:text-slate-300"}`,children:["Find Group",o==="group"&&m.jsx(Ve.div,{layoutId:"tab-indicator",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-500 shadow-[0_0_10px_rgba(99,102,241,0.5)]"})]})]}),m.jsx("div",{className:"flex-1 px-4 py-8 overflow-y-auto relative z-10",children:m.jsxs("div",{className:"max-w-md mx-auto",children:[m.jsx(Ve.p,{initial:{opacity:0},animate:{opacity:1},className:"text-slate-400 mb-6 text-center text-sm",children:o==="user"?"Search for users by their username (e.g. @elgin)":"Search for groups by their Group ID (e.g. #developers)"}),m.jsxs("form",{onSubmit:j=>{j.preventDefault(),S()},className:"flex gap-2 mb-8 relative z-50",children:[m.jsxs("div",{className:"relative flex-1 group",children:[m.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-indigo-500 font-bold pointer-events-none text-lg",children:o==="user"?"@":"#"}),m.jsx(pn,{type:"text",inputMode:"search",autoComplete:"off",autoCorrect:"off",spellCheck:"false",placeholder:o==="user"?"username":"group-id",value:n,onChange:j=>{i(j.target.value),y(!1),d(null)},className:"pl-8 bg-slate-900/50 border-white/5 focus:border-indigo-500/50 focus:ring-1 focus:ring-indigo-500/50 rounded-xl text-white placeholder:text-slate-600 h-12 text-lg font-medium transition-all"})]}),m.jsx(Ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",disabled:h||!n.trim(),className:"bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 text-white h-12 w-12 rounded-xl flex items-center justify-center transition-all shadow-lg shadow-indigo-500/20",children:m.jsx(Zv,{className:"w-6 h-6 pointer-events-none"})})]}),h&&m.jsxs("div",{className:"flex flex-col items-center justify-center text-slate-400 py-8 gap-2",children:[m.jsx(bo,{className:"w-8 h-8 animate-spin text-indigo-500"}),m.jsx("span",{className:"text-xs animate-pulse",children:"Searching the network..."})]}),v&&m.jsxs(Ve.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-slate-900/50 border border-white/5 rounded-2xl p-6 text-center",children:[m.jsxs("p",{className:"text-slate-300 font-medium text-lg",children:[o==="user"?"User":"Group"," not found"]}),m.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Check the ID and try again."})]}),m.jsx(ks,{children:c&&m.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},className:"bg-slate-900/80 backdrop-blur-xl border border-white/10 rounded-2xl p-6 shadow-2xl relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-indigo-500 via-purple-500 to-indigo-500"}),m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-white text-xl font-bold",children:c.name}),m.jsxs("p",{className:"text-indigo-400 text-sm font-medium bg-indigo-500/10 px-2 py-0.5 rounded-md w-fit mt-1",children:[o==="user"?"@":"#",c.identifier]}),c.description&&m.jsx("p",{className:"text-slate-400 text-sm mt-2 leading-relaxed",children:c.description})]}),m.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-indigo-600 to-violet-600 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-indigo-500/20 rotate-3",children:o==="user"?m.jsx(rw,{className:"w-7 h-7"}):m.jsx(Pd,{className:"w-7 h-7"})})]}),o==="user"?c.hasChat?m.jsx("div",{className:"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20 rounded-xl py-3 text-center text-sm font-medium",children:"You already have a chat with this user"}):c.requestStatus==="pending"?m.jsx("div",{className:"bg-yellow-500/10 text-yellow-400 border border-yellow-500/20 rounded-xl py-3 text-center text-sm font-medium",children:c.requestSenderId===e?"Request Pending...":"Sent you a request!"}):m.jsx(Rt,{onClick:E,disabled:w,className:"w-full h-12 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-xl shadow-lg shadow-indigo-500/25 transition-all text-base",children:w?m.jsx(bo,{className:"w-5 h-5 animate-spin"}):"Send Chat Request"}):c.isMember?m.jsx("div",{className:"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20 rounded-xl py-3 text-center text-sm font-medium",children:"You are already a member"}):m.jsx(Rt,{onClick:_,disabled:w,className:"w-full h-12 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-xl shadow-lg shadow-indigo-500/25 transition-all text-base",children:w?m.jsx(bo,{className:"w-5 h-5 animate-spin"}):"Join Group"})]})})]})})]})}function MA({onBack:t,currentUserId:e}){const[n,i]=T.useState(""),[o,l]=T.useState(""),[c,d]=T.useState(""),[h,p]=T.useState(!1),v=async()=>{if(!n.trim()||!o.trim()){Ue.error("Please fill in required fields");return}p(!0);try{const{data:y,error:w}=await Ce.from("groups").insert({name:n.trim(),group_id:o.trim().toLowerCase(),description:c.trim(),created_by:e}).select().single();if(w)throw w;const{error:b}=await Ce.from("group_members").insert({group_id:y.id,user_id:e,role:"admin"});if(b)throw b;Ue.success("Group created successfully!"),t()}catch(y){console.error("Error creating group:",y),y.code==="23505"?Ue.error("Group ID already taken"):Ue.error("Failed to create group")}finally{p(!1)}};return m.jsxs("div",{className:"flex flex-col h-screen bg-[#111b21]",children:[m.jsxs("div",{className:"bg-[#202c33] px-4 py-3 flex items-center gap-3",children:[m.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:m.jsx(Ts,{className:"w-6 h-6"})}),m.jsx("h2",{className:"text-white text-xl",children:"Create New Group"})]}),m.jsx("div",{className:"flex-1 px-4 py-6 overflow-y-auto",children:m.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[m.jsx("div",{className:"flex justify-center",children:m.jsxs("div",{className:"w-24 h-24 bg-[#2a3942] rounded-full flex items-center justify-center cursor-pointer hover:bg-[#374248] transition-colors relative group",children:[m.jsx(Kv,{className:"w-8 h-8 text-gray-400"}),m.jsx("div",{className:"absolute inset-0 bg-black/40 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:m.jsx("span",{className:"text-white text-xs",children:"Change Icon"})})]})}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-gray-400 text-sm mb-1 block",children:"Group Name *"}),m.jsx(pn,{type:"text",placeholder:"Enter group name",value:n,onChange:y=>i(y.target.value),className:"bg-[#2a3942] border-none text-white placeholder:text-gray-500 h-12"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-gray-400 text-sm mb-1 block",children:"Group ID (Unique) *"}),m.jsxs("div",{className:"relative",children:[m.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#00a884] font-bold",children:"#"}),m.jsx(pn,{type:"text",placeholder:"unique-group-id",value:o,onChange:y=>l(y.target.value.toLowerCase().replace(/\s/g,"-")),className:"pl-8 bg-[#2a3942] border-none text-white placeholder:text-gray-500 h-12"})]}),m.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Users will use this ID to find and join the group"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-gray-400 text-sm mb-1 block",children:"Description"}),m.jsx(pn,{type:"text",placeholder:"What is this group about?",value:c,onChange:y=>d(y.target.value),className:"bg-[#2a3942] border-none text-white placeholder:text-gray-500 h-12"})]})]}),m.jsx(Rt,{onClick:v,disabled:h||!n.trim()||!o.trim(),className:"w-full bg-[#00a884] hover:bg-[#00956f] text-white py-6 text-lg",children:h?"Creating...":"Create Group"})]})})]})}function LA({requests:t,onAccept:e,onReject:n}){return t.length===0?m.jsx("div",{className:"p-6 text-center text-gray-400",children:m.jsx("p",{className:"text-sm",children:"No pending requests"})}):m.jsx("div",{className:"max-h-[300px] overflow-y-auto custom-scrollbar",children:t.map(i=>m.jsxs("div",{className:"flex items-center gap-3 px-3 py-3 border-b border-gray-800/50 hover:bg-[#2a3942]/50 transition-colors",children:[m.jsx(xi,{className:"w-9 h-9 bg-[#00a884]",children:m.jsx(bi,{className:"bg-[#00a884] text-white text-xs",children:i.sender_name.charAt(0).toUpperCase()})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-white text-sm font-medium truncate",children:i.sender_name}),m.jsx("p",{className:"text-gray-500 text-[10px] truncate",children:"Sent a chat request"})]}),m.jsxs("div",{className:"flex gap-1.5",children:[m.jsx("button",{onClick:()=>e(i.id,i.sender_id),className:"w-7 h-7 flex items-center justify-center bg-[#00a884] hover:bg-[#00956f] rounded-full transition-colors",title:"Accept",children:m.jsx(Rl,{className:"w-4 h-4 text-white"})}),m.jsx("button",{onClick:()=>n(i.id),className:"w-7 h-7 flex items-center justify-center bg-red-500/10 hover:bg-red-500/20 rounded-full transition-colors",title:"Reject",children:m.jsx(Ei,{className:"w-4 h-4 text-red-500"})})]})]},i.id))})}function $A({user:t,onBack:e,onUpdateProfile:n,onLogout:i,notificationsEnabled:o,onEnableNotifications:l,micEnabled:c,onEnableMic:d,soundEnabled:h,onToggleSound:p,currentSoundId:v,notificationSounds:y,onSelectSound:w,onTestSound:b}){const[S,E]=T.useState(t.name),[_,j]=T.useState(!1),[N,P]=T.useState(!1),$=T.useRef(null),F=async()=>{if(console.log("Update name clicked, name:",S),!!S.trim()){j(!0);try{const{error:H}=await Ce.from("profiles").update({name:S.trim()}).eq("id",t.id);if(H)throw H;n({...t,name:S.trim()}),Ue.success("Profile updated!")}catch(H){Ue.error("Update failed: "+H.message)}finally{j(!1)}}},z=async H=>{var J,ue;const I=(J=H.target.files)==null?void 0:J[0];if(I){P(!0);try{const Te=I.name.split(".").pop(),Me=`${t.id}-${Math.random()}.${Te}`,{error:Le}=await Ce.storage.from("avatars").upload(Me,I,{cacheControl:"3600",upsert:!0,contentType:I.type});if(Le)throw Le;const{data:{publicUrl:He}}=Ce.storage.from("avatars").getPublicUrl(Me),{error:Pe}=await Ce.from("profiles").update({avatar_url:He}).eq("id",t.id);if(Pe)throw Pe;n({...t,avatar_url:He}),Ue.success("Avatar updated!")}catch(Te){console.error("Upload error details:",Te),(ue=Te.message)!=null&&ue.includes("bucket")||Te.statusCode===400?Ue.error("Upload failed. Please ensure the 'avatars' bucket is created and Public in Supabase Storage."):Ue.error("Upload failed: "+Te.message)}finally{P(!1)}}};return m.jsxs("div",{className:"flex flex-col h-full bg-[#111b21] text-white",children:[m.jsxs("div",{className:"p-4 bg-[#202c33] flex items-center gap-4 border-b border-gray-800",children:[m.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:m.jsx(Ts,{className:"w-6 h-6"})}),m.jsx("h2",{className:"text-lg font-bold",children:"Settings"})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[m.jsxs("section",{className:"space-y-4",children:[m.jsx("h3",{className:"text-[#00a884] text-sm font-bold uppercase tracking-wider",children:"Profile"}),m.jsxs("div",{className:"flex flex-col items-center gap-4 bg-[#202c33] p-6 rounded-xl border border-gray-800",children:[m.jsxs("div",{className:"relative group",children:[m.jsxs(xi,{className:"w-24 h-24 border-2 border-[#00a884]/20",children:[m.jsx(Sl,{src:t.avatar_url||`https://ui-avatars.com/api/?name=${encodeURIComponent(t.name)}&background=00a884&color=fff`}),m.jsx(bi,{className:"text-2xl",children:t.name.charAt(0).toUpperCase()})]}),m.jsx("button",{onClick:()=>{var H;return(H=$.current)==null?void 0:H.click()},disabled:N,className:"absolute bottom-0 right-0 p-2 bg-[#00a884] rounded-full hover:bg-[#06cf9c] transition-all shadow-lg overflow-hidden",children:N?m.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):m.jsx(Kv,{className:"w-4 h-4 text-white"})}),m.jsx("input",{type:"file",ref:$,className:"hidden",accept:"image/*",onChange:z})]}),m.jsxs("div",{className:"w-full space-y-3",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-xs text-gray-500 ml-1",children:"Display Name"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(pn,{value:S,onChange:H=>E(H.target.value),className:"bg-[#2a3942] border-none focus-visible:ring-1 focus-visible:ring-[#00a884]"}),m.jsx(Rt,{onClick:F,disabled:_||S===t.name,className:"bg-[#00a884] hover:bg-[#06cf9c] text-[#111b21]",children:m.jsx(QT,{className:"w-4 h-4"})})]})]}),m.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Your username: @",t.username]})]})]})]}),m.jsxs("section",{className:"space-y-4",children:[m.jsx("h3",{className:"text-[#00a884] text-sm font-bold uppercase tracking-wider",children:"Permissions & Notifications"}),m.jsxs("div",{className:"bg-[#202c33] rounded-xl border border-gray-800 divide-y divide-gray-800",children:[m.jsxs("div",{className:"p-4 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`p-2 rounded-lg ${o?"bg-[#00a884]/10 text-[#00a884]":"bg-gray-800 text-gray-400"}`,children:m.jsx(Dh,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:"Desktop Notifications"}),m.jsx("p",{className:"text-xs text-gray-500",children:o?"Currently enabled":"Currently disabled"})]})]}),m.jsx(Rt,{onClick:()=>{if(console.log("Enable notifications clicked"),window.location.protocol!=="https:"&&window.location.hostname!=="localhost"){Ue.error("Notifications require HTTPS or localhost.");return}l()},disabled:o,variant:o?"ghost":"outline",className:o?"text-gray-500 cursor-default":"border-[#00a884] text-[#00a884] hover:bg-[#00a884]/10",children:o?"Enabled":"Enable"})]}),m.jsxs("div",{className:"p-4 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`p-2 rounded-lg ${c?"bg-[#00a884]/10 text-[#00a884]":"bg-gray-800 text-gray-400"}`,children:m.jsx(Il,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:"Microphone Access"}),m.jsx("p",{className:"text-xs text-gray-500",children:c?"Access granted":"Required for voice messages"})]})]}),m.jsx(Rt,{onClick:()=>{if(console.log("Enable mic clicked"),window.location.protocol!=="https:"&&window.location.hostname!=="localhost"){Ue.error("Microphone access requires HTTPS or localhost.");return}d()},disabled:c,variant:c?"ghost":"outline",className:c?"text-gray-500 cursor-default":"border-[#00a884] text-[#00a884] hover:bg-[#00a884]/10",children:c?"Enabled":"Enable"})]}),m.jsxs("div",{className:"p-4 space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 rounded-lg bg-[#00a884]/10 text-[#00a884]",children:m.jsx(Id,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:"Notification Sound"}),m.jsx("p",{className:"text-xs text-gray-500",children:"Play sound on new message"})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{onClick:()=>p(!h),className:`w-10 h-5 rounded-full relative cursor-pointer shadow-inner transition-colors ${h?"bg-[#00a884]":"bg-gray-600"}`,children:m.jsx("div",{className:`absolute top-0.5 w-4 h-4 bg-white rounded-full shadow transition-all ${h?"right-0.5":"left-0.5"}`})}),m.jsx(Rt,{onClick:b,size:"sm",variant:"outline",className:"h-7 text-[10px] border-[#00a884] text-[#00a884] hover:bg-[#00a884]/10",children:"Test"})]})]}),h&&m.jsxs("div",{className:"space-y-2 pt-2 border-t border-gray-800",children:[m.jsx("p",{className:"text-xs text-gray-400 font-medium",children:"Select Sound:"}),m.jsx("div",{className:"grid grid-cols-1 gap-2",children:y.map(H=>m.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg cursor-pointer transition-all ${v===H.id?"bg-[#00a884]/10 border border-[#00a884]/30":"bg-[#2a3942]/50 border border-transparent hover:bg-[#2a3942]"}`,onClick:()=>w(H.id),children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:`w-3 h-3 rounded-full ${v===H.id?"bg-[#00a884]":"bg-gray-600"}`}),m.jsx("span",{className:"text-sm",children:H.name})]}),m.jsx("button",{onClick:I=>{I.stopPropagation(),new Audio(H.url).play().catch(ue=>Ue.error("Preview failed"))},className:"p-1.5 hover:bg-[#00a884]/20 rounded-md text-[#00a884] transition-colors",title:"Preview Sound",children:m.jsx(Id,{className:"w-4 h-4"})})]},H.id))})]})]})]}),m.jsx("p",{className:"text-[10px] text-gray-600 px-2",children:'Tip: On iPhone, you must "Add to Home Screen" to receive notifications.'})]}),m.jsx("section",{className:"space-y-4 pt-4",children:m.jsxs(Rt,{onClick:()=>{console.log("Logout clicked"),i()},variant:"ghost",className:"w-full text-red-500 hover:text-red-400 hover:bg-red-500/10 justify-start gap-3 p-4 h-auto",children:[m.jsx(Gv,{className:"w-5 h-5"}),m.jsxs("div",{className:"text-left",children:[m.jsx("p",{className:"font-bold",children:"Logout"}),m.jsx("p",{className:"text-[10px] opacity-70",children:"Sign out of your account on this device"})]})]})})]})]})}function z0({onFinish:t}){return T.useEffect(()=>{const e=setTimeout(()=>{t()},2500);return()=>clearTimeout(e)},[t]),m.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-[#00a884] via-[#008069] to-[#005c4b] animate-pulse",children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"w-32 h-32 bg-white rounded-full flex items-center justify-center mb-6 shadow-2xl animate-bounce",children:m.jsx(Pl,{className:"w-20 h-20 text-[#00a884]",strokeWidth:2.5})}),m.jsx("div",{className:"absolute -bottom-4 -right-4 w-12 h-12 bg-[#25d366] rounded-full flex items-center justify-center shadow-xl",children:m.jsx("span",{className:"text-white text-3xl font-bold",children:""})})]}),m.jsx("h1",{className:"text-white text-5xl font-bold mb-2 tracking-tight",children:"Chat App"}),m.jsx("p",{className:"text-white/90 text-xl mb-8",children:"Connect instantly, chat freely"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-bounce",style:{animationDelay:"0ms"}}),m.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-bounce",style:{animationDelay:"150ms"}}),m.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),m.jsx("p",{className:"absolute bottom-8 text-white/60 text-sm",children:"v2.0 - Powered by Figma Make"})]})}const VA="modulepreload",UA=function(t){return"/Chat-App/"+t},H0={},BA=function(e,n,i){let o=Promise.resolve();if(n&&n.length>0){let c=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));o=c(n.map(p=>{if(p=UA(p),p in H0)return;H0[p]=!0;const v=p.endsWith(".css"),y=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":VA,v||(w.as="script"),w.crossOrigin="",w.href=p,h&&w.setAttribute("nonce",h),document.head.appendChild(w),v)return new Promise((b,S)=>{w.addEventListener("load",b),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})},FA=()=>{};var W0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},zA=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],c=t[n++],d=t[n++],h=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Ww={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const l=t[o],c=o+1<t.length,d=c?t[o+1]:0,h=o+2<t.length,p=h?t[o+2]:0,v=l>>2,y=(l&3)<<4|d>>4;let w=(d&15)<<2|p>>6,b=p&63;h||(b=64,c||(w=64)),i.push(n[v],n[y],n[w],n[b])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Hw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],d=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const y=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||d==null||p==null||y==null)throw new HA;const w=l<<2|d>>4;if(i.push(w),p!==64){const b=d<<4&240|p>>2;if(i.push(b),y!==64){const S=p<<6&192|y;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class HA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WA=function(t){const e=Hw(t);return Ww.encodeByteArray(e,!0)},qw=function(t){return WA(t).replace(/\./g,"")},qA=function(t){try{return Ww.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=()=>KA().__FIREBASE_DEFAULTS__,JA=()=>{if(typeof process>"u"||typeof W0>"u")return;const t=W0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qA(t[1]);return e&&JSON.parse(e)},XA=()=>{try{return FA()||GA()||JA()||YA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Kw=()=>{var t;return(t=XA())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function Gw(){try{return typeof indexedDB=="object"}catch{return!1}}function Jw(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}function ZA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="FirebaseError";class ji extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=eR,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ll.prototype.create)}}class Ll{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?tR(l,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new ji(o,d,i)}}function tR(t,e){return t.replace(nR,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const nR=/\{\$([^}]+)}/g;function Yd(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const l=t[o],c=e[o];if(q0(l)&&q0(c)){if(!Yd(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function q0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(t){return t&&t._delegate?t._delegate:t}class Kr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new QA;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iR(e))try{this.getOrInitializeService({instanceIdentifier:ms})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ms){return this.instances.has(e)}getOptions(e=ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:sR(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ms){return this.component?this.component.multipleInstances?e:ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sR(t){return t===ms?void 0:t}function iR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const aR={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},lR=at.INFO,cR={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},uR=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=cR[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dR{constructor(e){this.name=e,this._logLevel=lR,this._logHandler=uR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const hR=(t,e)=>e.some(n=>t instanceof n);let K0,G0;function fR(){return K0||(K0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pR(){return G0||(G0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yw=new WeakMap,Xd=new WeakMap,Xw=new WeakMap,Zu=new WeakMap,Gh=new WeakMap;function mR(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(pr(t.result)),o()},c=()=>{i(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Yw.set(n,t)}).catch(()=>{}),Gh.set(e,t),e}function gR(t){if(Xd.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Xd.set(t,e)}let Qd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Xw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yR(t){Qd=t(Qd)}function vR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(ed(this),e,...n);return Xw.set(i,e.sort?e.sort():[e]),pr(i)}:pR().includes(t)?function(...e){return t.apply(ed(this),e),pr(Yw.get(this))}:function(...e){return pr(t.apply(ed(this),e))}}function wR(t){return typeof t=="function"?vR(t):(t instanceof IDBTransaction&&gR(t),hR(t,fR())?new Proxy(t,Qd):t)}function pr(t){if(t instanceof IDBRequest)return mR(t);if(Zu.has(t))return Zu.get(t);const e=wR(t);return e!==t&&(Zu.set(t,e),Gh.set(e,t)),e}const ed=t=>Gh.get(t);function $l(t,e,{blocked:n,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(t,e),d=pr(c);return i&&c.addEventListener("upgradeneeded",h=>{i(pr(c.result),h.oldVersion,h.newVersion,pr(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{l&&h.addEventListener("close",()=>l()),o&&h.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}function td(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",i=>e(i.oldVersion,i)),pr(n).then(()=>{})}const xR=["get","getKey","getAll","getAllKeys","count"],bR=["put","add","delete","clear"],nd=new Map;function J0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(nd.get(e))return nd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=bR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||xR.includes(n)))return;const l=async function(c,...d){const h=this.transaction(c,o?"readwrite":"readonly");let p=h.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),o&&h.done]))[0]};return nd.set(e,l),l}yR(t=>({...t,get:(e,n,i)=>J0(e,n)||t.get(e,n,i),has:(e,n)=>!!J0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function SR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zd="@firebase/app",Y0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=new dR("@firebase/app"),kR="@firebase/app-compat",ER="@firebase/analytics-compat",TR="@firebase/analytics",CR="@firebase/app-check-compat",NR="@firebase/app-check",jR="@firebase/auth",AR="@firebase/auth-compat",RR="@firebase/database",PR="@firebase/data-connect",IR="@firebase/database-compat",OR="@firebase/functions",DR="@firebase/functions-compat",MR="@firebase/installations",LR="@firebase/installations-compat",$R="@firebase/messaging",VR="@firebase/messaging-compat",UR="@firebase/performance",BR="@firebase/performance-compat",FR="@firebase/remote-config",zR="@firebase/remote-config-compat",HR="@firebase/storage",WR="@firebase/storage-compat",qR="@firebase/firestore",KR="@firebase/ai",GR="@firebase/firestore-compat",JR="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh="[DEFAULT]",YR={[Zd]:"fire-core",[kR]:"fire-core-compat",[TR]:"fire-analytics",[ER]:"fire-analytics-compat",[NR]:"fire-app-check",[CR]:"fire-app-check-compat",[jR]:"fire-auth",[AR]:"fire-auth-compat",[RR]:"fire-rtdb",[PR]:"fire-data-connect",[IR]:"fire-rtdb-compat",[OR]:"fire-fn",[DR]:"fire-fn-compat",[MR]:"fire-iid",[LR]:"fire-iid-compat",[$R]:"fire-fcm",[VR]:"fire-fcm-compat",[UR]:"fire-perf",[BR]:"fire-perf-compat",[FR]:"fire-rc",[zR]:"fire-rc-compat",[HR]:"fire-gcs",[WR]:"fire-gcs-compat",[qR]:"fire-fst",[GR]:"fire-fst-compat",[KR]:"fire-vertex","fire-js":"fire-js",[JR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=new Map,XR=new Map,th=new Map;function X0(t,e){try{t.container.addComponent(e)}catch(n){vr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cs(t){const e=t.name;if(th.has(e))return vr.debug(`There were multiple attempts to register component ${e}.`),!1;th.set(e,t);for(const n of kl.values())X0(n,t);for(const n of XR.values())X0(n,t);return!0}function Jh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new Ll("app","Firebase",QR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}function Qw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:eh,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Hr.create("bad-app-name",{appName:String(o)});if(n||(n=Kw()),!n)throw Hr.create("no-options");const l=kl.get(o);if(l){if(Yd(n,l.options)&&Yd(i,l.config))return l;throw Hr.create("duplicate-app",{appName:o})}const c=new oR(o);for(const h of th.values())c.addComponent(h);const d=new ZR(n,i,c);return kl.set(o,d),d}function eP(t=eh){const e=kl.get(t);if(!e&&t===eh&&Kw())return Qw();if(!e)throw Hr.create("no-app",{appName:t});return e}function Wr(t,e,n){let i=YR[t]??t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vr.warn(c.join(" "));return}Cs(new Kr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP="firebase-heartbeat-database",nP=1,Do="firebase-heartbeat-store";let rd=null;function Zw(){return rd||(rd=$l(tP,nP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Do)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hr.create("idb-open",{originalErrorMessage:t.message})})),rd}async function rP(t){try{const n=(await Zw()).transaction(Do),i=await n.objectStore(Do).get(ex(t));return await n.done,i}catch(e){if(e instanceof ji)vr.warn(e.message);else{const n=Hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vr.warn(n.message)}}}async function Q0(t,e){try{const i=(await Zw()).transaction(Do,"readwrite");await i.objectStore(Do).put(e,ex(t)),await i.done}catch(n){if(n instanceof ji)vr.warn(n.message);else{const i=Hr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vr.warn(i.message)}}}function ex(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=1024,iP=30;class oP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lP(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Z0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>iP){const c=cP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){vr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Z0(),{heartbeatsToSend:i,unsentEntries:o}=aP(this._heartbeatsCache.heartbeats),l=qw(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return vr.warn(n),""}}}function Z0(){return new Date().toISOString().substring(0,10)}function aP(t,e=sP){const n=[];let i=t.slice();for(const o of t){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),ey(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),ey(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class lP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gw()?Jw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Q0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Q0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ey(t){return qw(JSON.stringify({version:2,heartbeats:t})).length}function cP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(t){Cs(new Kr("platform-logger",e=>new _R(e),"PRIVATE")),Cs(new Kr("heartbeat",e=>new oP(e),"PRIVATE")),Wr(Zd,Y0,t),Wr(Zd,Y0,"esm2020"),Wr("fire-js","")}uP("");var dP="firebase",hP="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wr(dP,hP,"app");const tx="@firebase/installations",Yh="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=1e4,rx=`w:${Yh}`,sx="FIS_v2",fP="https://firebaseinstallations.googleapis.com/v1",pP=3600*1e3,mP="installations",gP="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ns=new Ll(mP,gP,yP);function ix(t){return t instanceof ji&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox({projectId:t}){return`${fP}/projects/${t}/installations`}function ax(t){return{token:t.token,requestStatus:2,expiresIn:wP(t.expiresIn),creationTime:Date.now()}}async function lx(t,e){const i=(await e.json()).error;return Ns.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function cx({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function vP(t,{refreshToken:e}){const n=cx(t);return n.append("Authorization",xP(e)),n}async function ux(t){const e=await t();return e.status>=500&&e.status<600?t():e}function wP(t){return Number(t.replace("s","000"))}function xP(t){return`${sx} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bP({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=ox(t),o=cx(t),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const c={fid:n,authVersion:sx,appId:t.appId,sdkVersion:rx},d={method:"POST",headers:o,body:JSON.stringify(c)},h=await ux(()=>fetch(i,d));if(h.ok){const p=await h.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:ax(p.authToken)}}else throw await lx("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=/^[cdef][\w-]{21}$/,nh="";function kP(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=EP(t);return SP.test(n)?n:nh}catch{return nh}}function EP(t){return _P(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=new Map;function fx(t,e){const n=Vl(t);px(n,e),TP(n,e)}function px(t,e){const n=hx.get(t);if(n)for(const i of n)i(e)}function TP(t,e){const n=CP();n&&n.postMessage({key:t,fid:e}),NP()}let bs=null;function CP(){return!bs&&"BroadcastChannel"in self&&(bs=new BroadcastChannel("[Firebase] FID Change"),bs.onmessage=t=>{px(t.data.key,t.data.fid)}),bs}function NP(){hx.size===0&&bs&&(bs.close(),bs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP="firebase-installations-database",AP=1,js="firebase-installations-store";let sd=null;function Xh(){return sd||(sd=$l(jP,AP,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(js)}}})),sd}async function El(t,e){const n=Vl(t),o=(await Xh()).transaction(js,"readwrite"),l=o.objectStore(js),c=await l.get(n);return await l.put(e,n),await o.done,(!c||c.fid!==e.fid)&&fx(t,e.fid),e}async function mx(t){const e=Vl(t),i=(await Xh()).transaction(js,"readwrite");await i.objectStore(js).delete(e),await i.done}async function Ul(t,e){const n=Vl(t),o=(await Xh()).transaction(js,"readwrite"),l=o.objectStore(js),c=await l.get(n),d=e(c);return d===void 0?await l.delete(n):await l.put(d,n),await o.done,d&&(!c||c.fid!==d.fid)&&fx(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qh(t){let e;const n=await Ul(t.appConfig,i=>{const o=RP(i),l=PP(t,o);return e=l.registrationPromise,l.installationEntry});return n.fid===nh?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function RP(t){const e=t||{fid:kP(),registrationStatus:0};return gx(e)}function PP(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ns.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=IP(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:OP(t)}:{installationEntry:e}}async function IP(t,e){try{const n=await bP(t,e);return El(t.appConfig,n)}catch(n){throw ix(n)&&n.customData.serverCode===409?await mx(t.appConfig):await El(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function OP(t){let e=await ty(t.appConfig);for(;e.registrationStatus===1;)await dx(100),e=await ty(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Qh(t);return i||n}return e}function ty(t){return Ul(t,e=>{if(!e)throw Ns.create("installation-not-found");return gx(e)})}function gx(t){return DP(t)?{fid:t.fid,registrationStatus:0}:t}function DP(t){return t.registrationStatus===1&&t.registrationTime+nx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MP({appConfig:t,heartbeatServiceProvider:e},n){const i=LP(t,n),o=vP(t,n),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const c={installation:{sdkVersion:rx,appId:t.appId}},d={method:"POST",headers:o,body:JSON.stringify(c)},h=await ux(()=>fetch(i,d));if(h.ok){const p=await h.json();return ax(p)}else throw await lx("Generate Auth Token",h)}function LP(t,{fid:e}){return`${ox(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zh(t,e=!1){let n;const i=await Ul(t.appConfig,l=>{if(!yx(l))throw Ns.create("not-registered");const c=l.authToken;if(!e&&UP(c))return l;if(c.requestStatus===1)return n=$P(t,e),l;{if(!navigator.onLine)throw Ns.create("app-offline");const d=FP(l);return n=VP(t,d),d}});return n?await n:i.authToken}async function $P(t,e){let n=await ny(t.appConfig);for(;n.authToken.requestStatus===1;)await dx(100),n=await ny(t.appConfig);const i=n.authToken;return i.requestStatus===0?Zh(t,e):i}function ny(t){return Ul(t,e=>{if(!yx(e))throw Ns.create("not-registered");const n=e.authToken;return zP(n)?{...e,authToken:{requestStatus:0}}:e})}async function VP(t,e){try{const n=await MP(t,e),i={...e,authToken:n};return await El(t.appConfig,i),n}catch(n){if(ix(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await mx(t.appConfig);else{const i={...e,authToken:{requestStatus:0}};await El(t.appConfig,i)}throw n}}function yx(t){return t!==void 0&&t.registrationStatus===2}function UP(t){return t.requestStatus===2&&!BP(t)}function BP(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+pP}function FP(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function zP(t){return t.requestStatus===1&&t.requestTime+nx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HP(t){const e=t,{installationEntry:n,registrationPromise:i}=await Qh(e);return i?i.catch(console.error):Zh(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WP(t,e=!1){const n=t;return await qP(n),(await Zh(n,e)).token}async function qP(t){const{registrationPromise:e}=await Qh(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(t){if(!t||!t.options)throw id("App Configuration");if(!t.name)throw id("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw id(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function id(t){return Ns.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx="installations",GP="installations-internal",JP=t=>{const e=t.getProvider("app").getImmediate(),n=KP(e),i=Jh(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},YP=t=>{const e=t.getProvider("app").getImmediate(),n=Jh(e,vx).getImmediate();return{getId:()=>HP(n),getToken:o=>WP(n,o)}};function XP(){Cs(new Kr(vx,JP,"PUBLIC")),Cs(new Kr(GP,YP,"PRIVATE"))}XP();Wr(tx,Yh);Wr(tx,Yh,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP="/firebase-messaging-sw.js",ZP="/firebase-cloud-messaging-push-scope",wx="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",eI="https://fcmregistrations.googleapis.com/v1",xx="google.c.a.c_id",tI="google.c.a.c_l",nI="google.c.a.ts",rI="google.c.a.e",ry=1e4;var sy;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(sy||(sy={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Mo;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Mo||(Mo={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function sI(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(n),o=new Uint8Array(i.length);for(let l=0;l<i.length;++l)o[l]=i.charCodeAt(l);return o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="fcm_token_details_db",iI=5,iy="fcm_token_object_Store";async function oI(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(l=>l.name).includes(od))return null;let e=null;return(await $l(od,iI,{upgrade:async(i,o,l,c)=>{if(o<2||!i.objectStoreNames.contains(iy))return;const d=c.objectStore(iy),h=await d.index("fcmSenderId").get(t);if(await d.clear(),!!h){if(o===2){const p=h;if(!p.auth||!p.p256dh||!p.endpoint)return;e={token:p.fcmToken,createTime:p.createTime??Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:fr(p.vapidKey)}}}else if(o===3){const p=h;e={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:fr(p.auth),p256dh:fr(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:fr(p.vapidKey)}}}else if(o===4){const p=h;e={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:fr(p.auth),p256dh:fr(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:fr(p.vapidKey)}}}}}})).close(),await td(od),await td("fcm_vapid_details_db"),await td("undefined"),aI(e)?e:null}function aI(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="firebase-messaging-database",cI=1,Lo="firebase-messaging-store";let ad=null;function bx(){return ad||(ad=$l(lI,cI,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Lo)}}})),ad}async function uI(t){const e=_x(t),i=await(await bx()).transaction(Lo).objectStore(Lo).get(e);if(i)return i;{const o=await oI(t.appConfig.senderId);if(o)return await ef(t,o),o}}async function ef(t,e){const n=_x(t),o=(await bx()).transaction(Lo,"readwrite");return await o.objectStore(Lo).put(e,n),await o.done,e}function _x({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Kt=new Ll("messaging","Messaging",dI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hI(t,e){const n=await nf(t),i=Sx(e),o={method:"POST",headers:n,body:JSON.stringify(i)};let l;try{l=await(await fetch(tf(t.appConfig),o)).json()}catch(c){throw Kt.create("token-subscribe-failed",{errorInfo:c==null?void 0:c.toString()})}if(l.error){const c=l.error.message;throw Kt.create("token-subscribe-failed",{errorInfo:c})}if(!l.token)throw Kt.create("token-subscribe-no-token");return l.token}async function fI(t,e){const n=await nf(t),i=Sx(e.subscriptionOptions),o={method:"PATCH",headers:n,body:JSON.stringify(i)};let l;try{l=await(await fetch(`${tf(t.appConfig)}/${e.token}`,o)).json()}catch(c){throw Kt.create("token-update-failed",{errorInfo:c==null?void 0:c.toString()})}if(l.error){const c=l.error.message;throw Kt.create("token-update-failed",{errorInfo:c})}if(!l.token)throw Kt.create("token-update-no-token");return l.token}async function pI(t,e){const i={method:"DELETE",headers:await nf(t)};try{const l=await(await fetch(`${tf(t.appConfig)}/${e}`,i)).json();if(l.error){const c=l.error.message;throw Kt.create("token-unsubscribe-failed",{errorInfo:c})}}catch(o){throw Kt.create("token-unsubscribe-failed",{errorInfo:o==null?void 0:o.toString()})}}function tf({projectId:t}){return`${eI}/projects/${t}/registrations`}async function nf({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Sx({p256dh:t,auth:e,endpoint:n,vapidKey:i}){const o={web:{endpoint:n,auth:e,p256dh:t}};return i!==wx&&(o.web.applicationPubKey=i),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=10080*60*1e3;async function gI(t){const e=await vI(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:fr(e.getKey("auth")),p256dh:fr(e.getKey("p256dh"))},i=await uI(t.firebaseDependencies);if(i){if(wI(i.subscriptionOptions,n))return Date.now()>=i.createTime+mI?yI(t,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{await pI(t.firebaseDependencies,i.token)}catch(o){console.warn(o)}return oy(t.firebaseDependencies,n)}else return oy(t.firebaseDependencies,n)}async function yI(t,e){try{const n=await fI(t.firebaseDependencies,e),i={...e,token:n,createTime:Date.now()};return await ef(t.firebaseDependencies,i),n}catch(n){throw n}}async function oy(t,e){const i={token:await hI(t,e),createTime:Date.now(),subscriptionOptions:e};return await ef(t,i),i.token}async function vI(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:sI(e)})}function wI(t,e){const n=e.vapidKey===t.vapidKey,i=e.endpoint===t.endpoint,o=e.auth===t.auth,l=e.p256dh===t.p256dh;return n&&i&&o&&l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return xI(e,t),bI(e,t),_I(e,t),e}function xI(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const i=e.notification.body;i&&(t.notification.body=i);const o=e.notification.image;o&&(t.notification.image=o);const l=e.notification.icon;l&&(t.notification.icon=l)}function bI(t,e){e.data&&(t.data=e.data)}function _I(t,e){var o,l,c,d;if(!e.fcmOptions&&!((o=e.notification)!=null&&o.click_action))return;t.fcmOptions={};const n=((l=e.fcmOptions)==null?void 0:l.link)??((c=e.notification)==null?void 0:c.click_action);n&&(t.fcmOptions.link=n);const i=(d=e.fcmOptions)==null?void 0:d.analytics_label;i&&(t.fcmOptions.analyticsLabel=i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t){return typeof t=="object"&&!!t&&xx in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(t){if(!t||!t.options)throw ld("App Configuration Object");if(!t.name)throw ld("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const i of e)if(!n[i])throw ld(i);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function ld(t){return Kt.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const o=kI(e);this.firebaseDependencies={app:e,appConfig:o,installations:n,analyticsProvider:i}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(t){try{t.swRegistration=await navigator.serviceWorker.register(QP,{scope:ZP}),t.swRegistration.update().catch(()=>{}),await CI(t.swRegistration)}catch(e){throw Kt.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function CI(t){return new Promise((e,n)=>{const i=setTimeout(()=>n(new Error(`Service worker not registered after ${ry} ms`)),ry),o=t.installing||t.waiting;t.active?(clearTimeout(i),e()):o?o.onstatechange=l=>{var c;((c=l.target)==null?void 0:c.state)==="activated"&&(o.onstatechange=null,clearTimeout(i),e())}:(clearTimeout(i),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI(t,e){if(!e&&!t.swRegistration&&await TI(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Kt.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=wx)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kx(t,e){if(!navigator)throw Kt.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Kt.create("permission-blocked");return await jI(t,e==null?void 0:e.vapidKey),await NI(t,e==null?void 0:e.serviceWorkerRegistration),gI(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(t,e,n){const i=RI(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n[xx],message_name:n[tI],message_time:n[nI],message_device_time:Math.floor(Date.now()/1e3)})}function RI(t){switch(t){case Mo.NOTIFICATION_CLICKED:return"notification_open";case Mo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PI(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Mo.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(ay(n)):t.onMessageHandler.next(ay(n)));const i=n.data;SI(i)&&i[rI]==="1"&&await AI(t,n.messageType,i)}const ly="@firebase/messaging",cy="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=t=>{const e=new EI(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>PI(e,n)),e},OI=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:i=>kx(e,i)}};function DI(){Cs(new Kr("messaging",II,"PUBLIC")),Cs(new Kr("messaging-internal",OI,"PRIVATE")),Wr(ly,cy),Wr(ly,cy,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ex(){try{await Jw()}catch{return!1}return typeof window<"u"&&Gw()&&ZA()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(t,e){if(!navigator)throw Kt.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t=eP()){return Ex().then(e=>{if(!e)throw Kt.create("unsupported-browser")},e=>{throw Kt.create("indexed-db-unsupported")}),Jh(Kh(t),"messaging").getImmediate()}async function Cx(t,e){return t=Kh(t),kx(t,e)}function Nx(t,e){return t=Kh(t),MI(t,e)}DI();const LI=Object.freeze(Object.defineProperty({__proto__:null,getMessaging:Tx,getToken:Cx,isSupported:Ex,onMessage:Nx},Symbol.toStringTag,{value:"Module"})),$I={apiKey:"AQ.Ab8RN6KyfxD057Lxh7vZnIkmdAWM2qurm3jL2AhRNnzEzyqbKg",authDomain:"whats-app-ba228.firebaseapp.com",projectId:"whats-app-ba228",storageBucket:"whats-app-ba228.firebasestorage.app",messagingSenderId:"262534457804",appId:"1:262534457804:web:649d3a91c3aae990d71569",measurementId:"G-C1Y86CZ6D1"},VI=Qw($I),jx=async()=>{try{const{isSupported:t}=await BA(async()=>{const{isSupported:e}=await Promise.resolve().then(()=>LI);return{isSupported:e}},void 0);return await t()?Tx(VI):null}catch(t){return console.error("Firebase Messaging not supported",t),null}},UI=async()=>{try{const t=await jx();if(!t)return null;const e=await Cx(t,{vapidKey:"BHOxCY8sGByUx_Ck0R2X7O_DkEChn_TmXM3S2CWWzT-0v-mWlaOScvQryAJk9aT3kJD6iYhvLPwWExg5U9FPZxI",serviceWorkerRegistration:await navigator.serviceWorker.register("./firebase-messaging-sw.js",{scope:"./firebase-cloud-messaging-push-scope"})});return e?(console.log("FCM Token:",e),e):(console.log("No registration token available. Request permission to generate one."),null)}catch(t){return console.log("An error occurred while retrieving token. ",t),null}},BI=t=>{let e=()=>{};return jx().then(n=>{n&&(e=Nx(n,i=>{t(i)}))}),()=>e()};function FI(){const[t,e]=T.useState(!0),[n,i]=T.useState("login"),[o,l]=T.useState(null),[c,d]=T.useState([]),[h,p]=T.useState(null),[v,y]=T.useState([]),[w,b]=T.useState(!0),[S,E]=T.useState(new Set),[_,j]=T.useState({}),[N,P]=T.useState("login"),[$,F]=T.useState(null),[z,H]=T.useState([]),[I,J]=T.useState(null),[ue,Te]=T.useState(!1),Me=T.useRef(0),Le=T.useRef(!1),He=T.useRef(0),[Pe,ce]=T.useState(!1),[te,O]=T.useState(!1),[W,Q]=T.useState(()=>localStorage.getItem("chat_app_sound_enabled")!=="false"),[C,V]=T.useState(()=>localStorage.getItem("chat_app_sound_id")||"default"),ee=[{id:"whistle",name:"Whistle Chime",url:"https://assets.mixkit.co/active_storage/sfx/2358/2358-preview.mp3"},{id:"bell",name:"Success Bell",url:"https://assets.mixkit.co/active_storage/sfx/600/600-preview.mp3"},{id:"note",name:"Electronic Note",url:"https://assets.mixkit.co/active_storage/sfx/2354/2354-preview.mp3"},{id:"digital",name:"Digital Alert",url:"https://assets.mixkit.co/active_storage/sfx/2361/2361-preview.mp3"}],re=T.useRef(null),ye=T.useRef(null);T.useEffect(()=>{localStorage.setItem("chat_app_sound_id",C);const U=ee.find(ne=>ne.id===C)||ee[0];re.current=new Audio(U.url),re.current.load(),ye.current=new Audio("https://assets.mixkit.co/active_storage/sfx/1359/1359-preview.mp3"),ye.current.loop=!0,ye.current.load()},[C]);const oe=T.useRef(W);T.useEffect(()=>{oe.current=W,localStorage.setItem("chat_app_sound_enabled",String(W))},[W]),T.useEffect(()=>{navigator.permissions&&navigator.permissions.query&&navigator.permissions.query({name:"microphone"}).then(U=>{O(U.state==="granted"),U.onchange=()=>O(U.state==="granted")}).catch(()=>{}),ce(Notification.permission==="granted")},[]);const xe=async()=>{try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){Ue.error("Microphone access requires a secure context (HTTPS or localhost).");return}(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(ne=>ne.stop()),O(!0),Ue.success("Microphone access granted!")}catch(U){console.error("Mic error:",U),U.name==="NotAllowedError"?Ue.error("Microphone access denied by browser."):Ue.error("Microphone access failed: "+U.message)}};T.useEffect(()=>{const U=()=>{re.current&&re.current.play().then(()=>{var ne;(ne=re.current)==null||ne.pause(),re.current.currentTime=0}).catch(()=>{}),document.removeEventListener("click",U),document.removeEventListener("keydown",U),document.removeEventListener("touchstart",U)};return document.addEventListener("click",U),document.addEventListener("keydown",U),document.addEventListener("touchstart",U),()=>{document.removeEventListener("click",U),document.removeEventListener("keydown",U),document.removeEventListener("touchstart",U)}},[]);const Oe=async()=>{const U=await UI();if(U&&o){ce(!0),Ue.success("Notifications enabled!"),re.current&&(re.current.currentTime=0,re.current.play().catch(()=>{}));try{const ne=await fetch(`https://${Hh}.supabase.co/functions/v1/make-server-f2fe46ac/fcm-token`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Wh}`},body:JSON.stringify({user_id:o.id,fcm_token:U})});if(!ne.ok)if(ne.status===404)console.warn("FCM Edge Function not deployed. In-app notifications will still work.");else throw new Error(`FCM registration failed: ${ne.status}`)}catch(ne){console.error("Failed to register FCM token:",ne)}}else U||Ue.error("Notification permission denied or not supported")};T.useEffect(()=>{Ce.auth.getSession().then(({data:{session:ne}})=>{ne?Ye(ne.user.id):b(!1)});const{data:{subscription:U}}=Ce.auth.onAuthStateChange((ne,K)=>{K?Ye(K.user.id):(l(null),i("login"))});return()=>U.unsubscribe()},[]);const Ie=async U=>{const{data:ne,error:K}=await Ce.from("chat_requests").select(`
id,
  sender_id,
  profiles!sender_id(display_name)
      `).eq("receiver_id",U).eq("status","pending");if(K){console.error("Error fetching requests:",K);return}H(ne.map(B=>{var se;return{id:B.id,sender_id:B.sender_id,sender_name:((se=B.profiles)==null?void 0:se.display_name)||"Unknown"}}))},Ye=async(U,ne=!1)=>{var se;const{data:K,error:B}=await Ce.from("profiles").select("*").eq("id",U).single();if(B){B.code==="PGRST116"||(se=B.message)!=null&&se.includes("406")?(console.warn("Profile missing for user. Logging out to clear stale session."),await Ce.auth.signOut(),l(null),i("login")):console.error("Error fetching profile:",B),b(!1);return}if(l({id:K.id,username:K.username,name:K.display_name||K.username,avatar_url:K.avatar_url}),!K.display_name)P("signup"),lt("login");else{const ae=localStorage.getItem("chat_app_view"),be=localStorage.getItem("chat_app_selected_chat");if(ae==="chatWindow"&&be)try{const De=JSON.parse(be);p(De),Ne(De.id,De.isGroup),i("chatWindow")}catch{lt("chatList")}else lt(ae&&ae!=="login"?ae:"chatList");Promise.all([Y(U),Ie(U)])}b(!1)},Y=async U=>{const{data:ne,error:K}=await Ce.from("conversation_participants").select(`
        conversation_id,
        conversations (
            id,
            last_message_text,
            last_message_at
        )
      `).eq("user_id",U);if(K)throw console.error("Error loading user conversations:",K),K;const B=ne.map(Ge=>Ge.conversation_id);if(B.length===0){d([]);return}const{data:se,error:ae}=await Ce.from("conversation_participants").select(`
        conversation_id,
        user_id,
        profiles (id, display_name, avatar_url)
      `).in("conversation_id",B).neq("user_id",U);if(ae)throw console.error("Error loading partners:",ae),ae;const{data:be}=await Ce.from("messages").select("conversation_id").eq("is_read",!1).neq("sender_id",U).in("conversation_id",B),De={};be==null||be.forEach(Ge=>{De[Ge.conversation_id]=(De[Ge.conversation_id]||0)+1});const $e=ne.map(Ge=>{var Xt,tt;const Ae=se.find(gt=>gt.conversation_id===Ge.conversation_id),ct=Ae!=null&&Ae.profiles&&!Array.isArray(Ae.profiles)?Ae.profiles.display_name:"Unknown User";return{id:Ge.conversation_id,partnerId:(Ae==null?void 0:Ae.user_id)||"unknown",partnerName:ct,partnerAvatar:Ae!=null&&Ae.profiles&&!Array.isArray(Ae.profiles)?Ae.profiles.avatar_url:void 0,lastMessage:((Xt=Ge.conversations)==null?void 0:Xt.last_message_text)||"",lastMessageTime:((tt=Ge.conversations)==null?void 0:tt.last_message_at)||"",unreadCount:De[Ge.conversation_id]||0,isGroup:!1}});let he=[];try{const{data:Ge,error:Ae}=await Ce.from("group_members").select(`
          group_id,
          groups (
            id,
            name,
            updated_at
          )
        `).eq("user_id",U);if(!Ae&&Ge)he=Ge;else if(Ae)throw console.warn("Group fetch error (likely RLS recursion):",Ae.message),Ae}catch(Ge){throw console.warn("Unexpected error fetching groups:",Ge),Ge}let qe=[];if(he.length>0){const Ge=he.map(tt=>tt.group_id),{data:Ae}=await Ce.from("group_messages").select("group_id").eq("is_read",!1).neq("sender_id",U).in("group_id",Ge),ct={};Ae==null||Ae.forEach(tt=>{ct[tt.group_id]=(ct[tt.group_id]||0)+1});const{data:Xt}=await Ce.from("group_messages").select("group_id, text, created_at").in("group_id",Ge).order("created_at",{ascending:!1});qe=he.map(tt=>{const gt=tt.groups,Qt=Xt==null?void 0:Xt.find(rn=>rn.group_id===gt.id);return{id:gt.id,partnerId:gt.id,partnerName:gt.name,partnerAvatar:void 0,lastMessage:(Qt==null?void 0:Qt.text)||"No messages yet",lastMessageTime:(Qt==null?void 0:Qt.created_at)||gt.updated_at,unreadCount:ct[gt.id]||0,isGroup:!0}})}const et=[...$e,...qe].sort((Ge,Ae)=>Ge.partnerName.localeCompare(Ae.partnerName)),Qe=et.reduce((Ge,Ae)=>Ge+Ae.unreadCount,0);Qe>Me.current&&In(),Me.current=Qe,d(et)},Ne=async(U,ne=!1)=>{var be,De;if(U!==((be=Lt.current)==null?void 0:be.id))return;let K,B;if(ne){const $e=await Ce.from("group_messages").select("*").eq("group_id",U).order("created_at",{ascending:!0});K=$e.data,B=$e.error}else{const $e=await Ce.from("messages").select("*").eq("conversation_id",U).order("created_at",{ascending:!0});K=$e.data,B=$e.error}if(B)throw console.error("Error loading messages:",B),B;if(U!==((De=Lt.current)==null?void 0:De.id))return;const se=(K||[]).map($e=>({id:$e.id,senderId:$e.sender_id,text:$e.text,fileUrl:$e.file_url,fileType:$e.file_type,fileName:$e.file_name,timestamp:$e.created_at,isRead:$e.is_read||!1,replyToId:$e.reply_to_id,reactions:$e.reactions||{}}));y($e=>{const he=$e.filter(Qe=>Qe.isOptimistic),qe=new Set(se.map(Qe=>Qe.id)),et=he.filter(Qe=>!qe.has(Qe.id));return[...se,...et]});const ae=Fe.current;ae&&!ne&&Xe(U,ae.id)},Xe=async(U,ne)=>{await Ce.from("messages").update({is_read:!0}).eq("conversation_id",U).neq("sender_id",ne).eq("is_read",!1)},mt=U=>{p(U),d(ne=>ne.map(K=>K.id===U.id?{...K,unreadCount:0}:K)),Ne(U.id,U.isGroup),lt("chatWindow"),localStorage.setItem("chat_app_selected_chat",JSON.stringify(U)),o&&!U.isGroup&&Xe(U.id,o.id).then(()=>{Y(o.id)})},Pt=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(U){const ne=Math.random()*16|0;return(U==="x"?ne:ne&3|8).toString(16)}),nn=T.useCallback(async(U,ne,K,B,se)=>{if(!o||!h)return;const ae=Pt(),be={id:ae,senderId:o.id,text:U,fileUrl:ne,fileType:K,fileName:B,timestamp:new Date().toISOString(),isRead:!1,isOptimistic:!0,replyToId:se};y(De=>[...De,be]);try{let De,$e;if(h.isGroup){const he=await Ce.from("group_messages").insert({id:ae,group_id:h.id,sender_id:o.id,text:U,file_url:ne,file_type:K,file_name:B,reply_to_id:se}).select().single();De=he.data,$e=he.error}else{const he=await Ce.from("messages").insert({id:ae,conversation_id:h.id,sender_id:o.id,text:U,file_url:ne,file_type:K,file_name:B,reply_to_id:se}).select().single();De=he.data,$e=he.error}if($e)throw $e;De&&y(he=>he.map(qe=>qe.id===ae?{...qe,isOptimistic:!1}:qe))}catch(De){console.error("Error sending message:",De),y($e=>$e.filter(he=>he.id!==ae)),Ue.error("Failed to send message: "+(De.message||"Unknown error"))}},[o,h]),Pn=async U=>{if(!o||!h)return;const ne=Pt(),K=URL.createObjectURL(U),B={id:ne,senderId:o.id,text:" Voice Message",fileUrl:K,fileType:"audio",timestamp:new Date().toISOString(),isRead:!1};y(se=>[...se,B]);try{const se=U.type||"audio/webm",ae=se.includes("mp4")?"mp4":se.includes("aac")?"aac":"webm",be=`voice_${Date.now()}_${o.id}.${ae}`,{data:De,error:$e}=await Ce.storage.from("voice-messages").upload(be,U,{contentType:se,cacheControl:"3600"});if($e)throw $e;const{data:{publicUrl:he}}=Ce.storage.from("voice-messages").getPublicUrl(be);let qe;if(h.isGroup?qe=(await Ce.from("group_messages").insert({id:ne,group_id:h.id,sender_id:o.id,text:" Voice Message",file_url:he,file_type:"audio"})).error:qe=(await Ce.from("messages").insert({id:ne,conversation_id:h.id,sender_id:o.id,text:" Voice Message",file_url:he,file_type:"audio"})).error,qe)throw qe;y(et=>et.map(Qe=>Qe.id===ne?{...Qe,fileUrl:he}:Qe)),URL.revokeObjectURL(K)}catch(se){console.error("Error sending voice message:",se),y(ae=>ae.filter(be=>be.id!==ne)),Ue.error(`Voice send failed: ${se.message||"Unknown error"}`),URL.revokeObjectURL(K)}},Jr=async U=>{if(o)try{const{error:ne}=await Ce.from("messages").update({text:" This message was deleted",file_url:null,file_type:null,file_name:null}).eq("id",U).eq("sender_id",o.id);if(ne)throw ne;y(K=>K.map(B=>B.id===U?{...B,text:" This message was deleted",fileUrl:null,fileType:null,fileName:null}:B)),Ue.success("Message deleted")}catch(ne){console.error("Error deleting message:",ne),Ue.error("Failed to delete message")}},Gt=async(U,ne)=>{if(!o)return;const K=v.find(ae=>ae.id===U);if(!K)return;const B={...K.reactions||{}},se=(B[ne]||[]).includes(o.id);Object.keys(B).forEach(ae=>{B[ae]=(B[ae]||[]).filter(be=>be!==o.id),B[ae].length===0&&delete B[ae]}),se||(B[ne]=[...B[ne]||[],o.id]),y(ae=>ae.map(be=>be.id===U?{...be,reactions:B}:be));try{const ae=h!=null&&h.isGroup?"group_messages":"messages",{error:be}=await Ce.from(ae).update({reactions:B}).eq("id",U);if(be)throw be}catch(ae){console.error("Error reacting:",ae),h&&Ne(h.id,h.isGroup)}},Lt=T.useRef(null),xt=T.useRef(null),Fe=T.useRef(null),Jt=T.useRef(null);T.useEffect(()=>{Lt.current=h,xt.current=I},[h,I]),T.useEffect(()=>{Fe.current=o},[o]);const In=T.useCallback(()=>{oe.current&&re.current&&(re.current.currentTime=0,re.current.play().catch(U=>{console.log("Sound play failed:",U),U.name}))},[]);T.useEffect(()=>{if(!o)return;const U=Ce.channel("chat-realtime");Jt.current=U,U.on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},K=>{const B=K.new,se=Lt.current,ae=Fe.current;se&&B.conversation_id===se.id?(y(be=>be.some(De=>De.id===B.id)?be:[...be,{id:B.id,senderId:B.sender_id,text:B.text,fileUrl:B.file_url,fileType:B.file_type,fileName:B.file_name,timestamp:B.created_at,isRead:B.is_read||!1,replyToId:B.reply_to_id,reactions:B.reactions||{}}]),ae&&Xe(se.id,ae.id)):ae&&B.sender_id!==ae.id&&In(),ae&&Y(ae.id)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages"},K=>{const B=K.new,se=Lt.current;se&&B.conversation_id===se.id&&y(ae=>ae.map(be=>be.id===B.id?{...be,isRead:B.is_read,text:B.text,reactions:B.reactions||{}}:be))}).on("postgres_changes",{event:"*",schema:"public",table:"conversations"},()=>{Fe.current&&Y(Fe.current.id)}).on("postgres_changes",{event:"INSERT",schema:"public",table:"conversation_participants"},K=>{Fe.current&&(K.new.sender_id===Fe.current.id||K.new.receiver_id===Fe.current.id)&&Ie(Fe.current.id)}).on("broadcast",{event:"call-offer"},({payload:K})=>{const B=Fe.current;if(B&&K.recipientId===B.id){if(xt.current)return;J({id:K.id,callerId:K.callerId,callerName:K.callerName,recipientId:B.id,type:K.type,status:"ringing",offer:K.offer,iceCandidates:[]}),oe.current&&ye.current&&ye.current.play().catch(se=>console.error("Ringtone failed:",se))}}).on("broadcast",{event:"call-answer"},({payload:K})=>{var se;const B=Fe.current;B&&K.recipientId===B.id&&((se=xt.current)==null?void 0:se.id)===K.id&&J(ae=>ae?{...ae,answer:K.answer,status:"connected"}:null)}).on("broadcast",{event:"ice-candidate"},({payload:K})=>{var se;const B=Fe.current;B&&K.recipientId===B.id&&((se=xt.current)==null?void 0:se.id)===K.id&&J(ae=>ae?{...ae,iceCandidates:[...ae.iceCandidates||[],K.candidate]}:null)}).on("broadcast",{event:"call-ended"},({payload:K})=>{xt.current&&xt.current.id===K.id&&(J(null),ye.current&&(ye.current.pause(),ye.current.currentTime=0))}).on("presence",{event:"sync"},()=>{const K=U.presenceState(),B=new Set;Object.values(K).forEach(se=>{se.forEach(ae=>B.add(ae.user_id))}),E(B)}).on("broadcast",{event:"typing"},({payload:K})=>{const{user_id:B,conversation_id:se,is_typing:ae}=K,be=Lt.current,De=Fe.current;be&&se===be.id&&B!==(De==null?void 0:De.id)&&j($e=>({...$e,[B]:ae}))}).on("postgres_changes",{event:"*",schema:"public",table:"chat_requests"},K=>{if(Fe.current&&(Ie(Fe.current.id),K.eventType==="UPDATE")){const B=K.new;B.sender_id===Fe.current.id&&(B.status==="rejected"?(Ue.error("Your chat request was declined."),Ce.from("chat_requests").delete().eq("id",B.id).then()):B.status==="accepted"&&Y(Fe.current.id))}}).on("postgres_changes",{event:"INSERT",schema:"public",table:"group_messages"},K=>{const B=K.new,se=Lt.current,ae=Fe.current;if(se&&se.isGroup&&B.group_id===se.id){const be={id:B.id,senderId:B.sender_id,text:B.text,fileUrl:B.file_url,fileType:B.file_type,fileName:B.file_name,timestamp:B.created_at,isRead:!1,replyToId:B.reply_to_id,reactions:B.reactions||{}};y(De=>De.some($e=>$e.id===B.id)?De:[...De,be])}else ae&&B.sender_id!==ae.id&&In();ae&&Y(ae.id)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"group_messages"},K=>{const B=K.new,se=Lt.current;se&&se.isGroup&&B.group_id===se.id&&y(ae=>ae.map(be=>be.id===B.id?{...be,text:B.text,reactions:B.reactions||{}}:be))}).on("postgres_changes",{event:"INSERT",schema:"public",table:"group_members"},K=>{const B=K.new,se=Fe.current;se&&B.user_id===se.id&&(Y(se.id),Ue.info("You were added to a group"))}).subscribe(async K=>{K==="SUBSCRIBED"&&Fe.current&&await U.track({user_id:Fe.current.id,online_at:new Date().toISOString()})});const ne=BI(K=>{console.log("FCM Foreground Message:",K),In()});return()=>{U.unsubscribe(),ne()}},[o,In]),T.useEffect(()=>{if(!o)return;const U=setInterval(async()=>{if(!Le.current){Le.current=!0;try{await Y(o.id),He.current=0;const ne=Lt.current;ne&&await Ne(ne.id,ne.isGroup),await Ie(o.id)}catch(ne){He.current++,console.error("Polling error:",ne)}finally{Le.current=!1}}},1e3);return()=>clearInterval(U)},[o]);const As=U=>{!o||!h||Jt.current&&Jt.current.send({type:"broadcast",event:"typing",payload:{user_id:o.id,conversation_id:h.id,is_typing:U}})},lt=U=>{i(U),localStorage.setItem("chat_app_view",U),U!=="chatWindow"&&(localStorage.removeItem("chat_app_selected_chat"),p(null))},xr=async()=>{localStorage.clear(),await Ce.auth.signOut()},tr=async(U,ne,K)=>{try{const B=`${U.trim().toLowerCase()}@app.local`,{error:se}=await Ce.auth.signUp({email:B,password:K,options:{data:{username:U.trim().toLowerCase(),display_name:ne.trim(),pin:K}}});if(se){Ue.error(se.message);return}Ue.success("Account created successfully!"),lt("login")}catch(B){Ue.error(B.message||"Registration failed")}},nr=async(U,ne)=>{if(o)try{const{error:K}=await Ce.from("chat_requests").update({status:"accepted"}).eq("id",U);if(K)throw console.error("Step 1 (Update Request) failed:",K),K;const{data:B,error:se}=await Ce.from("conversations").insert({}).select().single();if(se)throw console.error("Step 2 (Create Conversation) failed:",se),se;const{error:ae}=await Ce.from("conversation_participants").insert([{conversation_id:B.id,user_id:o.id},{conversation_id:B.id,user_id:ne}]);if(ae)throw console.error("Step 3 (Add Participants) failed:",ae),ae;Ue.success("Request accepted!"),await Promise.all([Y(o.id),Ie(o.id)]);const{data:be,error:De}=await Ce.from("profiles").select("display_name").eq("id",ne).single();De&&console.warn("Could not fetch partner profile for auto-open:",De);const $e=(be==null?void 0:be.display_name)||"New Chat";console.log("Successfully accepting. Opening chat with:",$e),mt({id:B.id,partnerId:ne,partnerName:$e,lastMessage:"",lastMessageTime:new Date().toISOString(),unreadCount:0,isGroup:!1})}catch(K){console.error("Error accepting request:",K),Ue.error("Failed to accept request")}},Yt=async U=>{try{await Ce.from("chat_requests").update({status:"rejected"}).eq("id",U),Ue.success("Request dismissed"),o&&Ie(o.id)}catch(ne){Ue.error(ne.message||"Failed to reject request")}},mn=T.useCallback((U,ne,K)=>{if(Jt.current)Jt.current.send({type:"broadcast",event:ne,payload:{...K,recipientId:U}});else{const B=Ce.channel("chat-realtime");B.subscribe(se=>{se==="SUBSCRIBED"&&B.send({type:"broadcast",event:ne,payload:{...K,recipientId:U}})})}},[]),qn=async(U,ne,K)=>{if(!o)return;const se={id:Math.random().toString(36).substring(7),callerId:o.id,callerName:o.name||o.username,recipientId:U,type:K,status:"ringing"};J(se)},Rs=T.useCallback(()=>{var U;xt.current&&(mn(xt.current.recipientId,"call-ended",{id:xt.current.id}),((U=Fe.current)==null?void 0:U.id)===xt.current.recipientId&&mn(xt.current.callerId,"call-ended",{id:xt.current.id})),J(null),ye.current&&(ye.current.pause(),ye.current.currentTime=0)},[mn]);if($)return m.jsxs("div",{className:"w-full h-[100dvh] bg-[#111b21] flex flex-col items-center justify-center text-red-500 p-6 text-center",children:[m.jsx("p",{className:"text-xl font-bold mb-4",children:$}),m.jsxs("button",{onClick:()=>window.location.reload(),className:"flex items-center gap-2 text-[#00a884] hover:underline",children:[m.jsx(Xv,{className:"w-5 h-5"})," Retry"]})]});const Ps=T.useCallback(()=>{e(!1)},[]);return w?m.jsx("div",{className:"w-full h-[100dvh] bg-[#111b21] flex flex-col items-center justify-center",children:m.jsx(z0,{onFinish:()=>{}})}):m.jsxs("div",{className:"w-full h-[100dvh] bg-[#111b21] overflow-hidden",children:[m.jsx(CA,{position:"top-center",richColors:!0,theme:"dark"}),t?m.jsx(z0,{onFinish:Ps}):m.jsx("div",{className:"flex h-full w-full",children:o?m.jsxs("div",{className:"flex h-full w-full overflow-hidden",children:[m.jsx("div",{className:`${n!=="chatList"?"hidden md:flex":"flex"} w-full md:w-[400px] flex-shrink-0 border-r border-gray-800`,children:m.jsx(NA,{chats:c,currentUser:o,onlineUsers:S,pendingRequests:z,onAcceptRequest:nr,onRejectRequest:Yt,onSelectChat:(U,ne)=>{const K=c.find(B=>B.partnerId===U);K&&mt(K)},onNewChat:()=>lt("newChat"),onCreateGroup:()=>lt("createGroup"),onLogout:xr,typingUsers:_,onEnableNotifications:Oe,notificationsEnabled:Pe,onSettings:()=>lt("settings")})}),m.jsx("div",{className:`flex-1 flex flex-col min-w-0 ${n!=="chatList"?"flex":"hidden md:flex"}`,children:n==="chatWindow"&&h?m.jsx(IA,{currentUserId:o.id,partnerId:h.partnerId,partnerName:h.partnerName,partnerAvatar:h.partnerAvatar,messages:v,isPartnerOnline:S.has(h.partnerId),isPartnerTyping:_[h.partnerId]||!1,onBack:()=>lt("chatList"),onSendMessage:nn,onSendVoiceMessage:Pn,onDeleteMessage:Jr,onTyping:As,onRefresh:()=>Ne(h.id,h.isGroup),onReact:Gt,isGroup:h.isGroup,onStartCall:U=>qn(h.partnerId,h.partnerName,U)}):n==="requests"&&o?m.jsxs("div",{className:"flex-1 flex flex-col",children:[m.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center gap-4",children:[m.jsx("button",{onClick:()=>lt("chatList"),className:"text-gray-400 hover:text-white",children:m.jsx(Ts,{className:"w-5 h-5"})}),m.jsx("h2",{className:"text-white font-bold",children:"Chat Requests"})]}),m.jsx(LA,{requests:z,onAccept:nr,onReject:Yt})]}):n==="newChat"?m.jsx(DA,{onBack:()=>lt("chatList"),currentUserId:o.id}):n==="settings"&&o?m.jsx($A,{user:o,onBack:()=>lt("chatList"),onUpdateProfile:U=>l(U),onLogout:xr,notificationsEnabled:Pe,onEnableNotifications:Oe,micEnabled:te,onEnableMic:xe,soundEnabled:W,onToggleSound:U=>{Q(U),localStorage.setItem("chat_app_sound_enabled",String(U)),Ue.success(`Sound ${U?"enabled":"disabled"}`)},currentSoundId:C,notificationSounds:ee,onSelectSound:U=>{V(U)},onTestSound:In}):n==="createGroup"?m.jsx(MA,{onBack:()=>lt("chatList"),currentUserId:o.id}):m.jsxs("div",{className:"flex-1 bg-[#222e35] flex flex-col items-center justify-center p-8 text-center border-l border-gray-800/50",children:[m.jsx("div",{className:"w-48 h-48 mb-8 opacity-10 bg-[#00a884] rounded-full flex items-center justify-center",children:m.jsx(Dh,{className:"w-24 h-24 text-white"})}),m.jsx("h2",{className:"text-white text-3xl font-light mb-4",children:"WhatsApp Web Replica"}),m.jsx("p",{className:"text-gray-400 max-w-sm text-sm leading-relaxed opacity-60",children:"Send and receive messages without keeping your phone online."}),m.jsxs("div",{className:"mt-auto text-gray-600 text-[10px] flex items-center gap-1",children:[m.jsx(Rl,{className:"w-3 h-3"})," End-to-end encrypted"]})]})})]}):m.jsxs("div",{className:"w-full h-full",children:[n==="login"&&m.jsx(Vj,{initialStep:N,onLoginSuccess:()=>{Ce.auth.getUser().then(({data:{user:U}})=>{U&&Ye(U.id,!0)})},onNavigateToRegister:()=>lt("register")}),n==="register"&&m.jsx(Wj,{onRegister:tr,onBackToLogin:()=>lt("login")})]})}),I&&o&&m.jsx(OA,{callId:I.id,callerId:I.callerId,callerName:I.callerName,recipientId:I.recipientId,isIncoming:I.recipientId===o.id,type:I.type,onEndCall:Rs,currentUserId:o.id,sendSignaling:mn,incomingOffer:I.offer,remoteAnswer:I.answer,remoteIceCandidates:I.iceCandidates}),(()=>{const U=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,ne=window.matchMedia("(display-mode: standalone)").matches||navigator.standalone;return U&&!ne?m.jsx("div",{className:"fixed bottom-0 left-0 w-full p-4 z-[9999]",children:m.jsx("div",{className:"bg-[#1f2c33] border border-[#00a884]/30 rounded-2xl p-4 shadow-2xl backdrop-blur-xl",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("div",{className:"w-10 h-10 bg-[#00a884] rounded-xl flex items-center justify-center flex-shrink-0",children:m.jsx("img",{src:"icon.png",className:"w-6 h-6 object-contain",alt:"App Icon"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"text-white font-semibold text-xs mb-1",children:"    "}),m.jsxs("p",{className:"text-gray-400 text-[10px] leading-relaxed",children:["   :   ",m.jsx("span",{className:"inline-block px-1 bg-white/10 rounded",children:"Share"}),"  ",m.jsx("span",{className:"inline-block px-1 bg-white/10 rounded",children:"Add to Home Screen"}),"."]})]})]})})}):null})()]})}A1.createRoot(document.getElementById("root")).render(m.jsx(FI,{}));
